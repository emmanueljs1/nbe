<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Emmanuel SuÃ¡rez Acevedo" />
  <title>Normalization by Evaluation</title>
  <style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}

div.csl-bib-body { }
div.csl-entry {
clear: both;
}
.hanging-indent div.csl-entry {
margin-left:2em;
text-indent:-2em;
}
div.csl-left-margin {
min-width:2em;
float:left;
}
div.csl-right-inline {
margin-left:2em;
padding-left:1em;
}
div.csl-indent {
margin-left: 2em;
} </style>
  <style type="text/css">:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent}@-ms-viewport{width:device-width}article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus{outline:0!important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}abbr[data-original-title],abbr[title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;border-bottom:0}address{margin-bottom:1rem;font-style:normal;line-height:inherit}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}dfn{font-style:italic}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent;-webkit-text-decoration-skip:objects}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([tabindex]){color:inherit;text-decoration:none}a:not([href]):not([tabindex]):focus,a:not([href]):not([tabindex]):hover{color:inherit;text-decoration:none}a:not([href]):not([tabindex]):focus{outline:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar}figure{margin:0 0 1rem}img{vertical-align:middle;border-style:none}svg:not(:root){overflow:hidden}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=date],input[type=datetime-local],input[type=month],input[type=time]{-webkit-appearance:listbox}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-family:inherit;font-weight:500;line-height:1.2;color:inherit}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}.small,small{font-size:80%;font-weight:400}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:90%;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote-footer{display:block;font-size:80%;color:#6c757d}.blockquote-footer::before{content:"\2014 \00A0"}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:90%;color:#6c757d}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}code{font-size:87.5%;color:#e83e8c;word-break:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:87.5%;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:100%;font-weight:700}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.pre-scrollable{max-height:340px;overflow-y:scroll}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{max-width:1140px}}.container-fluid{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-auto,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-auto,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-auto,.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-auto{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media (min-width:576px){.col-sm{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-sm-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-sm-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-sm-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-sm-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-sm-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-sm-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-sm-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-sm-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-sm-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-sm-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-sm-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-sm-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-sm-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-sm-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-sm-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-sm-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-sm-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-sm-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-sm-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-sm-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-sm-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-sm-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-sm-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-sm-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-sm-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-sm-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-sm-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-sm-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.333333%}.offset-sm-2{margin-left:16.666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.333333%}.offset-sm-5{margin-left:41.666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.333333%}.offset-sm-8{margin-left:66.666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.333333%}.offset-sm-11{margin-left:91.666667%}}@media (min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-md-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-md-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-md-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-md-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-md-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-md-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-md-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-md-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-md-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-md-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-md-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-md-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-md-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-md-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-md-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media (min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-lg-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-lg-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-lg-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-lg-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-lg-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-lg-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-lg-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-lg-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-lg-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-lg-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-lg-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-lg-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-lg-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-lg-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-lg-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}@media (min-width:1200px){.col-xl{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-xl-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-xl-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-xl-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-xl-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-xl-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-xl-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-xl-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-xl-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-xl-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-xl-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-xl-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-xl-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-xl-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-xl-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-xl-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-xl-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-xl-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-xl-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-xl-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-xl-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-xl-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-xl-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-xl-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-xl-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-xl-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-xl-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-xl-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.333333%}.offset-xl-2{margin-left:16.666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.333333%}.offset-xl-5{margin-left:41.666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.333333%}.offset-xl-8{margin-left:66.666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.333333%}.offset-xl-11{margin-left:91.666667%}}.table{width:100%;max-width:100%;margin-bottom:1rem;background-color:transparent}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table .table{background-color:#fff}.table-sm td,.table-sm th{padding:.3rem}.table-bordered{border:1px solid #dee2e6}.table-bordered td,.table-bordered th{border:1px solid #dee2e6}.table-bordered thead td,.table-bordered thead th{border-bottom-width:2px}.table-striped tbody tr:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.table-hover tbody tr:hover{background-color:rgba(0,0,0,.075)}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-hover .table-primary:hover{background-color:#9fcdff}.table-hover .table-primary:hover>td,.table-hover .table-primary:hover>th{background-color:#9fcdff}.table-secondary,.table-secondary>td,.table-secondary>th{background-color:#d6d8db}.table-hover .table-secondary:hover{background-color:#c8cbcf}.table-hover .table-secondary:hover>td,.table-hover .table-secondary:hover>th{background-color:#c8cbcf}.table-success,.table-success>td,.table-success>th{background-color:#c3e6cb}.table-hover .table-success:hover{background-color:#b1dfbb}.table-hover .table-success:hover>td,.table-hover .table-success:hover>th{background-color:#b1dfbb}.table-info,.table-info>td,.table-info>th{background-color:#bee5eb}.table-hover .table-info:hover{background-color:#abdde5}.table-hover .table-info:hover>td,.table-hover .table-info:hover>th{background-color:#abdde5}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-hover .table-warning:hover{background-color:#ffe8a1}.table-hover .table-warning:hover>td,.table-hover .table-warning:hover>th{background-color:#ffe8a1}.table-danger,.table-danger>td,.table-danger>th{background-color:#f5c6cb}.table-hover .table-danger:hover{background-color:#f1b0b7}.table-hover .table-danger:hover>td,.table-hover .table-danger:hover>th{background-color:#f1b0b7}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-hover .table-light:hover{background-color:#ececf6}.table-hover .table-light:hover>td,.table-hover .table-light:hover>th{background-color:#ececf6}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-hover .table-dark:hover{background-color:#b9bbbe}.table-hover .table-dark:hover>td,.table-hover .table-dark:hover>th{background-color:#b9bbbe}.table-active,.table-active>td,.table-active>th{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover>td,.table-hover .table-active:hover>th{background-color:rgba(0,0,0,.075)}.table .thead-dark th{color:#fff;background-color:#212529;border-color:#32383e}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#212529}.table-dark td,.table-dark th,.table-dark thead th{border-color:#32383e}.table-dark.table-bordered{border:0}.table-dark.table-striped tbody tr:nth-of-type(odd){background-color:rgba(255,255,255,.05)}.table-dark.table-hover tbody tr:hover{background-color:rgba(255,255,255,.075)}@media (max-width:575.98px){.table-responsive-sm{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table-responsive-sm>.table-bordered{border:0}}@media (max-width:767.98px){.table-responsive-md{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table-responsive-md>.table-bordered{border:0}}@media (max-width:991.98px){.table-responsive-lg{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table-responsive-lg>.table-bordered{border:0}}@media (max-width:1199.98px){.table-responsive-xl{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table-responsive-xl>.table-bordered{border:0}}.table-responsive{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table-responsive>.table-bordered{border:0}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control::-ms-expand{background-color:transparent;border:0}.form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.form-control::-webkit-input-placeholder{color:#6c757d;opacity:1}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control:-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}select.form-control:not([size]):not([multiple]){height:calc(2.25rem + 2px)}select.form-control:focus::-ms-value{color:#495057;background-color:#fff}.form-control-file,.form-control-range{display:block;width:100%}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem;line-height:1.5}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem;line-height:1.5}.form-control-plaintext{display:block;width:100%;padding-top:.375rem;padding-bottom:.375rem;margin-bottom:0;line-height:1.5;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm,.input-group-lg>.form-control-plaintext.form-control,.input-group-lg>.input-group-append>.form-control-plaintext.btn,.input-group-lg>.input-group-append>.form-control-plaintext.input-group-text,.input-group-lg>.input-group-prepend>.form-control-plaintext.btn,.input-group-lg>.input-group-prepend>.form-control-plaintext.input-group-text,.input-group-sm>.form-control-plaintext.form-control,.input-group-sm>.input-group-append>.form-control-plaintext.btn,.input-group-sm>.input-group-append>.form-control-plaintext.input-group-text,.input-group-sm>.input-group-prepend>.form-control-plaintext.btn,.input-group-sm>.input-group-prepend>.form-control-plaintext.input-group-text{padding-right:0;padding-left:0}.form-control-sm,.input-group-sm>.form-control,.input-group-sm>.input-group-append>.btn,.input-group-sm>.input-group-append>.input-group-text,.input-group-sm>.input-group-prepend>.btn,.input-group-sm>.input-group-prepend>.input-group-text{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.input-group-sm>.input-group-append>select.btn:not([size]):not([multiple]),.input-group-sm>.input-group-append>select.input-group-text:not([size]):not([multiple]),.input-group-sm>.input-group-prepend>select.btn:not([size]):not([multiple]),.input-group-sm>.input-group-prepend>select.input-group-text:not([size]):not([multiple]),.input-group-sm>select.form-control:not([size]):not([multiple]),select.form-control-sm:not([size]):not([multiple]){height:calc(1.8125rem + 2px)}.form-control-lg,.input-group-lg>.form-control,.input-group-lg>.input-group-append>.btn,.input-group-lg>.input-group-append>.input-group-text,.input-group-lg>.input-group-prepend>.btn,.input-group-lg>.input-group-prepend>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-lg>.input-group-append>select.btn:not([size]):not([multiple]),.input-group-lg>.input-group-append>select.input-group-text:not([size]):not([multiple]),.input-group-lg>.input-group-prepend>select.btn:not([size]):not([multiple]),.input-group-lg>.input-group-prepend>select.input-group-text:not([size]):not([multiple]),.input-group-lg>select.form-control:not([size]):not([multiple]),select.form-control-lg:not([size]):not([multiple]){height:calc(2.875rem + 2px)}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem}.form-check-input:disabled~.form-check-label{color:#6c757d}.form-check-label{margin-bottom:0}.form-check-inline{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#28a745}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.5rem;margin-top:.1rem;font-size:.875rem;line-height:1;color:#fff;background-color:rgba(40,167,69,.8);border-radius:.2rem}.custom-select.is-valid,.form-control.is-valid,.was-validated .custom-select:valid,.was-validated .form-control:valid{border-color:#28a745}.custom-select.is-valid:focus,.form-control.is-valid:focus,.was-validated .custom-select:valid:focus,.was-validated .form-control:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-select.is-valid~.valid-feedback,.custom-select.is-valid~.valid-tooltip,.form-control.is-valid~.valid-feedback,.form-control.is-valid~.valid-tooltip,.was-validated .custom-select:valid~.valid-feedback,.was-validated .custom-select:valid~.valid-tooltip,.was-validated .form-control:valid~.valid-feedback,.was-validated .form-control:valid~.valid-tooltip{display:block}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#28a745}.form-check-input.is-valid~.valid-feedback,.form-check-input.is-valid~.valid-tooltip,.was-validated .form-check-input:valid~.valid-feedback,.was-validated .form-check-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid~.custom-control-label,.was-validated .custom-control-input:valid~.custom-control-label{color:#28a745}.custom-control-input.is-valid~.custom-control-label::before,.was-validated .custom-control-input:valid~.custom-control-label::before{background-color:#71dd8a}.custom-control-input.is-valid~.valid-feedback,.custom-control-input.is-valid~.valid-tooltip,.was-validated .custom-control-input:valid~.valid-feedback,.was-validated .custom-control-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid:checked~.custom-control-label::before,.was-validated .custom-control-input:valid:checked~.custom-control-label::before{background-color:#34ce57}.custom-control-input.is-valid:focus~.custom-control-label::before,.was-validated .custom-control-input:valid:focus~.custom-control-label::before{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(40,167,69,.25)}.custom-file-input.is-valid~.custom-file-label,.was-validated .custom-file-input:valid~.custom-file-label{border-color:#28a745}.custom-file-input.is-valid~.custom-file-label::before,.was-validated .custom-file-input:valid~.custom-file-label::before{border-color:inherit}.custom-file-input.is-valid~.valid-feedback,.custom-file-input.is-valid~.valid-tooltip,.was-validated .custom-file-input:valid~.valid-feedback,.was-validated .custom-file-input:valid~.valid-tooltip{display:block}.custom-file-input.is-valid:focus~.custom-file-label,.was-validated .custom-file-input:valid:focus~.custom-file-label{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.5rem;margin-top:.1rem;font-size:.875rem;line-height:1;color:#fff;background-color:rgba(220,53,69,.8);border-radius:.2rem}.custom-select.is-invalid,.form-control.is-invalid,.was-validated .custom-select:invalid,.was-validated .form-control:invalid{border-color:#dc3545}.custom-select.is-invalid:focus,.form-control.is-invalid:focus,.was-validated .custom-select:invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-select.is-invalid~.invalid-feedback,.custom-select.is-invalid~.invalid-tooltip,.form-control.is-invalid~.invalid-feedback,.form-control.is-invalid~.invalid-tooltip,.was-validated .custom-select:invalid~.invalid-feedback,.was-validated .custom-select:invalid~.invalid-tooltip,.was-validated .form-control:invalid~.invalid-feedback,.was-validated .form-control:invalid~.invalid-tooltip{display:block}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-input.is-invalid~.invalid-feedback,.form-check-input.is-invalid~.invalid-tooltip,.was-validated .form-check-input:invalid~.invalid-feedback,.was-validated .form-check-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid~.custom-control-label,.was-validated .custom-control-input:invalid~.custom-control-label{color:#dc3545}.custom-control-input.is-invalid~.custom-control-label::before,.was-validated .custom-control-input:invalid~.custom-control-label::before{background-color:#efa2a9}.custom-control-input.is-invalid~.invalid-feedback,.custom-control-input.is-invalid~.invalid-tooltip,.was-validated .custom-control-input:invalid~.invalid-feedback,.was-validated .custom-control-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid:checked~.custom-control-label::before,.was-validated .custom-control-input:invalid:checked~.custom-control-label::before{background-color:#e4606d}.custom-control-input.is-invalid:focus~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus~.custom-control-label::before{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(220,53,69,.25)}.custom-file-input.is-invalid~.custom-file-label,.was-validated .custom-file-input:invalid~.custom-file-label{border-color:#dc3545}.custom-file-input.is-invalid~.custom-file-label::before,.was-validated .custom-file-input:invalid~.custom-file-label::before{border-color:inherit}.custom-file-input.is-invalid~.invalid-feedback,.custom-file-input.is-invalid~.invalid-tooltip,.was-validated .custom-file-input:invalid~.invalid-feedback,.was-validated .custom-file-input:invalid~.invalid-tooltip{display:block}.custom-file-input.is-invalid:focus~.custom-file-label,.was-validated .custom-file-input:invalid:focus~.custom-file-label{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-inline{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.form-inline .form-check{width:100%}@media (min-width:576px){.form-inline label{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:0}.form-inline .form-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:0}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-plaintext{display:inline-block}.form-inline .input-group{width:auto}.form-inline .form-check{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;margin-top:0;margin-right:.25rem;margin-left:0}.form-inline .custom-control{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.form-inline .custom-control-label{margin-bottom:0}}.btn{display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.btn:focus,.btn:hover{text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn.disabled,.btn:disabled{opacity:.65}.btn:not(:disabled):not(.disabled){cursor:pointer}.btn:not(:disabled):not(.disabled).active,.btn:not(:disabled):not(.disabled):active{background-image:none}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary.focus,.btn-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:not(:disabled):not(.disabled).active,.btn-primary:not(:disabled):not(.disabled):active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0062cc;border-color:#005cbf}.btn-primary:not(:disabled):not(.disabled).active:focus,.btn-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn-secondary.focus,.btn-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:not(:disabled):not(.disabled).active,.btn-secondary:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#545b62;border-color:#4e555b}.btn-secondary:not(:disabled):not(.disabled).active:focus,.btn-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.btn-success.focus,.btn-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#1e7e34;border-color:#1c7430}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info.focus,.btn-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-info.disabled,.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{color:#fff;background-color:#117a8b;border-color:#10707f}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning.focus,.btn-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{color:#212529;background-color:#d39e00;border-color:#c69500}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-danger.focus,.btn-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:not(:disabled):not(.disabled).active,.btn-danger:not(:disabled):not(.disabled):active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#bd2130;border-color:#b21f2d}.btn-danger:not(:disabled):not(.disabled).active:focus,.btn-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light.focus,.btn-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-light.disabled,.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:not(:disabled):not(.disabled).active,.btn-light:not(:disabled):not(.disabled):active,.show>.btn-light.dropdown-toggle{color:#212529;background-color:#dae0e5;border-color:#d3d9df}.btn-light:not(:disabled):not(.disabled).active:focus,.btn-light:not(:disabled):not(.disabled):active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark.focus,.btn-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:not(:disabled):not(.disabled).active,.btn-dark:not(:disabled):not(.disabled):active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1d2124;border-color:#171a1d}.btn-dark:not(:disabled):not(.disabled).active:focus,.btn-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-primary{color:#007bff;background-color:transparent;background-image:none;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-secondary{color:#6c757d;background-color:transparent;background-image:none;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;background-color:transparent;background-image:none;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:transparent}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;background-color:transparent;background-image:none;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;background-color:transparent;background-image:none;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;background-color:transparent;background-image:none;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;background-color:transparent;background-image:none;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;background-color:transparent;background-image:none;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-link{font-weight:400;color:#007bff;background-color:transparent}.btn-link:hover{color:#0056b3;text-decoration:underline;background-color:transparent;border-color:transparent}.btn-link.focus,.btn-link:focus{text-decoration:underline;border-color:transparent;box-shadow:none}.btn-link.disabled,.btn-link:disabled{color:#6c757d}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{opacity:0;transition:opacity .15s linear}.fade.show{opacity:1}.collapse{display:none}.collapse.show{display:block}tr.collapse.show{display:table-row}tbody.collapse.show{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}.dropdown,.dropup{position:relative}.dropdown-toggle::after{display:inline-block;width:0;height:0;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropup .dropdown-menu{margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle::after{display:inline-block;width:0;height:0;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-menu{margin-top:0;margin-left:.125rem}.dropright .dropdown-toggle::after{display:inline-block;width:0;height:0;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-bottom:.3em solid transparent;border-left:.3em solid}.dropright .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-toggle::after{vertical-align:0}.dropleft .dropdown-menu{margin-top:0;margin-right:.125rem}.dropleft .dropdown-toggle::after{display:inline-block;width:0;height:0;margin-left:.255em;vertical-align:.255em;content:""}.dropleft .dropdown-toggle::after{display:none}.dropleft .dropdown-toggle::before{display:inline-block;width:0;height:0;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropleft .dropdown-toggle:empty::after{margin-left:0}.dropleft .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#f8f9fa}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#6c757d;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1.5rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.btn-group,.btn-group-vertical{position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group,.btn-group-vertical .btn+.btn,.btn-group-vertical .btn+.btn-group,.btn-group-vertical .btn-group+.btn,.btn-group-vertical .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn:first-child{margin-left:0}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after{margin-left:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.btn-group-vertical .btn,.btn-group-vertical .btn-group{width:100%}.btn-group-vertical>.btn+.btn,.btn-group-vertical>.btn+.btn-group,.btn-group-vertical>.btn-group+.btn,.btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.btn-group-toggle>.btn,.btn-group-toggle>.btn-group>.btn{margin-bottom:0}.btn-group-toggle>.btn input[type=checkbox],.btn-group-toggle>.btn input[type=radio],.btn-group-toggle>.btn-group>.btn input[type=checkbox],.btn-group-toggle>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select,.input-group>.form-control{position:relative;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:1%;margin-bottom:0}.input-group>.custom-file:focus,.input-group>.custom-select:focus,.input-group>.form-control:focus{z-index:3}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-file+.form-control,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select,.input-group>.custom-select+.form-control,.input-group>.form-control+.custom-file,.input-group>.form-control+.custom-select,.input-group>.form-control+.form-control{margin-left:-1px}.input-group>.custom-select:not(:last-child),.input-group>.form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-select:not(:first-child),.input-group>.form-control:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.input-group>.custom-file:not(:last-child) .custom-file-label,.input-group>.custom-file:not(:last-child) .custom-file-label::before{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-file:not(:first-child) .custom-file-label,.input-group>.custom-file:not(:first-child) .custom-file-label::before{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-append,.input-group-prepend{display:-webkit-box;display:-ms-flexbox;display:flex}.input-group-append .btn,.input-group-prepend .btn{position:relative;z-index:2}.input-group-append .btn+.btn,.input-group-append .btn+.input-group-text,.input-group-append .input-group-text+.btn,.input-group-append .input-group-text+.input-group-text,.input-group-prepend .btn+.btn,.input-group-prepend .btn+.input-group-text,.input-group-prepend .input-group-text+.btn,.input-group-prepend .input-group-text+.input-group-text{margin-left:-1px}.input-group-prepend{margin-right:-1px}.input-group-append{margin-left:-1px}.input-group-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group>.input-group-append:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group>.input-group-append:last-child>.input-group-text:not(:last-child),.input-group>.input-group-append:not(:last-child)>.btn,.input-group>.input-group-append:not(:last-child)>.input-group-text,.input-group>.input-group-prepend>.btn,.input-group>.input-group-prepend>.input-group-text{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn,.input-group>.input-group-append>.input-group-text,.input-group>.input-group-prepend:first-child>.btn:not(:first-child),.input-group>.input-group-prepend:first-child>.input-group-text:not(:first-child),.input-group>.input-group-prepend:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.input-group-text{border-top-left-radius:0;border-bottom-left-radius:0}.custom-control{position:relative;display:block;min-height:1.5rem;padding-left:1.5rem}.custom-control-inline{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;margin-right:1rem}.custom-control-input{position:absolute;z-index:-1;opacity:0}.custom-control-input:checked~.custom-control-label::before{color:#fff;background-color:#007bff}.custom-control-input:focus~.custom-control-label::before{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-control-input:active~.custom-control-label::before{color:#fff;background-color:#b3d7ff}.custom-control-input:disabled~.custom-control-label{color:#6c757d}.custom-control-input:disabled~.custom-control-label::before{background-color:#e9ecef}.custom-control-label{margin-bottom:0}.custom-control-label::before{position:absolute;top:.25rem;left:0;display:block;width:1rem;height:1rem;pointer-events:none;content:"";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#dee2e6}.custom-control-label::after{position:absolute;top:.25rem;left:0;display:block;width:1rem;height:1rem;content:"";background-repeat:no-repeat;background-position:center center;background-size:50% 50%}.custom-checkbox .custom-control-label::before{border-radius:.25rem}.custom-checkbox .custom-control-input:checked~.custom-control-label::before{background-color:#007bff}.custom-checkbox .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3E%3C/svg%3E")}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::before{background-color:#007bff}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::after{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 4'%3E%3Cpath stroke='%23fff' d='M0 2h4'/%3E%3C/svg%3E")}.custom-checkbox .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-checkbox .custom-control-input:disabled:indeterminate~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-radio .custom-control-label::before{border-radius:50%}.custom-radio .custom-control-input:checked~.custom-control-label::before{background-color:#007bff}.custom-radio .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3E%3Ccircle r='3' fill='%23fff'/%3E%3C/svg%3E")}.custom-radio .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-select{display:inline-block;width:100%;height:calc(2.25rem + 2px);padding:.375rem 1.75rem .375rem .75rem;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3E%3Cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E") no-repeat right .75rem center;background-size:8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:inset 0 1px 2px rgba(0,0,0,.075),0 0 5px rgba(128,189,255,.5)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{opacity:0}.custom-select-sm{height:calc(1.8125rem + 2px);padding-top:.375rem;padding-bottom:.375rem;font-size:75%}.custom-select-lg{height:calc(2.875rem + 2px);padding-top:.375rem;padding-bottom:.375rem;font-size:125%}.custom-file{position:relative;display:inline-block;width:100%;height:calc(2.25rem + 2px);margin-bottom:0}.custom-file-input{position:relative;z-index:2;width:100%;height:calc(2.25rem + 2px);margin:0;opacity:0}.custom-file-input:focus~.custom-file-control{border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-file-input:focus~.custom-file-control::before{border-color:#80bdff}.custom-file-input:lang(en)~.custom-file-label::after{content:"Browse"}.custom-file-label{position:absolute;top:0;right:0;left:0;z-index:1;height:calc(2.25rem + 2px);padding:.375rem .75rem;line-height:1.5;color:#495057;background-color:#fff;border:1px solid #ced4da;border-radius:.25rem}.custom-file-label::after{position:absolute;top:0;right:0;bottom:0;z-index:3;display:block;height:calc(calc(2.25rem + 2px) - 1px * 2);padding:.375rem .75rem;line-height:1.5;color:#495057;content:"Browse";background-color:#e9ecef;border-left:1px solid #ced4da;border-radius:0 .25rem .25rem 0}.nav{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.nav-link.disabled{color:#6c757d}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-item{margin-bottom:-1px}.nav-tabs .nav-link{border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{border-color:#e9ecef #e9ecef #dee2e6}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#007bff}.nav-fill .nav-item{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center}.nav-justified .nav-item{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:center}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:.5rem 1rem}.navbar>.container,.navbar>.container-fluid{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-text{display:inline-block;padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler:not(:disabled):not(.disabled){cursor:pointer}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:"";background:no-repeat center center;background-size:100% 100%}@media (max-width:575.98px){.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:576px){.navbar-expand-sm{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-sm .navbar-nav{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .dropdown-menu-right{right:0;left:auto}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-sm .navbar-collapse{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}.navbar-expand-sm .dropup .dropdown-menu{top:auto;bottom:100%}}@media (max-width:767.98px){.navbar-expand-md>.container,.navbar-expand-md>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:768px){.navbar-expand-md{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-md .navbar-nav{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .dropdown-menu-right{right:0;left:auto}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container,.navbar-expand-md>.container-fluid{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-md .navbar-collapse{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}.navbar-expand-md .dropup .dropdown-menu{top:auto;bottom:100%}}@media (max-width:991.98px){.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:992px){.navbar-expand-lg{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-lg .navbar-nav{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .dropdown-menu-right{right:0;left:auto}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-lg .navbar-collapse{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .dropup .dropdown-menu{top:auto;bottom:100%}}@media (max-width:1199.98px){.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:1200px){.navbar-expand-xl{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-xl .navbar-nav{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .dropdown-menu-right{right:0;left:auto}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-xl .navbar-collapse{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}.navbar-expand-xl .dropup .dropdown-menu{top:auto;bottom:100%}}.navbar-expand{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand>.container,.navbar-expand>.container-fluid{padding-right:0;padding-left:0}.navbar-expand .navbar-nav{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .dropdown-menu-right{right:0;left:auto}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand>.container,.navbar-expand>.container-fluid{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand .navbar-collapse{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-expand .dropup .dropdown-menu{top:auto;bottom:100%}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .active>.nav-link,.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .nav-link.show,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(0, 0, 0, 0.5)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E")}.navbar-light .navbar-text{color:rgba(0,0,0,.5)}.navbar-light .navbar-text a{color:rgba(0,0,0,.9)}.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.5)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .active>.nav-link,.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .nav-link.show,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.5);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(255, 255, 255, 0.5)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E")}.navbar-dark .navbar-text{color:rgba(255,255,255,.5)}.navbar-dark .navbar-text a{color:#fff}.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>hr{margin-right:0;margin-left:0}.card>.list-group:first-child .list-group-item:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.card>.list-group:last-child .list-group-item:last-child{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.card-body{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding:1.25rem}.card-title{margin-bottom:.75rem}.card-subtitle{margin-top:-.375rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-header+.list-group .list-group-item:first-child{border-top:0}.card-footer{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-right:-.625rem;margin-bottom:-.75rem;margin-left:-.625rem;border-bottom:0}.card-header-pills{margin-right:-.625rem;margin-left:-.625rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem}.card-img{width:100%;border-radius:calc(.25rem - 1px)}.card-img-top{width:100%;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img-bottom{width:100%;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-deck{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.card-deck .card{margin-bottom:15px}@media (min-width:576px){.card-deck{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck .card{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 0 0%;flex:1 0 0%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-right:15px;margin-bottom:0;margin-left:15px}}.card-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.card-group>.card{margin-bottom:15px}@media (min-width:576px){.card-group{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap}.card-group>.card{-webkit-box-flex:1;-ms-flex:1 0 0%;flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:first-child .card-header,.card-group>.card:first-child .card-img-top{border-top-right-radius:0}.card-group>.card:first-child .card-footer,.card-group>.card:first-child .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:last-child .card-header,.card-group>.card:last-child .card-img-top{border-top-left-radius:0}.card-group>.card:last-child .card-footer,.card-group>.card:last-child .card-img-bottom{border-bottom-left-radius:0}.card-group>.card:only-child{border-radius:.25rem}.card-group>.card:only-child .card-header,.card-group>.card:only-child .card-img-top{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.card-group>.card:only-child .card-footer,.card-group>.card:only-child .card-img-bottom{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.card-group>.card:not(:first-child):not(:last-child):not(:only-child){border-radius:0}.card-group>.card:not(:first-child):not(:last-child):not(:only-child) .card-footer,.card-group>.card:not(:first-child):not(:last-child):not(:only-child) .card-header,.card-group>.card:not(:first-child):not(:last-child):not(:only-child) .card-img-bottom,.card-group>.card:not(:first-child):not(:last-child):not(:only-child) .card-img-top{border-radius:0}}.card-columns .card{margin-bottom:.75rem}@media (min-width:576px){.card-columns{-webkit-column-count:3;-moz-column-count:3;column-count:3;-webkit-column-gap:1.25rem;-moz-column-gap:1.25rem;column-gap:1.25rem}.card-columns .card{display:inline-block;width:100%}}.breadcrumb{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:#e9ecef;border-radius:.25rem}.breadcrumb-item+.breadcrumb-item::before{display:inline-block;padding-right:.5rem;padding-left:.5rem;color:#6c757d;content:"/"}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:underline}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:none}.breadcrumb-item.active{color:#6c757d}.pagination{display:-webkit-box;display:-ms-flexbox;display:flex;padding-left:0;list-style:none;border-radius:.25rem}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:2;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.page-link:not(:disabled):not(.disabled){cursor:pointer}.page-item:first-child .page-link{margin-left:0;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.page-item.active .page-link{z-index:1;color:#fff;background-color:#007bff;border-color:#007bff}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;cursor:auto;background-color:#fff;border-color:#dee2e6}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem;line-height:1.5}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem;line-height:1.5}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}.badge-primary[href]:focus,.badge-primary[href]:hover{color:#fff;text-decoration:none;background-color:#0062cc}.badge-secondary{color:#fff;background-color:#6c757d}.badge-secondary[href]:focus,.badge-secondary[href]:hover{color:#fff;text-decoration:none;background-color:#545b62}.badge-success{color:#fff;background-color:#28a745}.badge-success[href]:focus,.badge-success[href]:hover{color:#fff;text-decoration:none;background-color:#1e7e34}.badge-info{color:#fff;background-color:#17a2b8}.badge-info[href]:focus,.badge-info[href]:hover{color:#fff;text-decoration:none;background-color:#117a8b}.badge-warning{color:#212529;background-color:#ffc107}.badge-warning[href]:focus,.badge-warning[href]:hover{color:#212529;text-decoration:none;background-color:#d39e00}.badge-danger{color:#fff;background-color:#dc3545}.badge-danger[href]:focus,.badge-danger[href]:hover{color:#fff;text-decoration:none;background-color:#bd2130}.badge-light{color:#212529;background-color:#f8f9fa}.badge-light[href]:focus,.badge-light[href]:hover{color:#212529;text-decoration:none;background-color:#dae0e5}.badge-dark{color:#fff;background-color:#343a40}.badge-dark[href]:focus,.badge-dark[href]:hover{color:#fff;text-decoration:none;background-color:#1d2124}.jumbotron{padding:2rem 1rem;margin-bottom:2rem;background-color:#e9ecef;border-radius:.3rem}@media (min-width:576px){.jumbotron{padding:4rem 2rem}}.jumbotron-fluid{padding-right:0;padding-left:0;border-radius:0}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:4rem}.alert-dismissible .close{position:absolute;top:0;right:0;padding:.75rem 1.25rem;color:inherit}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary hr{border-top-color:#9fcdff}.alert-primary .alert-link{color:#002752}.alert-secondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.alert-secondary hr{border-top-color:#c8cbcf}.alert-secondary .alert-link{color:#202326}.alert-success{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-success hr{border-top-color:#b1dfbb}.alert-success .alert-link{color:#0b2e13}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info hr{border-top-color:#abdde5}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning hr{border-top-color:#ffe8a1}.alert-warning .alert-link{color:#533f03}.alert-danger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-danger hr{border-top-color:#f1b0b7}.alert-danger .alert-link{color:#491217}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light hr{border-top-color:#ececf6}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark hr{border-top-color:#b9bbbe}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.progress{display:-webkit-box;display:-ms-flexbox;display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#fff;text-align:center;background-color:#007bff;transition:width .6s ease}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:progress-bar-stripes 1s linear infinite;animation:progress-bar-stripes 1s linear infinite}.media{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.media-body{-webkit-box-flex:1;-ms-flex:1;flex:1}.list-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.75rem 1.25rem;margin-bottom:-1px;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.list-group-item:focus,.list-group-item:hover{z-index:1;text-decoration:none}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#007bff;border-color:#007bff}.list-group-flush .list-group-item{border-right:0;border-left:0;border-radius:0}.list-group-flush:first-child .list-group-item:first-child{border-top:0}.list-group-flush:last-child .list-group-item:last-child{border-bottom:0}.list-group-item-primary{color:#004085;background-color:#b8daff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#004085;background-color:#9fcdff}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#004085;border-color:#004085}.list-group-item-secondary{color:#383d41;background-color:#d6d8db}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#383d41;background-color:#c8cbcf}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#383d41;border-color:#383d41}.list-group-item-success{color:#155724;background-color:#c3e6cb}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#155724;background-color:#b1dfbb}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#155724;border-color:#155724}.list-group-item-info{color:#0c5460;background-color:#bee5eb}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#0c5460;background-color:#abdde5}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#0c5460;border-color:#0c5460}.list-group-item-warning{color:#856404;background-color:#ffeeba}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#856404;background-color:#ffe8a1}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#856404;border-color:#856404}.list-group-item-danger{color:#721c24;background-color:#f5c6cb}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#721c24;background-color:#f1b0b7}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#721c24;border-color:#721c24}.list-group-item-light{color:#818182;background-color:#fdfdfe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#818182;background-color:#ececf6}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#818182;border-color:#818182}.list-group-item-dark{color:#1b1e21;background-color:#c6c8ca}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#1b1e21;background-color:#b9bbbe}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#1b1e21;border-color:#1b1e21}.close{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:focus,.close:hover{color:#000;text-decoration:none;opacity:.75}.close:not(:disabled):not(.disabled){cursor:pointer}button.close{padding:0;background-color:transparent;border:0;-webkit-appearance:none}.modal-open{overflow:hidden}.modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;display:none;overflow:hidden;outline:0}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out;-webkit-transform:translate(0,-25%);transform:translate(0,-25%)}.modal.show .modal-dialog{-webkit-transform:translate(0,0);transform:translate(0,0)}.modal-dialog-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:calc(100% - (.5rem * 2))}.modal-content{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:1rem;border-bottom:1px solid #e9ecef;border-top-left-radius:.3rem;border-top-right-radius:.3rem}.modal-header .close{padding:1rem;margin:-1rem -1rem -1rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding:1rem}.modal-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:1rem;border-top:1px solid #e9ecef}.modal-footer>:not(:first-child){margin-left:.25rem}.modal-footer>:not(:last-child){margin-right:.25rem}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-centered{min-height:calc(100% - (1.75rem * 2))}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg{max-width:800px}}.tooltip{position:absolute;z-index:1070;display:block;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[x-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[x-placement^=top] .arrow,.bs-tooltip-top .arrow{bottom:0}.bs-tooltip-auto[x-placement^=top] .arrow::before,.bs-tooltip-top .arrow::before{top:0;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[x-placement^=right],.bs-tooltip-right{padding:0 .4rem}.bs-tooltip-auto[x-placement^=right] .arrow,.bs-tooltip-right .arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=right] .arrow::before,.bs-tooltip-right .arrow::before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[x-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[x-placement^=bottom] .arrow,.bs-tooltip-bottom .arrow{top:0}.bs-tooltip-auto[x-placement^=bottom] .arrow::before,.bs-tooltip-bottom .arrow::before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[x-placement^=left],.bs-tooltip-left{padding:0 .4rem}.bs-tooltip-auto[x-placement^=left] .arrow,.bs-tooltip-left .arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=left] .arrow::before,.bs-tooltip-left .arrow::before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover{position:absolute;top:0;left:0;z-index:1060;display:block;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover .arrow{position:absolute;display:block;width:1rem;height:.5rem;margin:0 .3rem}.popover .arrow::after,.popover .arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid}.bs-popover-auto[x-placement^=top],.bs-popover-top{margin-bottom:.5rem}.bs-popover-auto[x-placement^=top] .arrow,.bs-popover-top .arrow{bottom:calc((.5rem + 1px) * -1)}.bs-popover-auto[x-placement^=top] .arrow::after,.bs-popover-auto[x-placement^=top] .arrow::before,.bs-popover-top .arrow::after,.bs-popover-top .arrow::before{border-width:.5rem .5rem 0}.bs-popover-auto[x-placement^=top] .arrow::before,.bs-popover-top .arrow::before{bottom:0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=top] .arrow::after,.bs-popover-top .arrow::after{bottom:1px;border-top-color:#fff}.bs-popover-auto[x-placement^=right],.bs-popover-right{margin-left:.5rem}.bs-popover-auto[x-placement^=right] .arrow,.bs-popover-right .arrow{left:calc((.5rem + 1px) * -1);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=right] .arrow::after,.bs-popover-auto[x-placement^=right] .arrow::before,.bs-popover-right .arrow::after,.bs-popover-right .arrow::before{border-width:.5rem .5rem .5rem 0}.bs-popover-auto[x-placement^=right] .arrow::before,.bs-popover-right .arrow::before{left:0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=right] .arrow::after,.bs-popover-right .arrow::after{left:1px;border-right-color:#fff}.bs-popover-auto[x-placement^=bottom],.bs-popover-bottom{margin-top:.5rem}.bs-popover-auto[x-placement^=bottom] .arrow,.bs-popover-bottom .arrow{top:calc((.5rem + 1px) * -1)}.bs-popover-auto[x-placement^=bottom] .arrow::after,.bs-popover-auto[x-placement^=bottom] .arrow::before,.bs-popover-bottom .arrow::after,.bs-popover-bottom .arrow::before{border-width:0 .5rem .5rem .5rem}.bs-popover-auto[x-placement^=bottom] .arrow::before,.bs-popover-bottom .arrow::before{top:0;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=bottom] .arrow::after,.bs-popover-bottom .arrow::after{top:1px;border-bottom-color:#fff}.bs-popover-auto[x-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:"";border-bottom:1px solid #f7f7f7}.bs-popover-auto[x-placement^=left],.bs-popover-left{margin-right:.5rem}.bs-popover-auto[x-placement^=left] .arrow,.bs-popover-left .arrow{right:calc((.5rem + 1px) * -1);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=left] .arrow::after,.bs-popover-auto[x-placement^=left] .arrow::before,.bs-popover-left .arrow::after,.bs-popover-left .arrow::before{border-width:.5rem 0 .5rem .5rem}.bs-popover-auto[x-placement^=left] .arrow::before,.bs-popover-left .arrow::before{right:0;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=left] .arrow::after,.bs-popover-left .arrow::after{right:1px;border-left-color:#fff}.popover-header{padding:.5rem .75rem;margin-bottom:0;font-size:1rem;color:inherit;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:.5rem .75rem;color:#212529}.carousel{position:relative}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-item{position:relative;display:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;transition:-webkit-transform .6s ease;transition:transform .6s ease;transition:transform .6s ease,-webkit-transform .6s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000px;perspective:1000px}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.carousel-item-next,.carousel-item-prev{position:absolute;top:0}.carousel-item-next.carousel-item-left,.carousel-item-prev.carousel-item-right{-webkit-transform:translateX(0);transform:translateX(0)}@supports ((-webkit-transform-style:preserve-3d) or (transform-style:preserve-3d)){.carousel-item-next.carousel-item-left,.carousel-item-prev.carousel-item-right{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}.active.carousel-item-right,.carousel-item-next{-webkit-transform:translateX(100%);transform:translateX(100%)}@supports ((-webkit-transform-style:preserve-3d) or (transform-style:preserve-3d)){.active.carousel-item-right,.carousel-item-next{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.active.carousel-item-left,.carousel-item-prev{-webkit-transform:translateX(-100%);transform:translateX(-100%)}@supports ((-webkit-transform-style:preserve-3d) or (transform-style:preserve-3d)){.active.carousel-item-left,.carousel-item-prev{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:15%;color:#fff;text-align:center;opacity:.5}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:20px;height:20px;background:transparent no-repeat center center;background-size:100% 100%}.carousel-control-prev-icon{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3E%3C/svg%3E")}.carousel-control-next-icon{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3E%3C/svg%3E")}.carousel-indicators{position:absolute;right:0;bottom:10px;left:0;z-index:15;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-left:0;margin-right:15%;margin-left:15%;list-style:none}.carousel-indicators li{position:relative;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;background-color:rgba(255,255,255,.5)}.carousel-indicators li::before{position:absolute;top:-10px;left:0;display:inline-block;width:100%;height:10px;content:""}.carousel-indicators li::after{position:absolute;bottom:-10px;left:0;display:inline-block;width:100%;height:10px;content:""}.carousel-indicators .active{background-color:#fff}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.bg-primary{background-color:#007bff!important}a.bg-primary:focus,a.bg-primary:hover,button.bg-primary:focus,button.bg-primary:hover{background-color:#0062cc!important}.bg-secondary{background-color:#6c757d!important}a.bg-secondary:focus,a.bg-secondary:hover,button.bg-secondary:focus,button.bg-secondary:hover{background-color:#545b62!important}.bg-success{background-color:#28a745!important}a.bg-success:focus,a.bg-success:hover,button.bg-success:focus,button.bg-success:hover{background-color:#1e7e34!important}.bg-info{background-color:#17a2b8!important}a.bg-info:focus,a.bg-info:hover,button.bg-info:focus,button.bg-info:hover{background-color:#117a8b!important}.bg-warning{background-color:#ffc107!important}a.bg-warning:focus,a.bg-warning:hover,button.bg-warning:focus,button.bg-warning:hover{background-color:#d39e00!important}.bg-danger{background-color:#dc3545!important}a.bg-danger:focus,a.bg-danger:hover,button.bg-danger:focus,button.bg-danger:hover{background-color:#bd2130!important}.bg-light{background-color:#f8f9fa!important}a.bg-light:focus,a.bg-light:hover,button.bg-light:focus,button.bg-light:hover{background-color:#dae0e5!important}.bg-dark{background-color:#343a40!important}a.bg-dark:focus,a.bg-dark:hover,button.bg-dark:focus,button.bg-dark:hover{background-color:#1d2124!important}.bg-white{background-color:#fff!important}.bg-transparent{background-color:transparent!important}.border{border:1px solid #dee2e6!important}.border-top{border-top:1px solid #dee2e6!important}.border-right{border-right:1px solid #dee2e6!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-left{border-left:1px solid #dee2e6!important}.border-0{border:0!important}.border-top-0{border-top:0!important}.border-right-0{border-right:0!important}.border-bottom-0{border-bottom:0!important}.border-left-0{border-left:0!important}.border-primary{border-color:#007bff!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#28a745!important}.border-info{border-color:#17a2b8!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#343a40!important}.border-white{border-color:#fff!important}.rounded{border-radius:.25rem!important}.rounded-top{border-top-left-radius:.25rem!important;border-top-right-radius:.25rem!important}.rounded-right{border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.rounded-bottom{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-left{border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-circle{border-radius:50%!important}.rounded-0{border-radius:0!important}.clearfix::after{display:block;clear:both;content:""}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}@media (min-width:576px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-sm-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-md-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-lg-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-xl-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-print-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}.embed-responsive{position:relative;display:block;width:100%;padding:0;overflow:hidden}.embed-responsive::before{display:block;content:""}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-21by9::before{padding-top:42.857143%}.embed-responsive-16by9::before{padding-top:56.25%}.embed-responsive-4by3::before{padding-top:75%}.embed-responsive-1by1::before{padding-top:100%}.flex-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.flex-column{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.flex-row-reverse{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-column-reverse{-webkit-box-orient:vertical!important;-webkit-box-direction:reverse!important;-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.justify-content-start{-webkit-box-pack:start!important;-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-end{-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-center{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.justify-content-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-start{-webkit-box-align:start!important;-ms-flex-align:start!important;align-items:flex-start!important}.align-items-end{-webkit-box-align:end!important;-ms-flex-align:end!important;align-items:flex-end!important}.align-items-center{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.align-items-baseline{-webkit-box-align:baseline!important;-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-stretch{-webkit-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}@media (min-width:576px){.flex-sm-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.flex-sm-column{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.flex-sm-row-reverse{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-sm-column-reverse{-webkit-box-orient:vertical!important;-webkit-box-direction:reverse!important;-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-sm-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-sm-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-sm-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.justify-content-sm-start{-webkit-box-pack:start!important;-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-sm-end{-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-sm-center{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.justify-content-sm-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-sm-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-sm-start{-webkit-box-align:start!important;-ms-flex-align:start!important;align-items:flex-start!important}.align-items-sm-end{-webkit-box-align:end!important;-ms-flex-align:end!important;align-items:flex-end!important}.align-items-sm-center{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.align-items-sm-baseline{-webkit-box-align:baseline!important;-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-sm-stretch{-webkit-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-sm-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-sm-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-sm-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-sm-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-sm-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-sm-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-sm-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-sm-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-sm-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-sm-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-sm-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-sm-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:768px){.flex-md-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.flex-md-column{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.flex-md-row-reverse{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-md-column-reverse{-webkit-box-orient:vertical!important;-webkit-box-direction:reverse!important;-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-md-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-md-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-md-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.justify-content-md-start{-webkit-box-pack:start!important;-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-md-end{-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-md-center{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.justify-content-md-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-md-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-md-start{-webkit-box-align:start!important;-ms-flex-align:start!important;align-items:flex-start!important}.align-items-md-end{-webkit-box-align:end!important;-ms-flex-align:end!important;align-items:flex-end!important}.align-items-md-center{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.align-items-md-baseline{-webkit-box-align:baseline!important;-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-md-stretch{-webkit-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-md-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-md-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-md-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-md-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-md-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-md-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-md-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-md-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-md-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-md-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-md-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-md-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:992px){.flex-lg-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.flex-lg-column{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.flex-lg-row-reverse{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-lg-column-reverse{-webkit-box-orient:vertical!important;-webkit-box-direction:reverse!important;-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-lg-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-lg-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-lg-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.justify-content-lg-start{-webkit-box-pack:start!important;-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-lg-end{-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-lg-center{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.justify-content-lg-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-lg-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-lg-start{-webkit-box-align:start!important;-ms-flex-align:start!important;align-items:flex-start!important}.align-items-lg-end{-webkit-box-align:end!important;-ms-flex-align:end!important;align-items:flex-end!important}.align-items-lg-center{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.align-items-lg-baseline{-webkit-box-align:baseline!important;-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-lg-stretch{-webkit-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-lg-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-lg-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-lg-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-lg-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-lg-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-lg-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-lg-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-lg-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-lg-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-lg-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-lg-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-lg-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:1200px){.flex-xl-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.flex-xl-column{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.flex-xl-row-reverse{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-xl-column-reverse{-webkit-box-orient:vertical!important;-webkit-box-direction:reverse!important;-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-xl-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-xl-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-xl-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.justify-content-xl-start{-webkit-box-pack:start!important;-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-xl-end{-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-xl-center{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.justify-content-xl-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-xl-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-xl-start{-webkit-box-align:start!important;-ms-flex-align:start!important;align-items:flex-start!important}.align-items-xl-end{-webkit-box-align:end!important;-ms-flex-align:end!important;align-items:flex-end!important}.align-items-xl-center{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.align-items-xl-baseline{-webkit-box-align:baseline!important;-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-xl-stretch{-webkit-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-xl-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-xl-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-xl-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-xl-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-xl-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-xl-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-xl-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-xl-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-xl-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-xl-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-xl-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-xl-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}.float-left{float:left!important}.float-right{float:right!important}.float-none{float:none!important}@media (min-width:576px){.float-sm-left{float:left!important}.float-sm-right{float:right!important}.float-sm-none{float:none!important}}@media (min-width:768px){.float-md-left{float:left!important}.float-md-right{float:right!important}.float-md-none{float:none!important}}@media (min-width:992px){.float-lg-left{float:left!important}.float-lg-right{float:right!important}.float-lg-none{float:none!important}}@media (min-width:1200px){.float-xl-left{float:left!important}.float-xl-right{float:right!important}.float-xl-none{float:none!important}}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.sr-only{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;-webkit-clip-path:inset(50%);clip-path:inset(50%);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;overflow:visible;clip:auto;white-space:normal;-webkit-clip-path:none;clip-path:none}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.mw-100{max-width:100%!important}.mh-100{max-height:100%!important}.m-0{margin:0!important}.mt-0,.my-0{margin-top:0!important}.mr-0,.mx-0{margin-right:0!important}.mb-0,.my-0{margin-bottom:0!important}.ml-0,.mx-0{margin-left:0!important}.m-1{margin:.25rem!important}.mt-1,.my-1{margin-top:.25rem!important}.mr-1,.mx-1{margin-right:.25rem!important}.mb-1,.my-1{margin-bottom:.25rem!important}.ml-1,.mx-1{margin-left:.25rem!important}.m-2{margin:.5rem!important}.mt-2,.my-2{margin-top:.5rem!important}.mr-2,.mx-2{margin-right:.5rem!important}.mb-2,.my-2{margin-bottom:.5rem!important}.ml-2,.mx-2{margin-left:.5rem!important}.m-3{margin:1rem!important}.mt-3,.my-3{margin-top:1rem!important}.mr-3,.mx-3{margin-right:1rem!important}.mb-3,.my-3{margin-bottom:1rem!important}.ml-3,.mx-3{margin-left:1rem!important}.m-4{margin:1.5rem!important}.mt-4,.my-4{margin-top:1.5rem!important}.mr-4,.mx-4{margin-right:1.5rem!important}.mb-4,.my-4{margin-bottom:1.5rem!important}.ml-4,.mx-4{margin-left:1.5rem!important}.m-5{margin:3rem!important}.mt-5,.my-5{margin-top:3rem!important}.mr-5,.mx-5{margin-right:3rem!important}.mb-5,.my-5{margin-bottom:3rem!important}.ml-5,.mx-5{margin-left:3rem!important}.p-0{padding:0!important}.pt-0,.py-0{padding-top:0!important}.pr-0,.px-0{padding-right:0!important}.pb-0,.py-0{padding-bottom:0!important}.pl-0,.px-0{padding-left:0!important}.p-1{padding:.25rem!important}.pt-1,.py-1{padding-top:.25rem!important}.pr-1,.px-1{padding-right:.25rem!important}.pb-1,.py-1{padding-bottom:.25rem!important}.pl-1,.px-1{padding-left:.25rem!important}.p-2{padding:.5rem!important}.pt-2,.py-2{padding-top:.5rem!important}.pr-2,.px-2{padding-right:.5rem!important}.pb-2,.py-2{padding-bottom:.5rem!important}.pl-2,.px-2{padding-left:.5rem!important}.p-3{padding:1rem!important}.pt-3,.py-3{padding-top:1rem!important}.pr-3,.px-3{padding-right:1rem!important}.pb-3,.py-3{padding-bottom:1rem!important}.pl-3,.px-3{padding-left:1rem!important}.p-4{padding:1.5rem!important}.pt-4,.py-4{padding-top:1.5rem!important}.pr-4,.px-4{padding-right:1.5rem!important}.pb-4,.py-4{padding-bottom:1.5rem!important}.pl-4,.px-4{padding-left:1.5rem!important}.p-5{padding:3rem!important}.pt-5,.py-5{padding-top:3rem!important}.pr-5,.px-5{padding-right:3rem!important}.pb-5,.py-5{padding-bottom:3rem!important}.pl-5,.px-5{padding-left:3rem!important}.m-auto{margin:auto!important}.mt-auto,.my-auto{margin-top:auto!important}.mr-auto,.mx-auto{margin-right:auto!important}.mb-auto,.my-auto{margin-bottom:auto!important}.ml-auto,.mx-auto{margin-left:auto!important}@media (min-width:576px){.m-sm-0{margin:0!important}.mt-sm-0,.my-sm-0{margin-top:0!important}.mr-sm-0,.mx-sm-0{margin-right:0!important}.mb-sm-0,.my-sm-0{margin-bottom:0!important}.ml-sm-0,.mx-sm-0{margin-left:0!important}.m-sm-1{margin:.25rem!important}.mt-sm-1,.my-sm-1{margin-top:.25rem!important}.mr-sm-1,.mx-sm-1{margin-right:.25rem!important}.mb-sm-1,.my-sm-1{margin-bottom:.25rem!important}.ml-sm-1,.mx-sm-1{margin-left:.25rem!important}.m-sm-2{margin:.5rem!important}.mt-sm-2,.my-sm-2{margin-top:.5rem!important}.mr-sm-2,.mx-sm-2{margin-right:.5rem!important}.mb-sm-2,.my-sm-2{margin-bottom:.5rem!important}.ml-sm-2,.mx-sm-2{margin-left:.5rem!important}.m-sm-3{margin:1rem!important}.mt-sm-3,.my-sm-3{margin-top:1rem!important}.mr-sm-3,.mx-sm-3{margin-right:1rem!important}.mb-sm-3,.my-sm-3{margin-bottom:1rem!important}.ml-sm-3,.mx-sm-3{margin-left:1rem!important}.m-sm-4{margin:1.5rem!important}.mt-sm-4,.my-sm-4{margin-top:1.5rem!important}.mr-sm-4,.mx-sm-4{margin-right:1.5rem!important}.mb-sm-4,.my-sm-4{margin-bottom:1.5rem!important}.ml-sm-4,.mx-sm-4{margin-left:1.5rem!important}.m-sm-5{margin:3rem!important}.mt-sm-5,.my-sm-5{margin-top:3rem!important}.mr-sm-5,.mx-sm-5{margin-right:3rem!important}.mb-sm-5,.my-sm-5{margin-bottom:3rem!important}.ml-sm-5,.mx-sm-5{margin-left:3rem!important}.p-sm-0{padding:0!important}.pt-sm-0,.py-sm-0{padding-top:0!important}.pr-sm-0,.px-sm-0{padding-right:0!important}.pb-sm-0,.py-sm-0{padding-bottom:0!important}.pl-sm-0,.px-sm-0{padding-left:0!important}.p-sm-1{padding:.25rem!important}.pt-sm-1,.py-sm-1{padding-top:.25rem!important}.pr-sm-1,.px-sm-1{padding-right:.25rem!important}.pb-sm-1,.py-sm-1{padding-bottom:.25rem!important}.pl-sm-1,.px-sm-1{padding-left:.25rem!important}.p-sm-2{padding:.5rem!important}.pt-sm-2,.py-sm-2{padding-top:.5rem!important}.pr-sm-2,.px-sm-2{padding-right:.5rem!important}.pb-sm-2,.py-sm-2{padding-bottom:.5rem!important}.pl-sm-2,.px-sm-2{padding-left:.5rem!important}.p-sm-3{padding:1rem!important}.pt-sm-3,.py-sm-3{padding-top:1rem!important}.pr-sm-3,.px-sm-3{padding-right:1rem!important}.pb-sm-3,.py-sm-3{padding-bottom:1rem!important}.pl-sm-3,.px-sm-3{padding-left:1rem!important}.p-sm-4{padding:1.5rem!important}.pt-sm-4,.py-sm-4{padding-top:1.5rem!important}.pr-sm-4,.px-sm-4{padding-right:1.5rem!important}.pb-sm-4,.py-sm-4{padding-bottom:1.5rem!important}.pl-sm-4,.px-sm-4{padding-left:1.5rem!important}.p-sm-5{padding:3rem!important}.pt-sm-5,.py-sm-5{padding-top:3rem!important}.pr-sm-5,.px-sm-5{padding-right:3rem!important}.pb-sm-5,.py-sm-5{padding-bottom:3rem!important}.pl-sm-5,.px-sm-5{padding-left:3rem!important}.m-sm-auto{margin:auto!important}.mt-sm-auto,.my-sm-auto{margin-top:auto!important}.mr-sm-auto,.mx-sm-auto{margin-right:auto!important}.mb-sm-auto,.my-sm-auto{margin-bottom:auto!important}.ml-sm-auto,.mx-sm-auto{margin-left:auto!important}}@media (min-width:768px){.m-md-0{margin:0!important}.mt-md-0,.my-md-0{margin-top:0!important}.mr-md-0,.mx-md-0{margin-right:0!important}.mb-md-0,.my-md-0{margin-bottom:0!important}.ml-md-0,.mx-md-0{margin-left:0!important}.m-md-1{margin:.25rem!important}.mt-md-1,.my-md-1{margin-top:.25rem!important}.mr-md-1,.mx-md-1{margin-right:.25rem!important}.mb-md-1,.my-md-1{margin-bottom:.25rem!important}.ml-md-1,.mx-md-1{margin-left:.25rem!important}.m-md-2{margin:.5rem!important}.mt-md-2,.my-md-2{margin-top:.5rem!important}.mr-md-2,.mx-md-2{margin-right:.5rem!important}.mb-md-2,.my-md-2{margin-bottom:.5rem!important}.ml-md-2,.mx-md-2{margin-left:.5rem!important}.m-md-3{margin:1rem!important}.mt-md-3,.my-md-3{margin-top:1rem!important}.mr-md-3,.mx-md-3{margin-right:1rem!important}.mb-md-3,.my-md-3{margin-bottom:1rem!important}.ml-md-3,.mx-md-3{margin-left:1rem!important}.m-md-4{margin:1.5rem!important}.mt-md-4,.my-md-4{margin-top:1.5rem!important}.mr-md-4,.mx-md-4{margin-right:1.5rem!important}.mb-md-4,.my-md-4{margin-bottom:1.5rem!important}.ml-md-4,.mx-md-4{margin-left:1.5rem!important}.m-md-5{margin:3rem!important}.mt-md-5,.my-md-5{margin-top:3rem!important}.mr-md-5,.mx-md-5{margin-right:3rem!important}.mb-md-5,.my-md-5{margin-bottom:3rem!important}.ml-md-5,.mx-md-5{margin-left:3rem!important}.p-md-0{padding:0!important}.pt-md-0,.py-md-0{padding-top:0!important}.pr-md-0,.px-md-0{padding-right:0!important}.pb-md-0,.py-md-0{padding-bottom:0!important}.pl-md-0,.px-md-0{padding-left:0!important}.p-md-1{padding:.25rem!important}.pt-md-1,.py-md-1{padding-top:.25rem!important}.pr-md-1,.px-md-1{padding-right:.25rem!important}.pb-md-1,.py-md-1{padding-bottom:.25rem!important}.pl-md-1,.px-md-1{padding-left:.25rem!important}.p-md-2{padding:.5rem!important}.pt-md-2,.py-md-2{padding-top:.5rem!important}.pr-md-2,.px-md-2{padding-right:.5rem!important}.pb-md-2,.py-md-2{padding-bottom:.5rem!important}.pl-md-2,.px-md-2{padding-left:.5rem!important}.p-md-3{padding:1rem!important}.pt-md-3,.py-md-3{padding-top:1rem!important}.pr-md-3,.px-md-3{padding-right:1rem!important}.pb-md-3,.py-md-3{padding-bottom:1rem!important}.pl-md-3,.px-md-3{padding-left:1rem!important}.p-md-4{padding:1.5rem!important}.pt-md-4,.py-md-4{padding-top:1.5rem!important}.pr-md-4,.px-md-4{padding-right:1.5rem!important}.pb-md-4,.py-md-4{padding-bottom:1.5rem!important}.pl-md-4,.px-md-4{padding-left:1.5rem!important}.p-md-5{padding:3rem!important}.pt-md-5,.py-md-5{padding-top:3rem!important}.pr-md-5,.px-md-5{padding-right:3rem!important}.pb-md-5,.py-md-5{padding-bottom:3rem!important}.pl-md-5,.px-md-5{padding-left:3rem!important}.m-md-auto{margin:auto!important}.mt-md-auto,.my-md-auto{margin-top:auto!important}.mr-md-auto,.mx-md-auto{margin-right:auto!important}.mb-md-auto,.my-md-auto{margin-bottom:auto!important}.ml-md-auto,.mx-md-auto{margin-left:auto!important}}@media (min-width:992px){.m-lg-0{margin:0!important}.mt-lg-0,.my-lg-0{margin-top:0!important}.mr-lg-0,.mx-lg-0{margin-right:0!important}.mb-lg-0,.my-lg-0{margin-bottom:0!important}.ml-lg-0,.mx-lg-0{margin-left:0!important}.m-lg-1{margin:.25rem!important}.mt-lg-1,.my-lg-1{margin-top:.25rem!important}.mr-lg-1,.mx-lg-1{margin-right:.25rem!important}.mb-lg-1,.my-lg-1{margin-bottom:.25rem!important}.ml-lg-1,.mx-lg-1{margin-left:.25rem!important}.m-lg-2{margin:.5rem!important}.mt-lg-2,.my-lg-2{margin-top:.5rem!important}.mr-lg-2,.mx-lg-2{margin-right:.5rem!important}.mb-lg-2,.my-lg-2{margin-bottom:.5rem!important}.ml-lg-2,.mx-lg-2{margin-left:.5rem!important}.m-lg-3{margin:1rem!important}.mt-lg-3,.my-lg-3{margin-top:1rem!important}.mr-lg-3,.mx-lg-3{margin-right:1rem!important}.mb-lg-3,.my-lg-3{margin-bottom:1rem!important}.ml-lg-3,.mx-lg-3{margin-left:1rem!important}.m-lg-4{margin:1.5rem!important}.mt-lg-4,.my-lg-4{margin-top:1.5rem!important}.mr-lg-4,.mx-lg-4{margin-right:1.5rem!important}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem!important}.ml-lg-4,.mx-lg-4{margin-left:1.5rem!important}.m-lg-5{margin:3rem!important}.mt-lg-5,.my-lg-5{margin-top:3rem!important}.mr-lg-5,.mx-lg-5{margin-right:3rem!important}.mb-lg-5,.my-lg-5{margin-bottom:3rem!important}.ml-lg-5,.mx-lg-5{margin-left:3rem!important}.p-lg-0{padding:0!important}.pt-lg-0,.py-lg-0{padding-top:0!important}.pr-lg-0,.px-lg-0{padding-right:0!important}.pb-lg-0,.py-lg-0{padding-bottom:0!important}.pl-lg-0,.px-lg-0{padding-left:0!important}.p-lg-1{padding:.25rem!important}.pt-lg-1,.py-lg-1{padding-top:.25rem!important}.pr-lg-1,.px-lg-1{padding-right:.25rem!important}.pb-lg-1,.py-lg-1{padding-bottom:.25rem!important}.pl-lg-1,.px-lg-1{padding-left:.25rem!important}.p-lg-2{padding:.5rem!important}.pt-lg-2,.py-lg-2{padding-top:.5rem!important}.pr-lg-2,.px-lg-2{padding-right:.5rem!important}.pb-lg-2,.py-lg-2{padding-bottom:.5rem!important}.pl-lg-2,.px-lg-2{padding-left:.5rem!important}.p-lg-3{padding:1rem!important}.pt-lg-3,.py-lg-3{padding-top:1rem!important}.pr-lg-3,.px-lg-3{padding-right:1rem!important}.pb-lg-3,.py-lg-3{padding-bottom:1rem!important}.pl-lg-3,.px-lg-3{padding-left:1rem!important}.p-lg-4{padding:1.5rem!important}.pt-lg-4,.py-lg-4{padding-top:1.5rem!important}.pr-lg-4,.px-lg-4{padding-right:1.5rem!important}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem!important}.pl-lg-4,.px-lg-4{padding-left:1.5rem!important}.p-lg-5{padding:3rem!important}.pt-lg-5,.py-lg-5{padding-top:3rem!important}.pr-lg-5,.px-lg-5{padding-right:3rem!important}.pb-lg-5,.py-lg-5{padding-bottom:3rem!important}.pl-lg-5,.px-lg-5{padding-left:3rem!important}.m-lg-auto{margin:auto!important}.mt-lg-auto,.my-lg-auto{margin-top:auto!important}.mr-lg-auto,.mx-lg-auto{margin-right:auto!important}.mb-lg-auto,.my-lg-auto{margin-bottom:auto!important}.ml-lg-auto,.mx-lg-auto{margin-left:auto!important}}@media (min-width:1200px){.m-xl-0{margin:0!important}.mt-xl-0,.my-xl-0{margin-top:0!important}.mr-xl-0,.mx-xl-0{margin-right:0!important}.mb-xl-0,.my-xl-0{margin-bottom:0!important}.ml-xl-0,.mx-xl-0{margin-left:0!important}.m-xl-1{margin:.25rem!important}.mt-xl-1,.my-xl-1{margin-top:.25rem!important}.mr-xl-1,.mx-xl-1{margin-right:.25rem!important}.mb-xl-1,.my-xl-1{margin-bottom:.25rem!important}.ml-xl-1,.mx-xl-1{margin-left:.25rem!important}.m-xl-2{margin:.5rem!important}.mt-xl-2,.my-xl-2{margin-top:.5rem!important}.mr-xl-2,.mx-xl-2{margin-right:.5rem!important}.mb-xl-2,.my-xl-2{margin-bottom:.5rem!important}.ml-xl-2,.mx-xl-2{margin-left:.5rem!important}.m-xl-3{margin:1rem!important}.mt-xl-3,.my-xl-3{margin-top:1rem!important}.mr-xl-3,.mx-xl-3{margin-right:1rem!important}.mb-xl-3,.my-xl-3{margin-bottom:1rem!important}.ml-xl-3,.mx-xl-3{margin-left:1rem!important}.m-xl-4{margin:1.5rem!important}.mt-xl-4,.my-xl-4{margin-top:1.5rem!important}.mr-xl-4,.mx-xl-4{margin-right:1.5rem!important}.mb-xl-4,.my-xl-4{margin-bottom:1.5rem!important}.ml-xl-4,.mx-xl-4{margin-left:1.5rem!important}.m-xl-5{margin:3rem!important}.mt-xl-5,.my-xl-5{margin-top:3rem!important}.mr-xl-5,.mx-xl-5{margin-right:3rem!important}.mb-xl-5,.my-xl-5{margin-bottom:3rem!important}.ml-xl-5,.mx-xl-5{margin-left:3rem!important}.p-xl-0{padding:0!important}.pt-xl-0,.py-xl-0{padding-top:0!important}.pr-xl-0,.px-xl-0{padding-right:0!important}.pb-xl-0,.py-xl-0{padding-bottom:0!important}.pl-xl-0,.px-xl-0{padding-left:0!important}.p-xl-1{padding:.25rem!important}.pt-xl-1,.py-xl-1{padding-top:.25rem!important}.pr-xl-1,.px-xl-1{padding-right:.25rem!important}.pb-xl-1,.py-xl-1{padding-bottom:.25rem!important}.pl-xl-1,.px-xl-1{padding-left:.25rem!important}.p-xl-2{padding:.5rem!important}.pt-xl-2,.py-xl-2{padding-top:.5rem!important}.pr-xl-2,.px-xl-2{padding-right:.5rem!important}.pb-xl-2,.py-xl-2{padding-bottom:.5rem!important}.pl-xl-2,.px-xl-2{padding-left:.5rem!important}.p-xl-3{padding:1rem!important}.pt-xl-3,.py-xl-3{padding-top:1rem!important}.pr-xl-3,.px-xl-3{padding-right:1rem!important}.pb-xl-3,.py-xl-3{padding-bottom:1rem!important}.pl-xl-3,.px-xl-3{padding-left:1rem!important}.p-xl-4{padding:1.5rem!important}.pt-xl-4,.py-xl-4{padding-top:1.5rem!important}.pr-xl-4,.px-xl-4{padding-right:1.5rem!important}.pb-xl-4,.py-xl-4{padding-bottom:1.5rem!important}.pl-xl-4,.px-xl-4{padding-left:1.5rem!important}.p-xl-5{padding:3rem!important}.pt-xl-5,.py-xl-5{padding-top:3rem!important}.pr-xl-5,.px-xl-5{padding-right:3rem!important}.pb-xl-5,.py-xl-5{padding-bottom:3rem!important}.pl-xl-5,.px-xl-5{padding-left:3rem!important}.m-xl-auto{margin:auto!important}.mt-xl-auto,.my-xl-auto{margin-top:auto!important}.mr-xl-auto,.mx-xl-auto{margin-right:auto!important}.mb-xl-auto,.my-xl-auto{margin-bottom:auto!important}.ml-xl-auto,.mx-xl-auto{margin-left:auto!important}}.text-justify{text-align:justify!important}.text-nowrap{white-space:nowrap!important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}@media (min-width:576px){.text-sm-left{text-align:left!important}.text-sm-right{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.text-md-left{text-align:left!important}.text-md-right{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.text-lg-left{text-align:left!important}.text-lg-right{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.text-xl-left{text-align:left!important}.text-xl-right{text-align:right!important}.text-xl-center{text-align:center!important}}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.font-weight-light{font-weight:300!important}.font-weight-normal{font-weight:400!important}.font-weight-bold{font-weight:700!important}.font-italic{font-style:italic!important}.text-white{color:#fff!important}.text-primary{color:#007bff!important}a.text-primary:focus,a.text-primary:hover{color:#0062cc!important}.text-secondary{color:#6c757d!important}a.text-secondary:focus,a.text-secondary:hover{color:#545b62!important}.text-success{color:#28a745!important}a.text-success:focus,a.text-success:hover{color:#1e7e34!important}.text-info{color:#17a2b8!important}a.text-info:focus,a.text-info:hover{color:#117a8b!important}.text-warning{color:#ffc107!important}a.text-warning:focus,a.text-warning:hover{color:#d39e00!important}.text-danger{color:#dc3545!important}a.text-danger:focus,a.text-danger:hover{color:#bd2130!important}.text-light{color:#f8f9fa!important}a.text-light:focus,a.text-light:hover{color:#dae0e5!important}.text-dark{color:#343a40!important}a.text-dark:focus,a.text-dark:hover{color:#1d2124!important}.text-muted{color:#6c757d!important}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media print{*,::after,::before{text-shadow:none!important;box-shadow:none!important}a:not(.btn){text-decoration:underline}abbr[title]::after{content:" (" attr(title) ")"}pre{white-space:pre-wrap!important}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px!important}.container{min-width:992px!important}.navbar{display:none}.badge{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #ddd!important}}
</style>
  <style type="text/css">body { margin-left: 20px; margin-right: 20px; padding: 5px }
.author:before { content: "by: " }
.author {
color: #a9a9a9
}
.Agda { background-color: #F1F1F1 }

.Agda .Comment { color: #B22222 !important }
.Agda .Background {}
.Agda .Markup { color: #000000 !important }
.Agda .Keyword { color: #CD6600 !important }
.Agda .String { color: #B22222 !important }
.Agda .Number { color: #A020F0 !important }
.Agda .Symbol { color: #404040 !important }
.Agda .PrimitiveType { color: #0000CD !important }
.Agda .Pragma { color: black !important }
.Agda .Operator {}
.Agda .Hole { background: #B4EEB4 !important }

.Agda .Bound { color: black !important }
.Agda .Generalizable { color: black !important }
.Agda .InductiveConstructor { color: #008B00 !important }
.Agda .CoinductiveConstructor { color: #8B7500 !important }
.Agda .Datatype { color: #0000CD !important }
.Agda .Field { color: #EE1289 !important }
.Agda .Function { color: #0000CD !important }
.Agda .Module { color: #A020F0 !important }
.Agda .Postulate { color: #0000CD !important }
.Agda .Primitive { color: #0000CD !important }
.Agda .Record { color: #0000CD !important }

.Agda .DottedPattern {}
.Agda .UnsolvedMeta { color: black; background: yellow !important }
.Agda .UnsolvedConstraint { color: black; background: yellow !important }
.Agda .TerminationProblem { color: black; background: #FFA07A !important }
.Agda .IncompletePattern { color: black; background: #F5DEB3 !important }
.Agda .Error { color: red; text-decoration: underline !important}
.Agda .TypeChecks { color: black; background: #ADD8E6 !important }
.Agda .Deadcode { color: black; background: #808080 !important }
.Agda .ShadowingInTelescope { color: black; background: #808080 !important }

.Agda a { text-decoration: none }
.Agda a[href]:hover { background-color: #B4EEB4 }
.Agda [href].hover-highlight { background-color: #B4EEB4; }
</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Normalization by Evaluation</h1>
<p class="author">Emmanuel SuÃ¡rez Acevedo</p>
</header>
<h3 id="background">Background</h3>
<p>This site is both an overview of normalization by evaluation and a
formalization in Agda of the algorithm for the simply typed lambda
calculus, based largely on its presentation in Chapter 2 of Andreas
Abelâs habilitation thesis, âNormalization by Evaluation: Dependent
Types and Impredicativityâ <span class="citation" data-cites="nbe">(Abel
2013)</span>. It was compiled from a literate Agda file available <a href="https://github.com/emmanueljs1/nbe/blob/main/NbE.lagda.md">here</a>
by following the helpful advice in <a href="https://jesper.sikanda.be/posts/literate-agda.html">this</a> blog
post by Jesper Cockx.</p>
<p>For clarity and readability, some parts of the source file are left
out in this rendering, and this will be called out when possible.</p>
<p>Some familiarity with Agda (e.g.Â such as having worked through the
first part of <a href="https://plfa.inf.ed.ac.uk/22.08/">Programming
Languages Foundations in Agda</a>) is assumed along with some knowledge
of programming language foundations, though the content is mostly self
contained.</p>
<h3 id="introduction">Introduction</h3>
<p>Consider the following term in the lambda calculus:</p>
<pre><code>Î»x. (Î»y. y) x</code></pre>
<p>This term is not in its <em>normal form</em>, that is, it can still
undergo some reductions. In this case, we can apply a beta reduction
under the first binder and arrive at:</p>
<pre><code>`Î»x. x`</code></pre>
<p>This new term is now the normal form of <code>Î»x. (Î»y. y) x</code>.
What weâve just done, believe it or not, is normalization by
evaluation!</p>
<p>Normalization by evaluation is a technique for deriving the normal
form of a term in an object language by <em>evaluating</em> the term in
a meta language (a language we are using to describe the object
language). In this case, our object language was the untyped lambda
calculus, and our meta language was, well, just plain English.</p>
<p>In essence, you can reduce a term by evaluating the parts that
<em>can</em> be evaluated while leaving the parts that <em>canât</em>
untouched. That is the intuition behind normalization by evaluation.</p>
<p>To actually formalize normalization by evaluation and prove its
correctness in Agda, the algorithm may seem to become less intuitive,
but it will still be based on this initial idea.</p>
<!---
### Imports

<pre class="Agda"><a id="2186" class="Keyword">import</a> <a id="2193" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="2231" class="Symbol">as</a> <a id="2234" class="Module">Eq</a>
<a id="2237" class="Keyword">open</a> <a id="2242" class="Keyword">import</a> <a id="2249" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="2260" class="Keyword">using</a> <a id="2266" class="Symbol">(</a><a id="2267" href="Data.Empty.html#526" class="Datatype">â¥</a><a id="2268" class="Symbol">;</a> <a id="2270" href="Data.Empty.html#628" class="Function">â¥-elim</a><a id="2276" class="Symbol">)</a>
<a id="2278" class="Keyword">open</a> <a id="2283" class="Keyword">import</a> <a id="2290" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="2300" class="Keyword">using</a> <a id="2306" class="Symbol">(</a><a id="2307" href="Agda.Builtin.Unit.html#164" class="Record">â¤</a><a id="2308" class="Symbol">;</a> <a id="2310" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="2312" class="Symbol">)</a>
<a id="2314" class="Keyword">open</a> <a id="2319" class="Keyword">import</a> <a id="2326" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="2335" class="Keyword">using</a> <a id="2341" class="Symbol">(</a><a id="2342" href="Data.Sum.Base.html#734" class="Datatype Operator">_â_</a><a id="2345" class="Symbol">;</a> <a id="2347" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a><a id="2351" class="Symbol">;</a> <a id="2353" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a><a id="2357" class="Symbol">)</a>
<a id="2359" class="Keyword">open</a> <a id="2364" class="Keyword">import</a> <a id="2371" href="Data.Product.html" class="Module">Data.Product</a> <a id="2384" class="Keyword">using</a> <a id="2390" class="Symbol">(</a><a id="2391" href="Data.Product.html#1167" class="Function Operator">_Ã_</a><a id="2394" class="Symbol">;</a> <a id="2396" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a><a id="2401" class="Symbol">;</a> <a id="2403" href="Data.Product.html#1369" class="Function">â</a><a id="2404" class="Symbol">;</a> <a id="2406" href="Data.Product.html#1806" class="Function">â-syntax</a><a id="2414" class="Symbol">)</a> <a id="2416" class="Keyword">renaming</a> <a id="2425" class="Symbol">(</a><a id="2426" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="2430" class="Symbol">to</a> <a id="2433" class="InductiveConstructor Operator">â¨_,_â©</a><a id="2438" class="Symbol">)</a>
<a id="2440" class="Keyword">open</a> <a id="2445" class="Keyword">import</a> <a id="2452" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="2469" class="Keyword">using</a> <a id="2475" class="Symbol">(</a><a id="2476" href="Relation.Nullary.html#1511" class="Record">Dec</a><a id="2479" class="Symbol">;</a> <a id="2481" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a><a id="2484" class="Symbol">;</a> <a id="2486" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a><a id="2488" class="Symbol">;</a> <a id="2490" href="Relation.Nullary.html#656" class="Function Operator">Â¬_</a><a id="2492" class="Symbol">)</a>
<a id="2494" class="Keyword">open</a> <a id="2499" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="2502" class="Keyword">using</a> <a id="2508" class="Symbol">(</a><a id="2509" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2513" class="Symbol">;</a> <a id="2515" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a><a id="2520" class="Symbol">;</a> <a id="2522" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="2525" class="Symbol">;</a> <a id="2527" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â¡_</a><a id="2530" class="Symbol">;</a> <a id="2532" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="2536" class="Symbol">;</a> <a id="2538" href="Relation.Binary.PropositionalEquality.Core.html#1367" class="Function">congâ</a><a id="2543" class="Symbol">;</a> <a id="2545" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a><a id="2553" class="Symbol">)</a>
<a id="2555" class="Keyword">open</a> <a id="2560" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">Eq.â¡-Reasoning</a> <a id="2575" class="Keyword">using</a> <a id="2581" class="Symbol">(</a><a id="2582" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">_â¡â¨â©_</a><a id="2587" class="Symbol">;</a> <a id="2589" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">step-â¡</a><a id="2595" class="Symbol">;</a> <a id="2597" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin_</a><a id="2603" class="Symbol">;</a> <a id="2605" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">_â</a><a id="2607" class="Symbol">)</a>

<a id="2610" class="Keyword">module</a> <a id="2617" href="NbE.html" class="Module">NbE</a> <a id="2621" class="Keyword">where</a>

<a id="2628" class="Keyword">postulate</a>
  <a id="extensionality"></a><a id="2640" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="2655" class="Symbol">:</a> <a id="2657" class="Symbol">â</a> <a id="2659" class="Symbol">{</a><a id="2660" href="NbE.html#2660" class="Bound">A</a> <a id="2662" href="NbE.html#2662" class="Bound">B</a> <a id="2664" class="Symbol">:</a> <a id="2666" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="2669" class="Symbol">}</a> <a id="2671" class="Symbol">{</a><a id="2672" href="NbE.html#2672" class="Bound">f</a> <a id="2674" href="NbE.html#2674" class="Bound">g</a> <a id="2676" class="Symbol">:</a> <a id="2678" href="NbE.html#2660" class="Bound">A</a> <a id="2680" class="Symbol">â</a> <a id="2682" href="NbE.html#2662" class="Bound">B</a><a id="2683" class="Symbol">}</a>
    <a id="2689" class="Symbol">â</a> <a id="2691" class="Symbol">(â</a> <a id="2694" class="Symbol">(</a><a id="2695" href="NbE.html#2695" class="Bound">x</a> <a id="2697" class="Symbol">:</a> <a id="2699" href="NbE.html#2660" class="Bound">A</a><a id="2700" class="Symbol">)</a> <a id="2702" class="Symbol">â</a> <a id="2704" href="NbE.html#2672" class="Bound">f</a> <a id="2706" href="NbE.html#2695" class="Bound">x</a> <a id="2708" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="2710" href="NbE.html#2674" class="Bound">g</a> <a id="2712" href="NbE.html#2695" class="Bound">x</a><a id="2713" class="Symbol">)</a>
      <a id="2721" class="Comment">-----------------------</a>
    <a id="2749" class="Symbol">â</a> <a id="2751" href="NbE.html#2672" class="Bound">f</a> <a id="2753" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="2755" href="NbE.html#2674" class="Bound">g</a>
</pre>--->
<h3 id="stlc">STLC</h3>
<p>The object language that will be used here to define normalization by
evaluation will be the simply-typed lambda calculus with <code>ð</code>
(âunitâ) as a base type. It has variables, functions, application, and a
single value of type <code>ð</code>: <code>unit</code>.</p>
<pre class="Agda"><a id="3024" class="Keyword">data</a> <a id="Type"></a><a id="3029" href="NbE.html#3029" class="Datatype">Type</a> <a id="3034" class="Symbol">:</a> <a id="3036" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3040" class="Keyword">where</a>
  <a id="3048" class="Comment">-- unit</a>
  <a id="Type.ð"></a><a id="3058" href="NbE.html#3058" class="InductiveConstructor">ð</a>   <a id="3062" class="Symbol">:</a> <a id="3064" href="NbE.html#3029" class="Datatype">Type</a>

  <a id="3072" class="Comment">-- functions</a>
  <a id="Type._â_"></a><a id="3087" href="NbE.html#3087" class="InductiveConstructor Operator">_â_</a> <a id="3091" class="Symbol">:</a> <a id="3093" class="Symbol">â</a> <a id="3095" class="Symbol">(</a><a id="3096" href="NbE.html#3096" class="Bound">S</a> <a id="3098" href="NbE.html#3098" class="Bound">T</a> <a id="3100" class="Symbol">:</a> <a id="3102" href="NbE.html#3029" class="Datatype">Type</a><a id="3106" class="Symbol">)</a> <a id="3108" class="Symbol">â</a> <a id="3110" href="NbE.html#3029" class="Datatype">Type</a>
</pre>
<!---
<pre class="Agda"><a id="3134" class="Keyword">infixr</a> <a id="3141" class="Number">7</a> <a id="3143" href="NbE.html#3087" class="InductiveConstructor Operator">_â_</a>
</pre>--->
<p>A typing context (for which the metavariable <code>Î</code> will be
used) is either the empty context <code>â</code> or an extension to a
context <code>Î , x:S</code> mapping an object language variable to a
type (here, <code>Î</code> is extended with the variable <code>x</code>
mapped to the type <code>S</code>).</p>
<p>The Agda definition does not actually mention variable names at all,
and is really just a list of types. This is because a de Brujin
representation will be used for variables, so instead of a name, a
variable will be an index into the list of types making up the context
(i.e.Â a de Brujin index). For example, the variable <code>x</code> in
the context <code>Î, x:S</code> would be represented simply as the
zeroth index.</p>
<pre class="Agda"><a id="3817" class="Keyword">data</a> <a id="Ctx"></a><a id="3822" href="NbE.html#3822" class="Datatype">Ctx</a> <a id="3826" class="Symbol">:</a> <a id="3828" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3832" class="Keyword">where</a>
  <a id="Ctx.â"></a><a id="3840" href="NbE.html#3840" class="InductiveConstructor">â</a> <a id="3842" class="Symbol">:</a> <a id="3844" href="NbE.html#3822" class="Datatype">Ctx</a>
  <a id="Ctx._,_"></a><a id="3850" href="NbE.html#3850" class="InductiveConstructor Operator">_,_</a> <a id="3854" class="Symbol">:</a> <a id="3856" href="NbE.html#3822" class="Datatype">Ctx</a> <a id="3860" class="Symbol">â</a> <a id="3862" href="NbE.html#3029" class="Datatype">Type</a> <a id="3867" class="Symbol">â</a> <a id="3869" href="NbE.html#3822" class="Datatype">Ctx</a>
</pre>
<!---
<pre class="Agda"><a id="3888" class="Keyword">infixl</a> <a id="3895" class="Number">5</a> <a id="3897" href="NbE.html#3850" class="InductiveConstructor Operator">_,_</a>
</pre>--->
<p>The de Brujin index representing a variable will not actually be a
natural number âindexâ, but rather a lookup judgements into a context.
These lookup judgements are very similar to natural numbers (and their
contructors have been named suggestively based on this similarity:
<code>ð</code> for zero and <code>ð</code> for successor). Defining them
this way instead of simply using Agdaâs natural numbers will allow for
an index into a context to always be well-defined (and for variables to
be intrinsically typed, as will be shown in a moment).</p>
<pre class="Agda"><a id="4445" class="Keyword">data</a> <a id="_â_"></a><a id="4450" href="NbE.html#4450" class="Datatype Operator">_â_</a> <a id="4454" class="Symbol">:</a> <a id="4456" href="NbE.html#3822" class="Datatype">Ctx</a> <a id="4460" class="Symbol">â</a> <a id="4462" href="NbE.html#3029" class="Datatype">Type</a> <a id="4467" class="Symbol">â</a> <a id="4469" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4473" class="Keyword">where</a>
  <a id="_â_.ð"></a><a id="4481" href="NbE.html#4481" class="InductiveConstructor">ð</a> <a id="4483" class="Symbol">:</a> <a id="4485" class="Symbol">â</a> <a id="4487" class="Symbol">{</a><a id="4488" href="NbE.html#4488" class="Bound">Î</a> <a id="4490" class="Symbol">:</a> <a id="4492" href="NbE.html#3822" class="Datatype">Ctx</a><a id="4495" class="Symbol">}</a> <a id="4497" class="Symbol">{</a><a id="4498" href="NbE.html#4498" class="Bound">T</a> <a id="4500" class="Symbol">:</a> <a id="4502" href="NbE.html#3029" class="Datatype">Type</a><a id="4506" class="Symbol">}</a>
        <a id="4516" class="Comment">---------</a>
      <a id="4532" class="Symbol">â</a> <a id="4534" href="NbE.html#4488" class="Bound">Î</a> <a id="4536" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="4538" href="NbE.html#4498" class="Bound">T</a> <a id="4540" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="4542" href="NbE.html#4498" class="Bound">T</a>

  <a id="_â_.ð_"></a><a id="4547" href="NbE.html#4547" class="InductiveConstructor Operator">ð_</a> <a id="4550" class="Symbol">:</a> <a id="4552" class="Symbol">â</a> <a id="4554" class="Symbol">{</a><a id="4555" href="NbE.html#4555" class="Bound">Î</a> <a id="4557" class="Symbol">:</a> <a id="4559" href="NbE.html#3822" class="Datatype">Ctx</a><a id="4562" class="Symbol">}</a> <a id="4564" class="Symbol">{</a><a id="4565" href="NbE.html#4565" class="Bound">S</a> <a id="4567" href="NbE.html#4567" class="Bound">T</a> <a id="4569" class="Symbol">:</a> <a id="4571" href="NbE.html#3029" class="Datatype">Type</a><a id="4575" class="Symbol">}</a>
      <a id="4583" class="Symbol">â</a> <a id="4585" href="NbE.html#4555" class="Bound">Î</a> <a id="4587" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="4589" href="NbE.html#4567" class="Bound">T</a>
        <a id="4599" class="Comment">---------</a>
      <a id="4615" class="Symbol">â</a> <a id="4617" href="NbE.html#4555" class="Bound">Î</a> <a id="4619" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="4621" href="NbE.html#4565" class="Bound">S</a> <a id="4623" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="4625" href="NbE.html#4567" class="Bound">T</a>
</pre>
<!---
<pre class="Agda"><a id="4642" class="Keyword">infix</a> <a id="4648" class="Number">4</a> <a id="4650" href="NbE.html#4450" class="Datatype Operator">_â_</a>
<a id="4654" class="Keyword">infix</a> <a id="4660" class="Number">9</a> <a id="4662" href="NbE.html#4547" class="InductiveConstructor Operator">ð_</a>
</pre>--->
<p>Using these, the context <code>â, x:S, y:T</code> can be represented
along with the variable names <code>&quot;x&quot;</code> and <code>&quot;y&quot;</code> as
is done in the following example.</p>
<pre class="Agda"><a id="4825" class="Keyword">module</a> <a id="Example"></a><a id="4832" href="NbE.html#4832" class="Module">Example</a> <a id="4840" class="Symbol">(</a><a id="4841" href="NbE.html#4841" class="Bound">S</a> <a id="4843" href="NbE.html#4843" class="Bound">T</a> <a id="4845" class="Symbol">:</a> <a id="4847" href="NbE.html#3029" class="Datatype">Type</a><a id="4851" class="Symbol">)</a> <a id="4853" class="Keyword">where</a>
  <a id="Example.â,x:S,y:T"></a><a id="4861" href="NbE.html#4861" class="Function">â,x:S,y:T</a> <a id="4871" class="Symbol">=</a> <a id="4873" href="NbE.html#3840" class="InductiveConstructor">â</a> <a id="4875" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="4877" href="NbE.html#4841" class="Bound">S</a> <a id="4879" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="4881" href="NbE.html#4843" class="Bound">T</a>

  <a id="Example.x"></a><a id="4886" href="NbE.html#4886" class="Function">x</a> <a id="4888" class="Symbol">:</a> <a id="4890" href="NbE.html#4861" class="Function">â,x:S,y:T</a> <a id="4900" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="4902" href="NbE.html#4841" class="Bound">S</a>
  <a id="4906" href="NbE.html#4886" class="Function">x</a> <a id="4908" class="Symbol">=</a> <a id="4910" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="4912" href="NbE.html#4481" class="InductiveConstructor">ð</a>

  <a id="Example.y"></a><a id="4917" href="NbE.html#4917" class="Function">y</a> <a id="4919" class="Symbol">:</a> <a id="4921" href="NbE.html#4861" class="Function">â,x:S,y:T</a> <a id="4931" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="4933" href="NbE.html#4843" class="Bound">T</a>
  <a id="4937" href="NbE.html#4917" class="Function">y</a> <a id="4939" class="Symbol">=</a> <a id="4941" href="NbE.html#4481" class="InductiveConstructor">ð</a>
</pre>
<p>STLC terms will be embedded in Agda using an <em>intrinsically</em>
typed representation. Types are defined first, and terms are only every
considered with respect to their type.</p>
<p>Using this representation, terms that are not well-typed donât even
have to be considered, as they are impossible to represent. An STLC term
<code>t</code> embedded in Agda as an expression of type
<code>Î â¢ T</code> is, by definition, a well-typed STLC term of type
<code>T</code> in the context <code>Î</code> (written as
<code>Î â¢ t : T</code>).</p>
<p>For clarity, when talking about terms their representation in the
STLC will be used over their intrinsically typed representation using de
Brujin indices, and all terms will be assumed to be well-typed.
(e.g.Â the variable <code># ð</code> will be referred to as
<code>Î, x:T â¢ x : T</code>, or just <code>x</code>.)</p>
<pre class="Agda"><a id="5708" class="Keyword">data</a> <a id="_â¢_"></a><a id="5713" href="NbE.html#5713" class="Datatype Operator">_â¢_</a> <a id="5717" class="Symbol">(</a><a id="5718" href="NbE.html#5718" class="Bound">Î</a> <a id="5720" class="Symbol">:</a> <a id="5722" href="NbE.html#3822" class="Datatype">Ctx</a><a id="5725" class="Symbol">)</a> <a id="5727" class="Symbol">:</a> <a id="5729" href="NbE.html#3029" class="Datatype">Type</a> <a id="5734" class="Symbol">â</a> <a id="5736" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="5740" class="Keyword">where</a>
  <a id="5748" class="Comment">-- unit term</a>
  <a id="_â¢_.unit"></a><a id="5763" href="NbE.html#5763" class="InductiveConstructor">unit</a> <a id="5768" class="Symbol">:</a> <a id="5770" href="NbE.html#5718" class="Bound">Î</a> <a id="5772" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="5774" href="NbE.html#3058" class="InductiveConstructor">ð</a>

  <a id="5779" class="Comment">-- variable</a>
  <a id="_â¢_.#_"></a><a id="5793" href="NbE.html#5793" class="InductiveConstructor Operator">#_</a> <a id="5796" class="Symbol">:</a> <a id="5798" class="Symbol">â</a> <a id="5800" class="Symbol">{</a><a id="5801" href="NbE.html#5801" class="Bound">S</a> <a id="5803" class="Symbol">:</a> <a id="5805" href="NbE.html#3029" class="Datatype">Type</a><a id="5809" class="Symbol">}</a>
     <a id="5816" class="Symbol">â</a> <a id="5818" href="NbE.html#5718" class="Bound">Î</a> <a id="5820" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="5822" href="NbE.html#5801" class="Bound">S</a>
       <a id="5831" class="Comment">-----</a>
     <a id="5842" class="Symbol">â</a> <a id="5844" href="NbE.html#5718" class="Bound">Î</a> <a id="5846" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="5848" href="NbE.html#5801" class="Bound">S</a>

  <a id="5853" class="Comment">-- abstraction</a>
  <a id="_â¢_.Æ_"></a><a id="5870" href="NbE.html#5870" class="InductiveConstructor Operator">Æ_</a> <a id="5873" class="Symbol">:</a> <a id="5875" class="Symbol">â</a> <a id="5877" class="Symbol">{</a><a id="5878" href="NbE.html#5878" class="Bound">S</a> <a id="5880" href="NbE.html#5880" class="Bound">T</a> <a id="5882" class="Symbol">:</a> <a id="5884" href="NbE.html#3029" class="Datatype">Type</a><a id="5888" class="Symbol">}</a>
     <a id="5895" class="Symbol">â</a> <a id="5897" href="NbE.html#5718" class="Bound">Î</a> <a id="5899" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="5901" href="NbE.html#5878" class="Bound">S</a> <a id="5903" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="5905" href="NbE.html#5880" class="Bound">T</a>
       <a id="5914" class="Comment">---------</a>
     <a id="5929" class="Symbol">â</a> <a id="5931" href="NbE.html#5718" class="Bound">Î</a> <a id="5933" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="5935" href="NbE.html#5878" class="Bound">S</a> <a id="5937" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="5939" href="NbE.html#5880" class="Bound">T</a>

  <a id="5944" class="Comment">-- application</a>
  <a id="_â¢_._Â·_"></a><a id="5961" href="NbE.html#5961" class="InductiveConstructor Operator">_Â·_</a> <a id="5965" class="Symbol">:</a> <a id="5967" class="Symbol">â</a> <a id="5969" class="Symbol">{</a><a id="5970" href="NbE.html#5970" class="Bound">S</a> <a id="5972" href="NbE.html#5972" class="Bound">T</a> <a id="5974" class="Symbol">:</a> <a id="5976" href="NbE.html#3029" class="Datatype">Type</a><a id="5980" class="Symbol">}</a>
      <a id="5988" class="Symbol">â</a> <a id="5990" href="NbE.html#5718" class="Bound">Î</a> <a id="5992" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="5994" href="NbE.html#5970" class="Bound">S</a> <a id="5996" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="5998" href="NbE.html#5972" class="Bound">T</a>
      <a id="6006" class="Symbol">â</a> <a id="6008" href="NbE.html#5718" class="Bound">Î</a> <a id="6010" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="6012" href="NbE.html#5970" class="Bound">S</a>
        <a id="6022" class="Comment">---------</a>
      <a id="6038" class="Symbol">â</a> <a id="6040" href="NbE.html#5718" class="Bound">Î</a> <a id="6042" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="6044" href="NbE.html#5972" class="Bound">T</a>
</pre>
<!---
<pre class="Agda"><a id="6065" class="Keyword">infix</a> <a id="6071" class="Number">4</a> <a id="6073" href="NbE.html#5713" class="Datatype Operator">_â¢_</a>
<a id="6077" class="Keyword">infix</a> <a id="6083" class="Number">5</a> <a id="6085" href="NbE.html#5870" class="InductiveConstructor Operator">Æ_</a>
<a id="6088" class="Keyword">infixl</a> <a id="6095" class="Number">7</a> <a id="6097" href="NbE.html#5961" class="InductiveConstructor Operator">_Â·_</a>
<a id="6101" class="Keyword">infix</a> <a id="6107" class="Number">9</a> <a id="6109" href="NbE.html#5793" class="InductiveConstructor Operator">#_</a>
</pre>--->
<p>Here are some sample programs in STLC embedded here using these
constructors:</p>
<pre class="Agda"><a id="6209" class="Keyword">module</a> <a id="SamplePrograms"></a><a id="6216" href="NbE.html#6216" class="Module">SamplePrograms</a> <a id="6231" class="Keyword">where</a>
  <a id="6239" class="Comment">-- Î â¢ Î»x. x : T â T</a>
  <a id="SamplePrograms.ex0"></a><a id="6262" href="NbE.html#6262" class="Function">ex0</a> <a id="6266" class="Symbol">:</a> <a id="6268" class="Symbol">â</a> <a id="6270" class="Symbol">{</a><a id="6271" href="NbE.html#6271" class="Bound">Î</a> <a id="6273" class="Symbol">:</a> <a id="6275" href="NbE.html#3822" class="Datatype">Ctx</a><a id="6278" class="Symbol">}</a> <a id="6280" class="Symbol">{</a><a id="6281" href="NbE.html#6281" class="Bound">T</a> <a id="6283" class="Symbol">:</a> <a id="6285" href="NbE.html#3029" class="Datatype">Type</a><a id="6289" class="Symbol">}</a> <a id="6291" class="Symbol">â</a> <a id="6293" href="NbE.html#6271" class="Bound">Î</a> <a id="6295" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="6297" href="NbE.html#6281" class="Bound">T</a> <a id="6299" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="6301" href="NbE.html#6281" class="Bound">T</a>
  <a id="6305" href="NbE.html#6262" class="Function">ex0</a> <a id="6309" class="Symbol">=</a> <a id="6311" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="6313" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="6315" href="NbE.html#4481" class="InductiveConstructor">ð</a>

  <a id="6320" class="Comment">-- â â¢ (Î»x. x) unit : ð</a>
  <a id="SamplePrograms.ex1"></a><a id="6346" href="NbE.html#6346" class="Function">ex1</a> <a id="6350" class="Symbol">:</a> <a id="6352" href="NbE.html#3840" class="InductiveConstructor">â</a> <a id="6354" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="6356" href="NbE.html#3058" class="InductiveConstructor">ð</a>
  <a id="6360" href="NbE.html#6346" class="Function">ex1</a> <a id="6364" class="Symbol">=</a> <a id="6366" href="NbE.html#6262" class="Function">ex0</a> <a id="6370" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="6372" href="NbE.html#5763" class="InductiveConstructor">unit</a>
</pre>
<p>With this embedding of the simply typed lambda calculus in Agda, an
algorithm for normalization by evaluation can actually be written.
However, to prove properties about the algorithm (e.g.Â that it is
actually correct), a few more language constructs are still needed. They
are: context extension, substitutions, and definitional equality. These
will be defined before getting into the details of the algorithm
itself.</p>
<h4 id="context-extension">Context extension</h4>
<p>When defining the algorithm for normalization by evaluation, it will
be necessary to determine whether or not a context is an extension of
another. A context <code>Îâ²</code> extends another context
<code>Î</code> if every mapping in <code>Î</code> is also in
<code>Îâ²</code>.</p>
<p>Since contexts are really just lists in their Agda representation,
<code>Îâ²</code> will be an extension of <code>Î</code> if <code>Î</code>
is a âsublistâ of <code>Îâ²</code>. The relation for context extension is
defined inductively based somewhat on this idea: a context extends
itself, and given that a context <code>Îâ²</code> extends another context
<code>Î</code>, an extension of <code>Îâ²</code> is still an extension of
<code>Îâ²</code>.</p>
<pre class="Agda"><a id="7423" class="Keyword">data</a> <a id="_â¤_"></a><a id="7428" href="NbE.html#7428" class="Datatype Operator">_â¤_</a> <a id="7432" class="Symbol">:</a> <a id="7434" href="NbE.html#3822" class="Datatype">Ctx</a> <a id="7438" class="Symbol">â</a> <a id="7440" href="NbE.html#3822" class="Datatype">Ctx</a> <a id="7444" class="Symbol">â</a> <a id="7446" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="7450" class="Keyword">where</a>
  <a id="_â¤_.â¤-id"></a><a id="7458" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="7463" class="Symbol">:</a> <a id="7465" class="Symbol">â</a> <a id="7467" class="Symbol">{</a><a id="7468" href="NbE.html#7468" class="Bound">Î</a> <a id="7470" class="Symbol">:</a> <a id="7472" href="NbE.html#3822" class="Datatype">Ctx</a><a id="7475" class="Symbol">}</a> <a id="7477" class="Symbol">â</a> <a id="7479" href="NbE.html#7468" class="Bound">Î</a> <a id="7481" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="7483" href="NbE.html#7468" class="Bound">Î</a>

  <a id="_â¤_.â¤-ext"></a><a id="7488" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="7494" class="Symbol">:</a> <a id="7496" class="Symbol">â</a> <a id="7498" class="Symbol">{</a><a id="7499" href="NbE.html#7499" class="Bound">Î</a> <a id="7501" href="NbE.html#7501" class="Bound">Îâ²</a> <a id="7504" class="Symbol">:</a> <a id="7506" href="NbE.html#3822" class="Datatype">Ctx</a><a id="7509" class="Symbol">}</a> <a id="7511" class="Symbol">{</a><a id="7512" href="NbE.html#7512" class="Bound">T</a> <a id="7514" class="Symbol">:</a> <a id="7516" href="NbE.html#3029" class="Datatype">Type</a><a id="7520" class="Symbol">}</a>
        <a id="7530" class="Symbol">â</a> <a id="7532" href="NbE.html#7501" class="Bound">Îâ²</a> <a id="7535" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="7537" href="NbE.html#7499" class="Bound">Î</a>
          <a id="7549" class="Comment">----------</a>
        <a id="7568" class="Symbol">â</a> <a id="7570" href="NbE.html#7501" class="Bound">Îâ²</a> <a id="7573" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="7575" href="NbE.html#7512" class="Bound">T</a> <a id="7577" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="7579" href="NbE.html#7499" class="Bound">Î</a>
</pre>
<!---
<pre class="Agda"><a id="7600" class="Keyword">infix</a> <a id="7606" class="Number">4</a> <a id="7608" href="NbE.html#7428" class="Datatype Operator">_â¤_</a>
</pre>--->
<!---

The relation is invertible: if `Îâ² â¤ Î , T`, then `Îâ² â¤ Î`.

<pre class="Agda"><a id="invert-â¤"></a><a id="7698" href="NbE.html#7698" class="Function">invert-â¤</a> <a id="7707" class="Symbol">:</a> <a id="7709" class="Symbol">â</a> <a id="7711" class="Symbol">{</a><a id="7712" href="NbE.html#7712" class="Bound">Î</a> <a id="7714" href="NbE.html#7714" class="Bound">Îâ²</a> <a id="7717" class="Symbol">:</a> <a id="7719" href="NbE.html#3822" class="Datatype">Ctx</a><a id="7722" class="Symbol">}</a> <a id="7724" class="Symbol">{</a><a id="7725" href="NbE.html#7725" class="Bound">T</a> <a id="7727" class="Symbol">:</a> <a id="7729" href="NbE.html#3029" class="Datatype">Type</a><a id="7733" class="Symbol">}</a>
         <a id="7744" class="Symbol">â</a> <a id="7746" href="NbE.html#7714" class="Bound">Îâ²</a> <a id="7749" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="7751" href="NbE.html#7712" class="Bound">Î</a> <a id="7753" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="7755" href="NbE.html#7725" class="Bound">T</a>
           <a id="7768" class="Comment">----------</a>
         <a id="7788" class="Symbol">â</a> <a id="7790" href="NbE.html#7714" class="Bound">Îâ²</a> <a id="7793" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="7795" href="NbE.html#7712" class="Bound">Î</a>
<a id="7797" href="NbE.html#7698" class="Function">invert-â¤</a> <a id="7806" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="7811" class="Symbol">=</a> <a id="7813" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="7819" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>
<a id="7824" href="NbE.html#7698" class="Function">invert-â¤</a> <a id="7833" class="Symbol">(</a><a id="7834" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="7840" href="NbE.html#7840" class="Bound">x</a><a id="7841" class="Symbol">)</a> <a id="7843" class="Symbol">=</a> <a id="7845" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="7851" class="Symbol">(</a><a id="7852" href="NbE.html#7698" class="Function">invert-â¤</a> <a id="7861" href="NbE.html#7840" class="Bound">x</a><a id="7862" class="Symbol">)</a>
</pre>--->
<p>The relation is antisymmetric, meaning that if <code>Îâ² â¤ Î</code>
and <code>Î â¤ Îâ²</code>, then <code>Îâ²</code> and <code>Î</code> must be
the same context. This proof is left out in the rendering, though it is
proven mutually with the fact that <code>Î</code> is never an extension
of <code>Î, x:T</code>.</p>
<pre class="Agda"><a id="â¤-antisym"></a><a id="8125" href="NbE.html#8125" class="Function">â¤-antisym</a> <a id="8135" class="Symbol">:</a> <a id="8137" class="Symbol">â</a> <a id="8139" class="Symbol">{</a><a id="8140" href="NbE.html#8140" class="Bound">Î</a> <a id="8142" href="NbE.html#8142" class="Bound">Îâ²</a> <a id="8145" class="Symbol">:</a> <a id="8147" href="NbE.html#3822" class="Datatype">Ctx</a><a id="8150" class="Symbol">}</a>
          <a id="8162" class="Symbol">â</a> <a id="8164" href="NbE.html#8140" class="Bound">Î</a> <a id="8166" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="8168" href="NbE.html#8142" class="Bound">Îâ²</a>
          <a id="8181" class="Symbol">â</a> <a id="8183" href="NbE.html#8142" class="Bound">Îâ²</a> <a id="8186" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="8188" href="NbE.html#8140" class="Bound">Î</a>
            <a id="8202" class="Comment">------</a>
          <a id="8219" class="Symbol">â</a> <a id="8221" href="NbE.html#8140" class="Bound">Î</a> <a id="8223" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="8225" href="NbE.html#8142" class="Bound">Îâ²</a>

<a id="Îâ°Î,T"></a><a id="8229" href="NbE.html#8229" class="Function">Îâ°Î,T</a> <a id="8235" class="Symbol">:</a> <a id="8237" class="Symbol">â</a> <a id="8239" class="Symbol">{</a><a id="8240" href="NbE.html#8240" class="Bound">Î</a> <a id="8242" class="Symbol">:</a> <a id="8244" href="NbE.html#3822" class="Datatype">Ctx</a><a id="8247" class="Symbol">}</a> <a id="8249" class="Symbol">{</a><a id="8250" href="NbE.html#8250" class="Bound">T</a> <a id="8252" class="Symbol">:</a> <a id="8254" href="NbE.html#3029" class="Datatype">Type</a><a id="8258" class="Symbol">}</a> <a id="8260" class="Symbol">â</a> <a id="8262" href="Relation.Nullary.html#656" class="Function Operator">Â¬</a> <a id="8264" class="Symbol">(</a><a id="8265" href="NbE.html#8240" class="Bound">Î</a> <a id="8267" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="8269" href="NbE.html#8240" class="Bound">Î</a> <a id="8271" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="8273" href="NbE.html#8250" class="Bound">T</a><a id="8274" class="Symbol">)</a>
</pre>
<!---
<pre class="Agda"><a id="â¤-ext-uniq-T"></a><a id="8295" href="NbE.html#8295" class="Function">â¤-ext-uniq-T</a> <a id="8308" class="Symbol">:</a> <a id="8310" class="Symbol">â</a> <a id="8312" class="Symbol">{</a><a id="8313" href="NbE.html#8313" class="Bound">Î</a> <a id="8315" href="NbE.html#8315" class="Bound">Îâ²</a> <a id="8318" class="Symbol">:</a> <a id="8320" href="NbE.html#3822" class="Datatype">Ctx</a><a id="8323" class="Symbol">}</a> <a id="8325" class="Symbol">{</a><a id="8326" href="NbE.html#8326" class="Bound">S</a> <a id="8328" href="NbE.html#8328" class="Bound">T</a> <a id="8330" class="Symbol">:</a> <a id="8332" href="NbE.html#3029" class="Datatype">Type</a><a id="8336" class="Symbol">}</a>
           <a id="8349" class="Symbol">â</a> <a id="8351" href="NbE.html#8315" class="Bound">Îâ²</a> <a id="8354" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="8356" href="NbE.html#8313" class="Bound">Î</a> <a id="8358" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="8360" href="NbE.html#8328" class="Bound">T</a>
           <a id="8373" class="Symbol">â</a> <a id="8375" href="NbE.html#8315" class="Bound">Îâ²</a> <a id="8378" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="8380" href="NbE.html#8313" class="Bound">Î</a> <a id="8382" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="8384" href="NbE.html#8326" class="Bound">S</a>
             <a id="8399" class="Comment">----------</a>
           <a id="8421" class="Symbol">â</a> <a id="8423" href="NbE.html#8328" class="Bound">T</a> <a id="8425" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="8427" href="NbE.html#8326" class="Bound">S</a>

<a id="8430" href="NbE.html#8295" class="Function">â¤-ext-uniq-T</a> <a id="8443" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="8448" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="8453" class="Symbol">=</a> <a id="8455" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="8460" href="NbE.html#8295" class="Function">â¤-ext-uniq-T</a> <a id="8473" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="8478" class="Symbol">(</a><a id="8479" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="8485" href="NbE.html#8485" class="Bound">c</a><a id="8486" class="Symbol">)</a> <a id="8488" class="Symbol">=</a> <a id="8490" href="Data.Empty.html#628" class="Function">â¥-elim</a> <a id="8497" class="Symbol">(</a><a id="8498" href="NbE.html#8229" class="Function">Îâ°Î,T</a> <a id="8504" href="NbE.html#8485" class="Bound">c</a><a id="8505" class="Symbol">)</a>
<a id="8507" href="NbE.html#8295" class="Function">â¤-ext-uniq-T</a> <a id="8520" class="Symbol">(</a><a id="8521" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="8527" href="NbE.html#8527" class="Bound">c</a><a id="8528" class="Symbol">)</a> <a id="8530" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="8535" class="Symbol">=</a> <a id="8537" href="Data.Empty.html#628" class="Function">â¥-elim</a> <a id="8544" class="Symbol">(</a><a id="8545" href="NbE.html#8229" class="Function">Îâ°Î,T</a> <a id="8551" href="NbE.html#8527" class="Bound">c</a><a id="8552" class="Symbol">)</a>
<a id="8554" href="NbE.html#8295" class="Function">â¤-ext-uniq-T</a> <a id="8567" class="Symbol">(</a><a id="8568" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="8574" href="NbE.html#8574" class="Bound">pâ</a><a id="8576" class="Symbol">)</a> <a id="8578" class="Symbol">(</a><a id="8579" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="8585" href="NbE.html#8585" class="Bound">pâ</a><a id="8587" class="Symbol">)</a>
  <a id="8591" class="Keyword">rewrite</a> <a id="8599" href="NbE.html#8295" class="Function">â¤-ext-uniq-T</a> <a id="8612" href="NbE.html#8574" class="Bound">pâ</a> <a id="8615" href="NbE.html#8585" class="Bound">pâ</a> <a id="8618" class="Symbol">=</a> <a id="8620" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="8626" href="NbE.html#8125" class="Function">â¤-antisym</a> <a id="8636" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="8641" href="NbE.html#8641" class="Bound">Îâ²â¤Î</a> <a id="8646" class="Symbol">=</a> <a id="8648" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="8653" href="NbE.html#8125" class="Function">â¤-antisym</a> <a id="8663" class="Symbol">(</a><a id="8664" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="8670" href="NbE.html#8670" class="Bound">Îâ¤Îâ²</a><a id="8674" class="Symbol">)</a> <a id="8676" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="8681" class="Symbol">=</a> <a id="8683" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="8688" href="NbE.html#8125" class="Function">â¤-antisym</a> <a id="8698" class="Symbol">(</a><a id="8699" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="8705" class="Symbol">{</a><a id="8706" class="Argument">T</a> <a id="8708" class="Symbol">=</a> <a id="8710" href="NbE.html#8710" class="Bound">Tâ</a><a id="8712" class="Symbol">}</a> <a id="8714" href="NbE.html#8714" class="Bound">pâ</a><a id="8716" class="Symbol">)</a> <a id="8718" class="Symbol">(</a><a id="8719" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="8725" class="Symbol">{</a><a id="8726" class="Argument">T</a> <a id="8728" class="Symbol">=</a> <a id="8730" href="NbE.html#8730" class="Bound">Tâ</a><a id="8732" class="Symbol">}</a> <a id="8734" href="NbE.html#8734" class="Bound">pâ</a><a id="8736" class="Symbol">)</a>
  <a id="8740" class="Keyword">with</a> <a id="8745" href="NbE.html#7698" class="Function">invert-â¤</a> <a id="8754" href="NbE.html#8714" class="Bound">pâ</a> <a id="8757" class="Symbol">|</a> <a id="8759" href="NbE.html#7698" class="Function">invert-â¤</a> <a id="8768" href="NbE.html#8734" class="Bound">pâ</a>
<a id="8771" class="Symbol">...</a>  <a id="8776" class="Symbol">|</a> <a id="8778" href="NbE.html#8778" class="Bound">â¤â</a>         <a id="8789" class="Symbol">|</a> <a id="8791" href="NbE.html#8791" class="Bound">â¤â</a>
  <a id="8796" class="Keyword">with</a> <a id="8801" href="NbE.html#8125" class="Function">â¤-antisym</a> <a id="8811" href="NbE.html#8778" class="Bound">â¤â</a> <a id="8814" href="NbE.html#8791" class="Bound">â¤â</a>
<a id="8817" class="Symbol">...</a>  <a id="8822" class="Symbol">|</a> <a id="8824" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="8831" class="Keyword">rewrite</a> <a id="8839" href="NbE.html#8295" class="Function">â¤-ext-uniq-T</a> <a id="8852" class="Bound">pâ</a> <a id="8855" class="Bound">pâ</a>     <a id="8862" class="Symbol">=</a> <a id="8864" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="8870" href="NbE.html#8229" class="Function">Îâ°Î,T</a> <a id="8876" class="Symbol">{</a><a id="8877" href="NbE.html#8877" class="Bound">Î</a><a id="8878" class="Symbol">}</a> <a id="8880" class="Symbol">{</a><a id="8881" href="NbE.html#8881" class="Bound">T</a><a id="8882" class="Symbol">}</a> <a id="8884" href="NbE.html#8884" class="Bound">Îâ¤Î,T</a>
  <a id="8892" class="Keyword">with</a> <a id="8897" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="8903" class="Symbol">{</a><a id="8904" class="Argument">T</a> <a id="8906" class="Symbol">=</a> <a id="8908" href="NbE.html#8881" class="Bound">T</a><a id="8909" class="Symbol">}</a> <a id="8911" class="Symbol">(</a><a id="8912" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="8917" class="Symbol">{</a><a id="8918" href="NbE.html#8877" class="Bound">Î</a><a id="8919" class="Symbol">})</a>
<a id="8922" class="Symbol">...</a>  <a id="8927" class="Symbol">|</a> <a id="8929" href="NbE.html#8929" class="Bound">Î,Tâ¤Î</a>
  <a id="8937" class="Keyword">with</a> <a id="8942" href="NbE.html#8125" class="Function">â¤-antisym</a> <a id="8952" class="Bound">Îâ¤Î,T</a> <a id="8958" href="NbE.html#8929" class="Bound">Î,Tâ¤Î</a>
<a id="8964" class="Symbol">...</a>  <a id="8969" class="Symbol">|</a> <a id="8971" class="Symbol">()</a>
</pre>--->
<p>This relation is also transitive, a proof that follows by
induction:</p>
<pre class="Agda"><a id="â¤-trans"></a><a id="9062" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="9070" class="Symbol">:</a> <a id="9072" class="Symbol">â</a> <a id="9074" class="Symbol">{</a><a id="9075" href="NbE.html#9075" class="Bound">Îâ³</a> <a id="9078" href="NbE.html#9078" class="Bound">Îâ²</a> <a id="9081" href="NbE.html#9081" class="Bound">Î</a> <a id="9083" class="Symbol">:</a> <a id="9085" href="NbE.html#3822" class="Datatype">Ctx</a><a id="9088" class="Symbol">}</a>
         <a id="9099" class="Symbol">â</a> <a id="9101" href="NbE.html#9075" class="Bound">Îâ³</a> <a id="9104" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="9106" href="NbE.html#9078" class="Bound">Îâ²</a>
         <a id="9118" class="Symbol">â</a> <a id="9120" href="NbE.html#9078" class="Bound">Îâ²</a> <a id="9123" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="9125" href="NbE.html#9081" class="Bound">Î</a>
           <a id="9138" class="Comment">-------</a>
         <a id="9155" class="Symbol">â</a> <a id="9157" href="NbE.html#9075" class="Bound">Îâ³</a> <a id="9160" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="9162" href="NbE.html#9081" class="Bound">Î</a>
<a id="9164" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="9172" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="9177" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>               <a id="9196" class="Symbol">=</a> <a id="9198" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>
<a id="9203" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="9211" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="9216" class="Symbol">(</a><a id="9217" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="9223" href="NbE.html#9223" class="Bound">pf</a><a id="9225" class="Symbol">)</a>         <a id="9235" class="Symbol">=</a> <a id="9237" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="9243" href="NbE.html#9223" class="Bound">pf</a>
<a id="9246" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="9254" class="Symbol">(</a><a id="9255" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="9261" href="NbE.html#9261" class="Bound">pf</a><a id="9263" class="Symbol">)</a> <a id="9265" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>         <a id="9278" class="Symbol">=</a> <a id="9280" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="9286" href="NbE.html#9261" class="Bound">pf</a>
<a id="9289" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="9297" class="Symbol">(</a><a id="9298" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="9304" href="NbE.html#9304" class="Bound">pfâ</a><a id="9307" class="Symbol">)</a> <a id="9309" class="Symbol">(</a><a id="9310" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="9316" href="NbE.html#9316" class="Bound">pfâ</a><a id="9319" class="Symbol">)</a> <a id="9321" class="Symbol">=</a> <a id="9323" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="9329" class="Symbol">(</a><a id="9330" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="9338" href="NbE.html#9304" class="Bound">pfâ</a> <a id="9342" class="Symbol">(</a><a id="9343" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="9349" href="NbE.html#9316" class="Bound">pfâ</a><a id="9352" class="Symbol">))</a>
</pre>
<p>Finally, this relation can be made decidable. Its decidability
requires that equality between contexts (and by extension, type) also be
decidable; these proofs are also left out in the rendering.</p>
<pre class="Agda"><a id="_âTp_"></a><a id="9565" href="NbE.html#9565" class="Function Operator">_âTp_</a> <a id="9571" class="Symbol">:</a> <a id="9573" class="Symbol">â</a> <a id="9575" class="Symbol">(</a><a id="9576" href="NbE.html#9576" class="Bound">S</a> <a id="9578" href="NbE.html#9578" class="Bound">T</a> <a id="9580" class="Symbol">:</a> <a id="9582" href="NbE.html#3029" class="Datatype">Type</a><a id="9586" class="Symbol">)</a> <a id="9588" class="Symbol">â</a> <a id="9590" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="9594" class="Symbol">(</a><a id="9595" href="NbE.html#9576" class="Bound">S</a> <a id="9597" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="9599" href="NbE.html#9578" class="Bound">T</a><a id="9600" class="Symbol">)</a>
</pre>
<!---
<pre class="Agda"><a id="9621" href="NbE.html#3058" class="InductiveConstructor">ð</a>         <a id="9631" href="NbE.html#9565" class="Function Operator">âTp</a> <a id="9635" href="NbE.html#3058" class="InductiveConstructor">ð</a>                                    <a id="9672" class="Symbol">=</a> <a id="9674" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="9678" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="9683" href="NbE.html#3058" class="InductiveConstructor">ð</a>         <a id="9693" href="NbE.html#9565" class="Function Operator">âTp</a> <a id="9697" class="Symbol">(</a><a id="9698" href="NbE.html#9698" class="Bound">S</a> <a id="9700" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="9702" href="NbE.html#9702" class="Bound">T</a><a id="9703" class="Symbol">)</a>                              <a id="9734" class="Symbol">=</a> <a id="9736" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="9739" class="Symbol">Î»()</a>
<a id="9743" class="Symbol">(</a><a id="9744" href="NbE.html#9744" class="Bound">Sâ</a> <a id="9747" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="9749" href="NbE.html#9749" class="Bound">Tâ</a><a id="9751" class="Symbol">)</a> <a id="9753" href="NbE.html#9565" class="Function Operator">âTp</a> <a id="9757" href="NbE.html#3058" class="InductiveConstructor">ð</a>                                    <a id="9794" class="Symbol">=</a> <a id="9796" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="9799" class="Symbol">Î»()</a>
<a id="9803" class="Symbol">(</a><a id="9804" href="NbE.html#9804" class="Bound">Sâ</a> <a id="9807" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="9809" href="NbE.html#9809" class="Bound">Tâ</a><a id="9811" class="Symbol">)</a> <a id="9813" href="NbE.html#9565" class="Function Operator">âTp</a> <a id="9817" class="Symbol">(</a><a id="9818" href="NbE.html#9818" class="Bound">Sâ</a> <a id="9821" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="9823" href="NbE.html#9823" class="Bound">Tâ</a><a id="9825" class="Symbol">)</a> <a id="9827" class="Keyword">with</a> <a id="9832" href="NbE.html#9804" class="Bound">Sâ</a> <a id="9835" href="NbE.html#9565" class="Function Operator">âTp</a> <a id="9839" href="NbE.html#9818" class="Bound">Sâ</a> <a id="9842" class="Symbol">|</a> <a id="9844" href="NbE.html#9809" class="Bound">Tâ</a> <a id="9847" href="NbE.html#9565" class="Function Operator">âTp</a> <a id="9851" href="NbE.html#9823" class="Bound">Tâ</a>
<a id="9854" class="Symbol">...</a>                        <a id="9881" class="Symbol">|</a> <a id="9883" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="9886" href="NbE.html#9886" class="Bound">Â¬pf</a>    <a id="9893" class="Symbol">|</a> <a id="9895" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="9898" class="Symbol">_</a>      <a id="9905" class="Symbol">=</a> <a id="9907" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="9910" class="Symbol">Î»{</a><a id="9912" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="9917" class="Symbol">â</a> <a id="9919" href="NbE.html#9886" class="Bound">Â¬pf</a> <a id="9923" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="9927" class="Symbol">}</a>
<a id="9929" class="Symbol">...</a>                        <a id="9956" class="Symbol">|</a> <a id="9958" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="9961" href="NbE.html#9961" class="Bound">Â¬pf</a>    <a id="9968" class="Symbol">|</a> <a id="9970" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="9974" class="Symbol">_</a>     <a id="9980" class="Symbol">=</a> <a id="9982" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="9985" class="Symbol">Î»{</a><a id="9987" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="9992" class="Symbol">â</a> <a id="9994" href="NbE.html#9961" class="Bound">Â¬pf</a> <a id="9998" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="10002" class="Symbol">}</a>
<a id="10004" class="Symbol">...</a>                        <a id="10031" class="Symbol">|</a> <a id="10033" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10037" class="Symbol">_</a>     <a id="10043" class="Symbol">|</a> <a id="10045" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10048" href="NbE.html#10048" class="Bound">Â¬pf</a>    <a id="10055" class="Symbol">=</a> <a id="10057" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10060" class="Symbol">Î»{</a><a id="10062" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="10067" class="Symbol">â</a> <a id="10069" href="NbE.html#10048" class="Bound">Â¬pf</a> <a id="10073" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="10077" class="Symbol">}</a>
<a id="10079" class="Symbol">...</a>                        <a id="10106" class="Symbol">|</a> <a id="10108" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10112" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>  <a id="10118" class="Symbol">|</a> <a id="10120" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10124" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>  <a id="10130" class="Symbol">=</a> <a id="10132" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10136" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>--->
<pre class="Agda"><a id="_âCtx_"></a><a id="10159" href="NbE.html#10159" class="Function Operator">_âCtx_</a> <a id="10166" class="Symbol">:</a> <a id="10168" class="Symbol">(</a><a id="10169" href="NbE.html#10169" class="Bound">Î</a> <a id="10171" href="NbE.html#10171" class="Bound">Îâ²</a> <a id="10174" class="Symbol">:</a> <a id="10176" href="NbE.html#3822" class="Datatype">Ctx</a><a id="10179" class="Symbol">)</a> <a id="10181" class="Symbol">â</a> <a id="10183" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="10187" class="Symbol">(</a><a id="10188" href="NbE.html#10169" class="Bound">Î</a> <a id="10190" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="10192" href="NbE.html#10171" class="Bound">Îâ²</a><a id="10194" class="Symbol">)</a>
</pre>
<!---
<pre class="Agda"><a id="10215" href="NbE.html#3840" class="InductiveConstructor">â</a>       <a id="10223" href="NbE.html#10159" class="Function Operator">âCtx</a> <a id="10228" href="NbE.html#3840" class="InductiveConstructor">â</a>                                  <a id="10263" class="Symbol">=</a> <a id="10265" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10269" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="10274" href="NbE.html#3840" class="InductiveConstructor">â</a>       <a id="10282" href="NbE.html#10159" class="Function Operator">âCtx</a> <a id="10287" class="Symbol">(_</a> <a id="10290" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="10292" class="Symbol">_)</a>                            <a id="10322" class="Symbol">=</a> <a id="10324" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10327" class="Symbol">Î»()</a>
<a id="10331" class="Symbol">(_</a> <a id="10334" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="10336" class="Symbol">_)</a> <a id="10339" href="NbE.html#10159" class="Function Operator">âCtx</a> <a id="10344" href="NbE.html#3840" class="InductiveConstructor">â</a>                                  <a id="10379" class="Symbol">=</a> <a id="10381" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10384" class="Symbol">Î»()</a>
<a id="10388" class="Symbol">(</a><a id="10389" href="NbE.html#10389" class="Bound">Îâ²</a> <a id="10392" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="10394" href="NbE.html#10394" class="Bound">S</a><a id="10395" class="Symbol">)</a> <a id="10397" href="NbE.html#10159" class="Function Operator">âCtx</a> <a id="10402" class="Symbol">(</a><a id="10403" href="NbE.html#10403" class="Bound">Î</a> <a id="10405" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="10407" href="NbE.html#10407" class="Bound">T</a><a id="10408" class="Symbol">)</a> <a id="10410" class="Keyword">with</a> <a id="10415" href="NbE.html#10389" class="Bound">Îâ²</a> <a id="10418" href="NbE.html#10159" class="Function Operator">âCtx</a> <a id="10423" href="NbE.html#10403" class="Bound">Î</a> <a id="10425" class="Symbol">|</a> <a id="10427" href="NbE.html#10394" class="Bound">S</a> <a id="10429" href="NbE.html#9565" class="Function Operator">âTp</a> <a id="10433" href="NbE.html#10407" class="Bound">T</a>
<a id="10435" class="Symbol">...</a>                      <a id="10460" class="Symbol">|</a> <a id="10462" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10465" href="NbE.html#10465" class="Bound">Â¬pf</a>    <a id="10472" class="Symbol">|</a> <a id="10474" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10477" class="Symbol">_</a>     <a id="10483" class="Symbol">=</a> <a id="10485" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10488" class="Symbol">Î»{</a><a id="10490" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="10495" class="Symbol">â</a> <a id="10497" href="NbE.html#10465" class="Bound">Â¬pf</a> <a id="10501" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="10505" class="Symbol">}</a>
<a id="10507" class="Symbol">...</a>                      <a id="10532" class="Symbol">|</a> <a id="10534" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10537" href="NbE.html#10537" class="Bound">Â¬pf</a>    <a id="10544" class="Symbol">|</a> <a id="10546" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10550" class="Symbol">_</a>    <a id="10555" class="Symbol">=</a> <a id="10557" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10560" class="Symbol">Î»{</a><a id="10562" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="10567" class="Symbol">â</a> <a id="10569" href="NbE.html#10537" class="Bound">Â¬pf</a> <a id="10573" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="10577" class="Symbol">}</a>
<a id="10579" class="Symbol">...</a>                      <a id="10604" class="Symbol">|</a> <a id="10606" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10610" class="Symbol">_</a>     <a id="10616" class="Symbol">|</a> <a id="10618" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10621" href="NbE.html#10621" class="Bound">Â¬pf</a>   <a id="10627" class="Symbol">=</a> <a id="10629" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10632" class="Symbol">Î»{</a><a id="10634" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="10639" class="Symbol">â</a> <a id="10641" href="NbE.html#10621" class="Bound">Â¬pf</a> <a id="10645" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="10649" class="Symbol">}</a>
<a id="10651" class="Symbol">...</a>                      <a id="10676" class="Symbol">|</a> <a id="10678" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10682" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>  <a id="10688" class="Symbol">|</a> <a id="10690" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10694" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="10699" class="Symbol">=</a> <a id="10701" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10705" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>--->
<p>With these, the relation can be made decidable in Agda:</p>
<pre class="Agda"><a id="_â¤?_"></a><a id="10785" href="NbE.html#10785" class="Function Operator">_â¤?_</a> <a id="10790" class="Symbol">:</a> <a id="10792" class="Symbol">â</a> <a id="10794" class="Symbol">(</a><a id="10795" href="NbE.html#10795" class="Bound">Îâ²</a> <a id="10798" href="NbE.html#10798" class="Bound">Î</a> <a id="10800" class="Symbol">:</a> <a id="10802" href="NbE.html#3822" class="Datatype">Ctx</a><a id="10805" class="Symbol">)</a> <a id="10807" class="Symbol">â</a> <a id="10809" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="10813" class="Symbol">(</a><a id="10814" href="NbE.html#10795" class="Bound">Îâ²</a> <a id="10817" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="10819" href="NbE.html#10798" class="Bound">Î</a><a id="10820" class="Symbol">)</a>
<a id="10822" href="NbE.html#3840" class="InductiveConstructor">â</a>        <a id="10831" href="NbE.html#10785" class="Function Operator">â¤?</a> <a id="10834" href="NbE.html#3840" class="InductiveConstructor">â</a>          <a id="10845" class="Symbol">=</a> <a id="10847" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10851" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>
<a id="10856" href="NbE.html#3840" class="InductiveConstructor">â</a>        <a id="10865" href="NbE.html#10785" class="Function Operator">â¤?</a> <a id="10868" class="Symbol">(_</a> <a id="10871" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="10873" class="Symbol">_)</a>    <a id="10879" class="Symbol">=</a> <a id="10881" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="10884" class="Symbol">Î»()</a>
<a id="10888" class="Symbol">(_</a> <a id="10891" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="10893" class="Symbol">_)</a>  <a id="10897" href="NbE.html#10785" class="Function Operator">â¤?</a> <a id="10900" href="NbE.html#3840" class="InductiveConstructor">â</a>          <a id="10911" class="Symbol">=</a> <a id="10913" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="10917" href="NbE.html#10929" class="Function">Îâ¤â</a> <a id="10921" class="Keyword">where</a>
  <a id="10929" href="NbE.html#10929" class="Function">Îâ¤â</a> <a id="10933" class="Symbol">:</a> <a id="10935" class="Symbol">â</a> <a id="10937" class="Symbol">{</a><a id="10938" href="NbE.html#10938" class="Bound">Î</a> <a id="10940" class="Symbol">:</a> <a id="10942" href="NbE.html#3822" class="Datatype">Ctx</a><a id="10945" class="Symbol">}</a> <a id="10947" class="Symbol">â</a> <a id="10949" href="NbE.html#10938" class="Bound">Î</a> <a id="10951" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="10953" href="NbE.html#3840" class="InductiveConstructor">â</a>
  <a id="10957" href="NbE.html#10929" class="Function">Îâ¤â</a> <a id="10961" class="Symbol">{</a><a id="10962" href="NbE.html#3840" class="InductiveConstructor">â</a><a id="10963" class="Symbol">}</a>     <a id="10969" class="Symbol">=</a> <a id="10971" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>
  <a id="10978" href="NbE.html#10929" class="Function">Îâ¤â</a> <a id="10982" class="Symbol">{</a><a id="10983" href="NbE.html#10983" class="Bound">Î</a> <a id="10985" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="10987" class="Symbol">_}</a> <a id="10990" class="Symbol">=</a> <a id="10992" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="10998" href="NbE.html#10929" class="Function">Îâ¤â</a>
<a id="11002" class="Symbol">(</a><a id="11003" href="NbE.html#11003" class="Bound">Îâ²</a> <a id="11006" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="11008" href="NbE.html#11008" class="Bound">T</a><a id="11009" class="Symbol">)</a> <a id="11011" href="NbE.html#10785" class="Function Operator">â¤?</a> <a id="11014" href="NbE.html#11014" class="Bound">Î</a><a id="11015" class="Symbol">@(_</a> <a id="11019" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="11021" class="Symbol">_)</a>
  <a id="11026" class="Keyword">with</a> <a id="11031" class="Symbol">(</a><a id="11032" href="NbE.html#11003" class="Bound">Îâ²</a> <a id="11035" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="11037" href="NbE.html#11008" class="Bound">T</a><a id="11038" class="Symbol">)</a> <a id="11040" href="NbE.html#10159" class="Function Operator">âCtx</a> <a id="11045" href="NbE.html#11014" class="Bound">Î</a>
<a id="11047" class="Symbol">...</a>  <a id="11052" class="Symbol">|</a> <a id="11054" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="11058" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>        <a id="11070" class="Symbol">=</a> <a id="11072" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="11076" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>
<a id="11081" class="Symbol">...</a>  <a id="11086" class="Symbol">|</a> <a id="11088" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="11091" href="NbE.html#11091" class="Bound">Îâ²â¢Î</a>
  <a id="11098" class="Keyword">with</a> <a id="11103" class="Bound">Îâ²</a> <a id="11106" href="NbE.html#10785" class="Function Operator">â¤?</a> <a id="11109" class="Bound">Î</a>
<a id="11111" class="Symbol">...</a>  <a id="11116" class="Symbol">|</a> <a id="11118" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="11122" href="NbE.html#11122" class="Bound">pf</a>          <a id="11134" class="Symbol">=</a> <a id="11136" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="11140" class="Symbol">(</a><a id="11141" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="11147" href="NbE.html#11122" class="Bound">pf</a><a id="11149" class="Symbol">)</a>
<a id="11151" class="Symbol">...</a>  <a id="11156" class="Symbol">|</a> <a id="11158" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="11161" href="NbE.html#11161" class="Bound">Â¬pf</a>          <a id="11174" class="Symbol">=</a> <a id="11176" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="11179" class="Symbol">Î»</a> <a id="11181" class="Keyword">where</a>
                           <a id="11214" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>       <a id="11225" class="Symbol">â</a> <a id="11227" class="Bound">Îâ²â¢Î</a> <a id="11232" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
                           <a id="11264" class="Symbol">(</a><a id="11265" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="11271" href="NbE.html#11271" class="Bound">pf</a><a id="11273" class="Symbol">)</a> <a id="11275" class="Symbol">â</a> <a id="11277" href="NbE.html#11161" class="Bound">Â¬pf</a> <a id="11281" href="NbE.html#11271" class="Bound">pf</a>
</pre>
<h4 id="substitution">Substitution</h4>
<p>A parallel substitution <code>Î â¢ Ï : Î</code> provides a term in
<code>Î</code> to substitute for each variable in the context
<code>Î</code>. In other words, a substitution <code>Ï</code> is a
function from variables in a context to terms in another context.</p>
<pre class="Agda"><a id="Sub"></a><a id="11534" href="NbE.html#11534" class="Function">Sub</a> <a id="11538" class="Symbol">:</a> <a id="11540" href="NbE.html#3822" class="Datatype">Ctx</a> <a id="11544" class="Symbol">â</a> <a id="11546" href="NbE.html#3822" class="Datatype">Ctx</a> <a id="11550" class="Symbol">â</a> <a id="11552" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="11556" href="NbE.html#11534" class="Function">Sub</a> <a id="11560" href="NbE.html#11560" class="Bound">Î</a> <a id="11562" href="NbE.html#11562" class="Bound">Î</a> <a id="11564" class="Symbol">=</a> <a id="11566" class="Symbol">â</a> <a id="11568" class="Symbol">{</a><a id="11569" href="NbE.html#11569" class="Bound">T</a> <a id="11571" class="Symbol">:</a> <a id="11573" href="NbE.html#3029" class="Datatype">Type</a><a id="11577" class="Symbol">}</a> <a id="11579" class="Symbol">â</a> <a id="11581" href="NbE.html#11562" class="Bound">Î</a> <a id="11583" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="11585" href="NbE.html#11569" class="Bound">T</a> <a id="11587" class="Symbol">â</a> <a id="11589" href="NbE.html#11560" class="Bound">Î</a> <a id="11591" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="11593" href="NbE.html#11569" class="Bound">T</a>
</pre>
<p>To actually use a substitution, an operation is needed to apply the
substitution to a term in the context being used by the
substitution:</p>
<pre><code>Î â¢ Ï : Î      Î â¢ t : T
------------------------
     Î â¢ t[Ï] : T</code></pre>
<p>This operation would allow for transforming a term <code>t</code>
that is well-typed in the context <code>Î</code> using a substitution
<code>Ï</code> that maps every variable in <code>Î</code> to a term that
is well-typed in <code>Î</code>.</p>
<p>Defining this operation is actually a little tricky in Agda, because
the typical definition of the application of a substitution
<code>Ï</code> is not obviously terminating. To solve this problem, it
is necessary to separately define a smaller subset of substitution:
renaming.</p>
<p>A renaming is a specialized substitution where the only terms that
can be substituted for variables are other variables (i.e.Â a renaming
<code>Î â¢ Ï : Î</code> provides a variable in <code>Î</code>, not a term
in <code>Î</code>, to replace for every variable in <code>Î</code>).</p>
<pre class="Agda"><a id="Ren"></a><a id="12521" href="NbE.html#12521" class="Function">Ren</a> <a id="12525" class="Symbol">:</a> <a id="12527" href="NbE.html#3822" class="Datatype">Ctx</a> <a id="12531" class="Symbol">â</a> <a id="12533" href="NbE.html#3822" class="Datatype">Ctx</a> <a id="12537" class="Symbol">â</a> <a id="12539" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="12543" href="NbE.html#12521" class="Function">Ren</a> <a id="12547" href="NbE.html#12547" class="Bound">Î</a> <a id="12549" href="NbE.html#12549" class="Bound">Î</a> <a id="12551" class="Symbol">=</a> <a id="12553" class="Symbol">â</a> <a id="12555" class="Symbol">{</a><a id="12556" href="NbE.html#12556" class="Bound">T</a> <a id="12558" class="Symbol">:</a> <a id="12560" href="NbE.html#3029" class="Datatype">Type</a><a id="12564" class="Symbol">}</a> <a id="12566" class="Symbol">â</a> <a id="12568" href="NbE.html#12549" class="Bound">Î</a> <a id="12570" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="12572" href="NbE.html#12556" class="Bound">T</a> <a id="12574" class="Symbol">â</a> <a id="12576" href="NbE.html#12547" class="Bound">Î</a> <a id="12578" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="12580" href="NbE.html#12556" class="Bound">T</a>
</pre>
<p>Any renaming can be transformed to the more general definition for
substitutions:</p>
<pre class="Agda"><a id="ren"></a><a id="12678" href="NbE.html#12678" class="Function">ren</a> <a id="12682" class="Symbol">:</a> <a id="12684" class="Symbol">â</a> <a id="12686" class="Symbol">{</a><a id="12687" href="NbE.html#12687" class="Bound">Î</a> <a id="12689" href="NbE.html#12689" class="Bound">Î</a> <a id="12691" class="Symbol">:</a> <a id="12693" href="NbE.html#3822" class="Datatype">Ctx</a><a id="12696" class="Symbol">}</a> <a id="12698" class="Symbol">â</a> <a id="12700" href="NbE.html#12521" class="Function">Ren</a> <a id="12704" href="NbE.html#12687" class="Bound">Î</a> <a id="12706" href="NbE.html#12689" class="Bound">Î</a> <a id="12708" class="Symbol">â</a> <a id="12710" href="NbE.html#11534" class="Function">Sub</a> <a id="12714" href="NbE.html#12687" class="Bound">Î</a> <a id="12716" href="NbE.html#12689" class="Bound">Î</a>
<a id="12718" href="NbE.html#12678" class="Function">ren</a> <a id="12722" href="NbE.html#12722" class="Bound">Ï</a> <a id="12724" href="NbE.html#12724" class="Bound">x</a> <a id="12726" class="Symbol">=</a> <a id="12728" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="12730" href="NbE.html#12722" class="Bound">Ï</a> <a id="12732" href="NbE.html#12724" class="Bound">x</a>
</pre>
<p>Two renamings that will be especially relevant are the identity
renaming (which substitutes variables for themselves) and the shifting
renaming (which shifts all variables by 1). To indicate that these are
renamings specifically (as they will also be defined for the more
general definition of substitutions), the superscript <code>Ê³</code> is
used.</p>
<pre class="Agda"><a id="idÊ³"></a><a id="13087" href="NbE.html#13087" class="Function">idÊ³</a> <a id="13091" class="Symbol">:</a> <a id="13093" class="Symbol">â</a> <a id="13095" class="Symbol">{</a><a id="13096" href="NbE.html#13096" class="Bound">Î</a> <a id="13098" class="Symbol">:</a> <a id="13100" href="NbE.html#3822" class="Datatype">Ctx</a><a id="13103" class="Symbol">}</a> <a id="13105" class="Symbol">â</a> <a id="13107" href="NbE.html#12521" class="Function">Ren</a> <a id="13111" href="NbE.html#13096" class="Bound">Î</a> <a id="13113" href="NbE.html#13096" class="Bound">Î</a>
<a id="13115" href="NbE.html#13087" class="Function">idÊ³</a> <a id="13119" href="NbE.html#13119" class="Bound">x</a> <a id="13121" class="Symbol">=</a> <a id="13123" href="NbE.html#13119" class="Bound">x</a>

<a id="â¥Ê³"></a><a id="13126" href="NbE.html#13126" class="Function">â¥Ê³</a> <a id="13129" class="Symbol">:</a> <a id="13131" class="Symbol">â</a> <a id="13133" class="Symbol">{</a><a id="13134" href="NbE.html#13134" class="Bound">Î</a> <a id="13136" class="Symbol">:</a> <a id="13138" href="NbE.html#3822" class="Datatype">Ctx</a><a id="13141" class="Symbol">}</a> <a id="13143" class="Symbol">{</a><a id="13144" href="NbE.html#13144" class="Bound">T</a> <a id="13146" class="Symbol">:</a> <a id="13148" href="NbE.html#3029" class="Datatype">Type</a><a id="13152" class="Symbol">}</a> <a id="13154" class="Symbol">â</a> <a id="13156" href="NbE.html#12521" class="Function">Ren</a> <a id="13160" class="Symbol">(</a><a id="13161" href="NbE.html#13134" class="Bound">Î</a> <a id="13163" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="13165" href="NbE.html#13144" class="Bound">T</a><a id="13166" class="Symbol">)</a> <a id="13168" href="NbE.html#13134" class="Bound">Î</a>
<a id="13170" href="NbE.html#13126" class="Function">â¥Ê³</a> <a id="13173" href="NbE.html#13173" class="Bound">x</a> <a id="13175" class="Symbol">=</a> <a id="13177" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="13179" href="NbE.html#13173" class="Bound">x</a>
</pre>
<p>Any two renamings can also be composed. For a renaming substitution,
this is really just function compostition. Agdaâs own symbol for
function composition, <code>â</code>, is used for this reason (though
again with the superscript <code>Ê³</code>).</p>
<pre class="Agda"><a id="_âÊ³_"></a><a id="13421" href="NbE.html#13421" class="Function Operator">_âÊ³_</a> <a id="13426" class="Symbol">:</a> <a id="13428" class="Symbol">â</a> <a id="13430" class="Symbol">{</a><a id="13431" href="NbE.html#13431" class="Bound">Î</a> <a id="13433" href="NbE.html#13433" class="Bound">Î</a> <a id="13435" href="NbE.html#13435" class="Bound">Î£</a> <a id="13437" class="Symbol">:</a> <a id="13439" href="NbE.html#3822" class="Datatype">Ctx</a><a id="13442" class="Symbol">}</a> <a id="13444" class="Symbol">â</a> <a id="13446" href="NbE.html#12521" class="Function">Ren</a> <a id="13450" href="NbE.html#13433" class="Bound">Î</a> <a id="13452" href="NbE.html#13431" class="Bound">Î</a> <a id="13454" class="Symbol">â</a> <a id="13456" href="NbE.html#12521" class="Function">Ren</a> <a id="13460" href="NbE.html#13435" class="Bound">Î£</a> <a id="13462" href="NbE.html#13433" class="Bound">Î</a> <a id="13464" class="Symbol">â</a> <a id="13466" href="NbE.html#12521" class="Function">Ren</a> <a id="13470" href="NbE.html#13435" class="Bound">Î£</a> <a id="13472" href="NbE.html#13431" class="Bound">Î</a>
<a id="13474" href="NbE.html#13474" class="Bound">Ï</a> <a id="13476" href="NbE.html#13421" class="Function Operator">âÊ³</a> <a id="13479" href="NbE.html#13479" class="Bound">Ï</a> <a id="13481" class="Symbol">=</a> <a id="13483" class="Symbol">Î»</a> <a id="13485" href="NbE.html#13485" class="Bound">x</a> <a id="13487" class="Symbol">â</a> <a id="13489" href="NbE.html#13479" class="Bound">Ï</a> <a id="13491" class="Symbol">(</a><a id="13492" href="NbE.html#13474" class="Bound">Ï</a> <a id="13494" href="NbE.html#13485" class="Bound">x</a><a id="13495" class="Symbol">)</a>
</pre>
<!---
<pre class="Agda"><a id="13516" class="Keyword">infixr</a> <a id="13523" class="Number">9</a> <a id="13525" href="NbE.html#13421" class="Function Operator">_âÊ³_</a>
</pre>--->
<p>It is possible to define a renaming for a context <code>Îâ²</code>
using a context <code>Î</code> that it extends by composing many
shifting renamings, ending finally at the identity renaming.</p>
<pre class="Agda"><a id="Ï-â¤"></a><a id="13715" href="NbE.html#13715" class="Function">Ï-â¤</a> <a id="13719" class="Symbol">:</a> <a id="13721" class="Symbol">â</a> <a id="13723" class="Symbol">{</a><a id="13724" href="NbE.html#13724" class="Bound">Îâ²</a> <a id="13727" href="NbE.html#13727" class="Bound">Î</a> <a id="13729" class="Symbol">:</a> <a id="13731" href="NbE.html#3822" class="Datatype">Ctx</a><a id="13734" class="Symbol">}</a> <a id="13736" class="Symbol">â</a> <a id="13738" href="NbE.html#13724" class="Bound">Îâ²</a> <a id="13741" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="13743" href="NbE.html#13727" class="Bound">Î</a> <a id="13745" class="Symbol">â</a> <a id="13747" href="NbE.html#12521" class="Function">Ren</a> <a id="13751" href="NbE.html#13724" class="Bound">Îâ²</a> <a id="13754" href="NbE.html#13727" class="Bound">Î</a>
<a id="13756" href="NbE.html#13715" class="Function">Ï-â¤</a> <a id="13760" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>       <a id="13771" class="Symbol">=</a> <a id="13773" href="NbE.html#13087" class="Function">idÊ³</a>
<a id="13777" href="NbE.html#13715" class="Function">Ï-â¤</a> <a id="13781" class="Symbol">(</a><a id="13782" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="13788" href="NbE.html#13788" class="Bound">pf</a><a id="13790" class="Symbol">)</a> <a id="13792" class="Symbol">=</a> <a id="13794" href="NbE.html#13715" class="Function">Ï-â¤</a> <a id="13798" href="NbE.html#13788" class="Bound">pf</a> <a id="13801" href="NbE.html#13421" class="Function Operator">âÊ³</a> <a id="13804" href="NbE.html#13126" class="Function">â¥Ê³</a>
</pre>
<p>The application of a renaming substituion <code>Î â¢ Ï : Î</code> to a
term <code>Î â¢ t : T</code> rebases the term to the context
<code>Î</code>. This is done by âdistributingâ the renaming substitution
across all subterms of the term, renaming all variables used in the term
with their corresponding variable in <code>Î</code>. When going under a
binder, the renaming substitution has to be âextendedâ
(<code>ext</code>) to now use the newly bound variable
<code>ð</code>.</p>
<pre class="Agda"><a id="ext"></a><a id="14229" href="NbE.html#14229" class="Function">ext</a> <a id="14233" class="Symbol">:</a> <a id="14235" class="Symbol">â</a> <a id="14237" class="Symbol">{</a><a id="14238" href="NbE.html#14238" class="Bound">Î</a> <a id="14240" href="NbE.html#14240" class="Bound">Î</a> <a id="14242" class="Symbol">:</a> <a id="14244" href="NbE.html#3822" class="Datatype">Ctx</a><a id="14247" class="Symbol">}</a> <a id="14249" class="Symbol">â</a> <a id="14251" href="NbE.html#12521" class="Function">Ren</a> <a id="14255" href="NbE.html#14238" class="Bound">Î</a> <a id="14257" href="NbE.html#14240" class="Bound">Î</a> <a id="14259" class="Symbol">â</a> <a id="14261" class="Symbol">â</a> <a id="14263" class="Symbol">{</a><a id="14264" href="NbE.html#14264" class="Bound">T</a> <a id="14266" class="Symbol">:</a> <a id="14268" href="NbE.html#3029" class="Datatype">Type</a><a id="14272" class="Symbol">}</a> <a id="14274" class="Symbol">â</a> <a id="14276" href="NbE.html#12521" class="Function">Ren</a> <a id="14280" class="Symbol">(</a><a id="14281" href="NbE.html#14238" class="Bound">Î</a> <a id="14283" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="14285" href="NbE.html#14264" class="Bound">T</a><a id="14286" class="Symbol">)</a> <a id="14288" class="Symbol">(</a><a id="14289" href="NbE.html#14240" class="Bound">Î</a> <a id="14291" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="14293" href="NbE.html#14264" class="Bound">T</a><a id="14294" class="Symbol">)</a>
<a id="14296" href="NbE.html#14229" class="Function">ext</a> <a id="14300" href="NbE.html#14300" class="Bound">Ï</a> <a id="14302" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="14308" class="Symbol">=</a> <a id="14310" href="NbE.html#4481" class="InductiveConstructor">ð</a>
<a id="14312" href="NbE.html#14229" class="Function">ext</a> <a id="14316" href="NbE.html#14316" class="Bound">Ï</a> <a id="14318" class="Symbol">(</a><a id="14319" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="14321" href="NbE.html#14321" class="Bound">x</a><a id="14322" class="Symbol">)</a> <a id="14324" class="Symbol">=</a> <a id="14326" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="14328" href="NbE.html#14316" class="Bound">Ï</a> <a id="14330" href="NbE.html#14321" class="Bound">x</a>

<a id="_[_]Ê³"></a><a id="14333" href="NbE.html#14333" class="Function Operator">_[_]Ê³</a> <a id="14339" class="Symbol">:</a> <a id="14341" class="Symbol">â</a> <a id="14343" class="Symbol">{</a><a id="14344" href="NbE.html#14344" class="Bound">Î</a> <a id="14346" href="NbE.html#14346" class="Bound">Î</a> <a id="14348" class="Symbol">:</a> <a id="14350" href="NbE.html#3822" class="Datatype">Ctx</a><a id="14353" class="Symbol">}</a> <a id="14355" class="Symbol">{</a><a id="14356" href="NbE.html#14356" class="Bound">T</a> <a id="14358" class="Symbol">:</a> <a id="14360" href="NbE.html#3029" class="Datatype">Type</a><a id="14364" class="Symbol">}</a>
      <a id="14372" class="Symbol">â</a> <a id="14374" href="NbE.html#14346" class="Bound">Î</a> <a id="14376" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="14378" href="NbE.html#14356" class="Bound">T</a>
      <a id="14386" class="Symbol">â</a> <a id="14388" href="NbE.html#12521" class="Function">Ren</a> <a id="14392" href="NbE.html#14344" class="Bound">Î</a> <a id="14394" href="NbE.html#14346" class="Bound">Î</a>
        <a id="14404" class="Comment">-------</a>
      <a id="14418" class="Symbol">â</a> <a id="14420" href="NbE.html#14344" class="Bound">Î</a> <a id="14422" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="14424" href="NbE.html#14356" class="Bound">T</a>
<a id="14426" href="NbE.html#5763" class="InductiveConstructor">unit</a> <a id="14431" href="NbE.html#14333" class="Function Operator">[</a> <a id="14433" class="Symbol">_</a> <a id="14435" href="NbE.html#14333" class="Function Operator">]Ê³</a>    <a id="14441" class="Symbol">=</a> <a id="14443" href="NbE.html#5763" class="InductiveConstructor">unit</a>
<a id="14448" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="14450" href="NbE.html#14450" class="Bound">x</a> <a id="14452" href="NbE.html#14333" class="Function Operator">[</a> <a id="14454" href="NbE.html#14454" class="Bound">Ï</a> <a id="14456" href="NbE.html#14333" class="Function Operator">]Ê³</a>     <a id="14463" class="Symbol">=</a> <a id="14465" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="14467" href="NbE.html#14454" class="Bound">Ï</a> <a id="14469" href="NbE.html#14450" class="Bound">x</a>
<a id="14471" class="Symbol">(</a><a id="14472" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="14474" href="NbE.html#14474" class="Bound">t</a><a id="14475" class="Symbol">)</a> <a id="14477" href="NbE.html#14333" class="Function Operator">[</a> <a id="14479" href="NbE.html#14479" class="Bound">Ï</a> <a id="14481" href="NbE.html#14333" class="Function Operator">]Ê³</a>   <a id="14486" class="Symbol">=</a> <a id="14488" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="14490" href="NbE.html#14474" class="Bound">t</a> <a id="14492" href="NbE.html#14333" class="Function Operator">[</a> <a id="14494" href="NbE.html#14229" class="Function">ext</a> <a id="14498" href="NbE.html#14479" class="Bound">Ï</a> <a id="14500" href="NbE.html#14333" class="Function Operator">]Ê³</a>
<a id="14503" class="Symbol">(</a><a id="14504" href="NbE.html#14504" class="Bound">r</a> <a id="14506" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="14508" href="NbE.html#14508" class="Bound">s</a><a id="14509" class="Symbol">)</a> <a id="14511" href="NbE.html#14333" class="Function Operator">[</a> <a id="14513" href="NbE.html#14513" class="Bound">Ï</a> <a id="14515" href="NbE.html#14333" class="Function Operator">]Ê³</a> <a id="14518" class="Symbol">=</a> <a id="14520" href="NbE.html#14504" class="Bound">r</a> <a id="14522" href="NbE.html#14333" class="Function Operator">[</a> <a id="14524" href="NbE.html#14513" class="Bound">Ï</a> <a id="14526" href="NbE.html#14333" class="Function Operator">]Ê³</a> <a id="14529" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="14531" href="NbE.html#14508" class="Bound">s</a> <a id="14533" href="NbE.html#14333" class="Function Operator">[</a> <a id="14535" href="NbE.html#14513" class="Bound">Ï</a> <a id="14537" href="NbE.html#14333" class="Function Operator">]Ê³</a>
</pre>
<!---
<pre class="Agda"><a id="14559" class="Keyword">infix</a> <a id="14565" class="Number">8</a> <a id="14567" href="NbE.html#14333" class="Function Operator">_[_]Ê³</a>
</pre>--->
<p>With the application of a renaming substitution, it is now possible
to define the application of any general substitution such that it is
guaranteed to terminate. Extending the terms in the substitution under a
binder requires applying a shifting substitution to every term in the
binder. By defining the application of renaming substitutions
separately, extending a substitution can be done such that the overall
definition of the application <code>Î â¢ t [ Ï ]: T</code> of a
substitution <code>Î â¢ Ï : Î</code> is guaranteed to be terminating. The
definition is very similar to the more specific application of a
renaming substitution, except variables are now being replcaed with
entire terms.</p>
<pre class="Agda"><a id="exts"></a><a id="15268" href="NbE.html#15268" class="Function">exts</a> <a id="15273" class="Symbol">:</a> <a id="15275" class="Symbol">â</a> <a id="15277" class="Symbol">{</a><a id="15278" href="NbE.html#15278" class="Bound">Î</a> <a id="15280" href="NbE.html#15280" class="Bound">Î</a> <a id="15282" class="Symbol">:</a> <a id="15284" href="NbE.html#3822" class="Datatype">Ctx</a><a id="15287" class="Symbol">}</a> <a id="15289" class="Symbol">â</a> <a id="15291" href="NbE.html#11534" class="Function">Sub</a> <a id="15295" href="NbE.html#15278" class="Bound">Î</a> <a id="15297" href="NbE.html#15280" class="Bound">Î</a> <a id="15299" class="Symbol">â</a> <a id="15301" class="Symbol">â</a> <a id="15303" class="Symbol">{</a><a id="15304" href="NbE.html#15304" class="Bound">T</a> <a id="15306" class="Symbol">:</a> <a id="15308" href="NbE.html#3029" class="Datatype">Type</a><a id="15312" class="Symbol">}</a> <a id="15314" class="Symbol">â</a> <a id="15316" href="NbE.html#11534" class="Function">Sub</a> <a id="15320" class="Symbol">(</a><a id="15321" href="NbE.html#15278" class="Bound">Î</a> <a id="15323" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="15325" href="NbE.html#15304" class="Bound">T</a><a id="15326" class="Symbol">)</a> <a id="15328" class="Symbol">(</a><a id="15329" href="NbE.html#15280" class="Bound">Î</a> <a id="15331" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="15333" href="NbE.html#15304" class="Bound">T</a><a id="15334" class="Symbol">)</a>
<a id="15336" href="NbE.html#15268" class="Function">exts</a> <a id="15341" href="NbE.html#15341" class="Bound">Ï</a> <a id="15343" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="15349" class="Symbol">=</a> <a id="15351" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="15353" href="NbE.html#4481" class="InductiveConstructor">ð</a>
<a id="15355" href="NbE.html#15268" class="Function">exts</a> <a id="15360" href="NbE.html#15360" class="Bound">Ï</a> <a id="15362" class="Symbol">(</a><a id="15363" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="15365" href="NbE.html#15365" class="Bound">x</a><a id="15366" class="Symbol">)</a> <a id="15368" class="Symbol">=</a> <a id="15370" class="Symbol">(</a><a id="15371" href="NbE.html#15360" class="Bound">Ï</a> <a id="15373" href="NbE.html#15365" class="Bound">x</a><a id="15374" class="Symbol">)</a> <a id="15376" href="NbE.html#14333" class="Function Operator">[</a> <a id="15378" href="NbE.html#13126" class="Function">â¥Ê³</a> <a id="15381" href="NbE.html#14333" class="Function Operator">]Ê³</a>

<a id="_[_]"></a><a id="15385" href="NbE.html#15385" class="Function Operator">_[_]</a> <a id="15390" class="Symbol">:</a> <a id="15392" class="Symbol">â</a> <a id="15394" class="Symbol">{</a><a id="15395" href="NbE.html#15395" class="Bound">Î</a> <a id="15397" href="NbE.html#15397" class="Bound">Î</a> <a id="15399" class="Symbol">:</a> <a id="15401" href="NbE.html#3822" class="Datatype">Ctx</a><a id="15404" class="Symbol">}</a> <a id="15406" class="Symbol">{</a><a id="15407" href="NbE.html#15407" class="Bound">T</a> <a id="15409" class="Symbol">:</a> <a id="15411" href="NbE.html#3029" class="Datatype">Type</a><a id="15415" class="Symbol">}</a>
     <a id="15422" class="Symbol">â</a> <a id="15424" href="NbE.html#15397" class="Bound">Î</a> <a id="15426" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="15428" href="NbE.html#15407" class="Bound">T</a>
     <a id="15435" class="Symbol">â</a> <a id="15437" href="NbE.html#11534" class="Function">Sub</a> <a id="15441" href="NbE.html#15395" class="Bound">Î</a> <a id="15443" href="NbE.html#15397" class="Bound">Î</a>
       <a id="15452" class="Comment">-------</a>
     <a id="15465" class="Symbol">â</a> <a id="15467" href="NbE.html#15395" class="Bound">Î</a> <a id="15469" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="15471" href="NbE.html#15407" class="Bound">T</a>
<a id="15473" href="NbE.html#5763" class="InductiveConstructor">unit</a> <a id="15478" href="NbE.html#15385" class="Function Operator">[</a> <a id="15480" class="Symbol">_</a> <a id="15482" href="NbE.html#15385" class="Function Operator">]</a>    <a id="15487" class="Symbol">=</a> <a id="15489" href="NbE.html#5763" class="InductiveConstructor">unit</a>
<a id="15494" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="15496" href="NbE.html#15496" class="Bound">x</a> <a id="15498" href="NbE.html#15385" class="Function Operator">[</a> <a id="15500" href="NbE.html#15500" class="Bound">Ï</a> <a id="15502" href="NbE.html#15385" class="Function Operator">]</a>     <a id="15508" class="Symbol">=</a> <a id="15510" href="NbE.html#15500" class="Bound">Ï</a> <a id="15512" href="NbE.html#15496" class="Bound">x</a>
<a id="15514" class="Symbol">(</a><a id="15515" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="15517" href="NbE.html#15517" class="Bound">t</a><a id="15518" class="Symbol">)</a> <a id="15520" href="NbE.html#15385" class="Function Operator">[</a> <a id="15522" href="NbE.html#15522" class="Bound">Ï</a> <a id="15524" href="NbE.html#15385" class="Function Operator">]</a>   <a id="15528" class="Symbol">=</a> <a id="15530" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="15532" href="NbE.html#15517" class="Bound">t</a> <a id="15534" href="NbE.html#15385" class="Function Operator">[</a> <a id="15536" href="NbE.html#15268" class="Function">exts</a> <a id="15541" href="NbE.html#15522" class="Bound">Ï</a> <a id="15543" href="NbE.html#15385" class="Function Operator">]</a>
<a id="15545" class="Symbol">(</a><a id="15546" href="NbE.html#15546" class="Bound">r</a> <a id="15548" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="15550" href="NbE.html#15550" class="Bound">s</a><a id="15551" class="Symbol">)</a> <a id="15553" href="NbE.html#15385" class="Function Operator">[</a> <a id="15555" href="NbE.html#15555" class="Bound">Ï</a> <a id="15557" href="NbE.html#15385" class="Function Operator">]</a> <a id="15559" class="Symbol">=</a> <a id="15561" href="NbE.html#15546" class="Bound">r</a> <a id="15563" href="NbE.html#15385" class="Function Operator">[</a> <a id="15565" href="NbE.html#15555" class="Bound">Ï</a> <a id="15567" href="NbE.html#15385" class="Function Operator">]</a> <a id="15569" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="15571" href="NbE.html#15550" class="Bound">s</a> <a id="15573" href="NbE.html#15385" class="Function Operator">[</a> <a id="15575" href="NbE.html#15555" class="Bound">Ï</a> <a id="15577" href="NbE.html#15385" class="Function Operator">]</a>
</pre>
<!---
<pre class="Agda"><a id="15594" class="Keyword">infix</a> <a id="15600" class="Number">8</a> <a id="15602" href="NbE.html#15385" class="Function Operator">_[_]</a>
</pre>--->
<p>The more general identity and shifting substitutions are defined
exactly as they were for renamings, except now the variable term is
used. Parallel substitutions can also be composed, by applying a
substitution <code>Î â¢ Ï : Î</code> to every term in a substitution
<code>Î â¢ Ï : Î£</code>.</p>
<pre class="Agda"><a id="id"></a><a id="15894" href="NbE.html#15894" class="Function">id</a> <a id="15897" class="Symbol">:</a> <a id="15899" class="Symbol">â</a> <a id="15901" class="Symbol">{</a><a id="15902" href="NbE.html#15902" class="Bound">Î</a> <a id="15904" class="Symbol">:</a> <a id="15906" href="NbE.html#3822" class="Datatype">Ctx</a><a id="15909" class="Symbol">}</a> <a id="15911" class="Symbol">â</a> <a id="15913" href="NbE.html#11534" class="Function">Sub</a> <a id="15917" href="NbE.html#15902" class="Bound">Î</a> <a id="15919" href="NbE.html#15902" class="Bound">Î</a>
<a id="15921" href="NbE.html#15894" class="Function">id</a> <a id="15924" href="NbE.html#15924" class="Bound">x</a> <a id="15926" class="Symbol">=</a> <a id="15928" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="15930" href="NbE.html#15924" class="Bound">x</a>

<a id="â¥"></a><a id="15933" href="NbE.html#15933" class="Function">â¥</a> <a id="15935" class="Symbol">:</a> <a id="15937" class="Symbol">â</a> <a id="15939" class="Symbol">{</a><a id="15940" href="NbE.html#15940" class="Bound">Î</a> <a id="15942" class="Symbol">:</a> <a id="15944" href="NbE.html#3822" class="Datatype">Ctx</a><a id="15947" class="Symbol">}</a> <a id="15949" class="Symbol">{</a><a id="15950" href="NbE.html#15950" class="Bound">T</a> <a id="15952" class="Symbol">:</a> <a id="15954" href="NbE.html#3029" class="Datatype">Type</a><a id="15958" class="Symbol">}</a> <a id="15960" class="Symbol">â</a> <a id="15962" href="NbE.html#11534" class="Function">Sub</a> <a id="15966" class="Symbol">(</a><a id="15967" href="NbE.html#15940" class="Bound">Î</a> <a id="15969" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="15971" href="NbE.html#15950" class="Bound">T</a><a id="15972" class="Symbol">)</a> <a id="15974" href="NbE.html#15940" class="Bound">Î</a>
<a id="15976" href="NbE.html#15933" class="Function">â¥</a> <a id="15978" href="NbE.html#15978" class="Bound">x</a> <a id="15980" class="Symbol">=</a> <a id="15982" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="15984" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="15986" href="NbE.html#15978" class="Bound">x</a>

<a id="_â_"></a><a id="15989" href="NbE.html#15989" class="Function Operator">_â_</a> <a id="15993" class="Symbol">:</a> <a id="15995" class="Symbol">â</a> <a id="15997" class="Symbol">{</a><a id="15998" href="NbE.html#15998" class="Bound">Î</a> <a id="16000" href="NbE.html#16000" class="Bound">Î</a> <a id="16002" href="NbE.html#16002" class="Bound">Î£</a> <a id="16004" class="Symbol">:</a> <a id="16006" href="NbE.html#3822" class="Datatype">Ctx</a><a id="16009" class="Symbol">}</a> <a id="16011" class="Symbol">â</a> <a id="16013" href="NbE.html#11534" class="Function">Sub</a> <a id="16017" href="NbE.html#16000" class="Bound">Î</a> <a id="16019" href="NbE.html#15998" class="Bound">Î</a> <a id="16021" class="Symbol">â</a> <a id="16023" href="NbE.html#11534" class="Function">Sub</a> <a id="16027" href="NbE.html#16002" class="Bound">Î£</a> <a id="16029" href="NbE.html#16000" class="Bound">Î</a> <a id="16031" class="Symbol">â</a> <a id="16033" href="NbE.html#11534" class="Function">Sub</a> <a id="16037" href="NbE.html#16002" class="Bound">Î£</a> <a id="16039" href="NbE.html#15998" class="Bound">Î</a>
<a id="16041" class="Symbol">(</a><a id="16042" href="NbE.html#16042" class="Bound">Ï</a> <a id="16044" href="NbE.html#15989" class="Function Operator">â</a> <a id="16046" href="NbE.html#16046" class="Bound">Ï</a><a id="16047" class="Symbol">)</a> <a id="16049" href="NbE.html#16049" class="Bound">x</a> <a id="16051" class="Symbol">=</a> <a id="16053" class="Symbol">(</a><a id="16054" href="NbE.html#16042" class="Bound">Ï</a> <a id="16056" href="NbE.html#16049" class="Bound">x</a><a id="16057" class="Symbol">)</a> <a id="16059" href="NbE.html#15385" class="Function Operator">[</a> <a id="16061" href="NbE.html#16046" class="Bound">Ï</a> <a id="16063" href="NbE.html#15385" class="Function Operator">]</a>
</pre>
<p>Any substitution <code>Î â¢ Ï : Î</code> can be have a well-typed term
<code>Î â¢ s : S</code> added to it as well, which will be written as
<code>Î â¢ Ï â· s : Î, x:S</code> (with <code>â·</code> used for âconsâ).
This operation is similar to the extension <code>exts</code> of a
substitution, except that terms in the substitution do not need to be
shifted (and in fact, <code>exts Ï</code> is equivalent to
<code>(Ï â â¥) â· # ð</code>).</p>
<pre class="Agda"><a id="_â·_"></a><a id="16436" href="NbE.html#16436" class="Function Operator">_â·_</a> <a id="16440" class="Symbol">:</a> <a id="16442" class="Symbol">â</a> <a id="16444" class="Symbol">{</a><a id="16445" href="NbE.html#16445" class="Bound">Î</a> <a id="16447" href="NbE.html#16447" class="Bound">Î</a> <a id="16449" class="Symbol">:</a> <a id="16451" href="NbE.html#3822" class="Datatype">Ctx</a><a id="16454" class="Symbol">}</a> <a id="16456" class="Symbol">{</a><a id="16457" href="NbE.html#16457" class="Bound">S</a> <a id="16459" class="Symbol">:</a> <a id="16461" href="NbE.html#3029" class="Datatype">Type</a><a id="16465" class="Symbol">}</a> <a id="16467" class="Symbol">â</a> <a id="16469" href="NbE.html#11534" class="Function">Sub</a> <a id="16473" href="NbE.html#16445" class="Bound">Î</a> <a id="16475" href="NbE.html#16447" class="Bound">Î</a> <a id="16477" class="Symbol">â</a> <a id="16479" href="NbE.html#16445" class="Bound">Î</a> <a id="16481" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="16483" href="NbE.html#16457" class="Bound">S</a> <a id="16485" class="Symbol">â</a> <a id="16487" href="NbE.html#11534" class="Function">Sub</a> <a id="16491" href="NbE.html#16445" class="Bound">Î</a> <a id="16493" class="Symbol">(</a><a id="16494" href="NbE.html#16447" class="Bound">Î</a> <a id="16496" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="16498" href="NbE.html#16457" class="Bound">S</a><a id="16499" class="Symbol">)</a>
<a id="16501" class="Symbol">(_</a> <a id="16504" href="NbE.html#16436" class="Function Operator">â·</a> <a id="16506" href="NbE.html#16506" class="Bound">s</a><a id="16507" class="Symbol">)</a> <a id="16509" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="16515" class="Symbol">=</a> <a id="16517" href="NbE.html#16506" class="Bound">s</a>
<a id="16519" class="Symbol">(</a><a id="16520" href="NbE.html#16520" class="Bound">Ï</a> <a id="16522" href="NbE.html#16436" class="Function Operator">â·</a> <a id="16524" class="Symbol">_)</a> <a id="16527" class="Symbol">(</a><a id="16528" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="16530" href="NbE.html#16530" class="Bound">x</a><a id="16531" class="Symbol">)</a> <a id="16533" class="Symbol">=</a> <a id="16535" href="NbE.html#16520" class="Bound">Ï</a> <a id="16537" href="NbE.html#16530" class="Bound">x</a>
</pre>
<!---
<pre class="Agda"><a id="16558" class="Keyword">infix</a> <a id="16564" class="Number">8</a> <a id="16566" href="NbE.html#16436" class="Function Operator">_â·_</a>
<a id="16570" class="Keyword">infixr</a> <a id="16577" class="Number">9</a> <a id="16579" href="NbE.html#15989" class="Function Operator">_â_</a>
</pre>--->
<p>Using the renaming substitution for context extension, any well-typed
term in <code>Î</code> can be âweakenedâ to a well-typed term in a
context <code>Îâ²</code>. <code>â¤â¢</code> will be used as shorthand for
the application of a weakening substitution (and in Agda, this will look
a lot like an extended judgement: <code>Îâ²â¤Î â¤â¢ t</code>).</p>
<pre class="Agda"><a id="weaken"></a><a id="16898" href="NbE.html#16898" class="Function">weaken</a> <a id="16905" class="Symbol">:</a> <a id="16907" class="Symbol">â</a> <a id="16909" class="Symbol">{</a><a id="16910" href="NbE.html#16910" class="Bound">Îâ²</a> <a id="16913" href="NbE.html#16913" class="Bound">Î</a> <a id="16915" class="Symbol">:</a> <a id="16917" href="NbE.html#3822" class="Datatype">Ctx</a><a id="16920" class="Symbol">}</a>
       <a id="16929" class="Symbol">â</a> <a id="16931" href="NbE.html#16910" class="Bound">Îâ²</a> <a id="16934" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="16936" href="NbE.html#16913" class="Bound">Î</a>
         <a id="16947" class="Comment">--------</a>
       <a id="16963" class="Symbol">â</a> <a id="16965" href="NbE.html#11534" class="Function">Sub</a> <a id="16969" href="NbE.html#16910" class="Bound">Îâ²</a> <a id="16972" href="NbE.html#16913" class="Bound">Î</a>
<a id="16974" href="NbE.html#16898" class="Function">weaken</a> <a id="16981" href="NbE.html#16981" class="Bound">pf</a> <a id="16984" href="NbE.html#16984" class="Bound">x</a> <a id="16986" class="Symbol">=</a> <a id="16988" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="16990" href="NbE.html#13715" class="Function">Ï-â¤</a> <a id="16994" href="NbE.html#16981" class="Bound">pf</a> <a id="16997" href="NbE.html#16984" class="Bound">x</a>

<a id="_â¤â¢_"></a><a id="17000" href="NbE.html#17000" class="Function Operator">_â¤â¢_</a> <a id="17005" class="Symbol">:</a> <a id="17007" class="Symbol">â</a> <a id="17009" class="Symbol">{</a><a id="17010" href="NbE.html#17010" class="Bound">Îâ²</a> <a id="17013" href="NbE.html#17013" class="Bound">Î</a> <a id="17015" class="Symbol">:</a> <a id="17017" href="NbE.html#3822" class="Datatype">Ctx</a><a id="17020" class="Symbol">}</a> <a id="17022" class="Symbol">{</a><a id="17023" href="NbE.html#17023" class="Bound">T</a> <a id="17025" class="Symbol">:</a> <a id="17027" href="NbE.html#3029" class="Datatype">Type</a><a id="17031" class="Symbol">}</a> <a id="17033" class="Symbol">â</a> <a id="17035" href="NbE.html#17010" class="Bound">Îâ²</a> <a id="17038" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="17040" href="NbE.html#17013" class="Bound">Î</a> <a id="17042" class="Symbol">â</a> <a id="17044" href="NbE.html#17013" class="Bound">Î</a> <a id="17046" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="17048" href="NbE.html#17023" class="Bound">T</a> <a id="17050" class="Symbol">â</a> <a id="17052" href="NbE.html#17010" class="Bound">Îâ²</a> <a id="17055" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="17057" href="NbE.html#17023" class="Bound">T</a>
<a id="17059" href="NbE.html#17059" class="Bound">pf</a> <a id="17062" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="17065" href="NbE.html#17065" class="Bound">t</a> <a id="17067" class="Symbol">=</a> <a id="17069" href="NbE.html#17065" class="Bound">t</a> <a id="17071" href="NbE.html#15385" class="Function Operator">[</a> <a id="17073" href="NbE.html#16898" class="Function">weaken</a> <a id="17080" href="NbE.html#17059" class="Bound">pf</a> <a id="17083" href="NbE.html#15385" class="Function Operator">]</a>
</pre>
<p>It will similarly be useful to introduce shorthand for the
application of a shifting substitution:</p>
<pre class="Agda"><a id="_â¥â¢_"></a><a id="17198" href="NbE.html#17198" class="Function Operator">_â¥â¢_</a> <a id="17203" class="Symbol">:</a> <a id="17205" class="Symbol">â</a> <a id="17207" class="Symbol">{</a><a id="17208" href="NbE.html#17208" class="Bound">Î</a> <a id="17210" class="Symbol">:</a> <a id="17212" href="NbE.html#3822" class="Datatype">Ctx</a><a id="17215" class="Symbol">}</a> <a id="17217" class="Symbol">{</a><a id="17218" href="NbE.html#17218" class="Bound">T</a> <a id="17220" class="Symbol">:</a> <a id="17222" href="NbE.html#3029" class="Datatype">Type</a><a id="17226" class="Symbol">}</a> <a id="17228" class="Symbol">â</a> <a id="17230" class="Symbol">(</a><a id="17231" href="NbE.html#17231" class="Bound">S</a> <a id="17233" class="Symbol">:</a> <a id="17235" href="NbE.html#3029" class="Datatype">Type</a><a id="17239" class="Symbol">)</a> <a id="17241" class="Symbol">â</a> <a id="17243" href="NbE.html#17208" class="Bound">Î</a> <a id="17245" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="17247" href="NbE.html#17218" class="Bound">T</a> <a id="17249" class="Symbol">â</a> <a id="17251" href="NbE.html#17208" class="Bound">Î</a> <a id="17253" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="17255" href="NbE.html#17231" class="Bound">S</a> <a id="17257" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="17259" href="NbE.html#17218" class="Bound">T</a>
<a id="17261" class="Symbol">_</a> <a id="17263" href="NbE.html#17198" class="Function Operator">â¥â¢</a> <a id="17266" href="NbE.html#17266" class="Bound">t</a> <a id="17268" class="Symbol">=</a> <a id="17270" href="NbE.html#17266" class="Bound">t</a> <a id="17272" href="NbE.html#15385" class="Function Operator">[</a> <a id="17274" href="NbE.html#15933" class="Function">â¥</a> <a id="17276" href="NbE.html#15385" class="Function Operator">]</a>
</pre>
<!---
<pre class="Agda"><a id="17293" class="Keyword">infixr</a> <a id="17300" class="Number">5</a> <a id="17302" href="NbE.html#17198" class="Function Operator">_â¥â¢_</a>
<a id="17307" class="Keyword">infixr</a> <a id="17314" class="Number">5</a> <a id="17316" href="NbE.html#17000" class="Function Operator">_â¤â¢_</a>
</pre>--->
<p>To actually prove results about terms, a number of substitution
lemmas will be necessary. Their proofs are omitted, though they are
directly inspired from the <a href="https://plfa.github.io/20.07/Substitution/">Substitution</a>
chapter of PLFA. The most import ones are <code>sub-sub</code>
(substitutions can be composed) and <code>[id]-identity</code> (the
application of the identity substitution is an identity).</p>
<!---
<pre class="Agda"><a id="sub-tail"></a><a id="17731" href="NbE.html#17731" class="Function">sub-tail</a> <a id="17740" class="Symbol">:</a> <a id="17742" class="Symbol">â</a> <a id="17744" class="Symbol">{</a><a id="17745" href="NbE.html#17745" class="Bound">Î</a> <a id="17747" href="NbE.html#17747" class="Bound">Î</a> <a id="17749" class="Symbol">:</a> <a id="17751" href="NbE.html#3822" class="Datatype">Ctx</a><a id="17754" class="Symbol">}</a> <a id="17756" class="Symbol">{</a><a id="17757" href="NbE.html#17757" class="Bound">S</a> <a id="17759" href="NbE.html#17759" class="Bound">T</a> <a id="17761" class="Symbol">:</a> <a id="17763" href="NbE.html#3029" class="Datatype">Type</a><a id="17767" class="Symbol">}</a> <a id="17769" class="Symbol">{</a><a id="17770" href="NbE.html#17770" class="Bound">s</a> <a id="17772" class="Symbol">:</a> <a id="17774" href="NbE.html#17745" class="Bound">Î</a> <a id="17776" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="17778" href="NbE.html#17757" class="Bound">S</a><a id="17779" class="Symbol">}</a> <a id="17781" class="Symbol">{</a><a id="17782" href="NbE.html#17782" class="Bound">Ï</a> <a id="17784" class="Symbol">:</a> <a id="17786" href="NbE.html#11534" class="Function">Sub</a> <a id="17790" href="NbE.html#17745" class="Bound">Î</a> <a id="17792" href="NbE.html#17747" class="Bound">Î</a><a id="17793" class="Symbol">}</a>
         <a id="17804" class="Symbol">â</a> <a id="17806" class="Symbol">(</a><a id="17807" href="NbE.html#15933" class="Function">â¥</a> <a id="17809" href="NbE.html#15989" class="Function Operator">â</a> <a id="17811" class="Symbol">(</a><a id="17812" href="NbE.html#17782" class="Bound">Ï</a> <a id="17814" href="NbE.html#16436" class="Function Operator">â·</a> <a id="17816" href="NbE.html#17770" class="Bound">s</a><a id="17817" class="Symbol">))</a> <a id="17820" class="Symbol">{</a><a id="17821" class="Argument">T</a> <a id="17823" class="Symbol">=</a> <a id="17825" href="NbE.html#17759" class="Bound">T</a><a id="17826" class="Symbol">}</a> <a id="17828" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="17830" href="NbE.html#17782" class="Bound">Ï</a>
<a id="17832" href="NbE.html#17731" class="Function">sub-tail</a> <a id="17841" class="Symbol">=</a> <a id="17843" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="sub-dist"></a><a id="17849" href="NbE.html#17849" class="Function">sub-dist</a> <a id="17858" class="Symbol">:</a> <a id="17860" class="Symbol">â</a> <a id="17862" class="Symbol">{</a><a id="17863" href="NbE.html#17863" class="Bound">Î</a> <a id="17865" href="NbE.html#17865" class="Bound">Î</a> <a id="17867" href="NbE.html#17867" class="Bound">Î£</a> <a id="17869" class="Symbol">:</a> <a id="17871" href="NbE.html#3822" class="Datatype">Ctx</a><a id="17874" class="Symbol">}</a> <a id="17876" class="Symbol">{</a><a id="17877" href="NbE.html#17877" class="Bound">S</a> <a id="17879" href="NbE.html#17879" class="Bound">T</a> <a id="17881" class="Symbol">:</a> <a id="17883" href="NbE.html#3029" class="Datatype">Type</a><a id="17887" class="Symbol">}</a> <a id="17889" class="Symbol">{</a><a id="17890" href="NbE.html#17890" class="Bound">Ï</a> <a id="17892" class="Symbol">:</a> <a id="17894" href="NbE.html#11534" class="Function">Sub</a> <a id="17898" href="NbE.html#17863" class="Bound">Î</a> <a id="17900" href="NbE.html#17865" class="Bound">Î</a><a id="17901" class="Symbol">}</a> <a id="17903" class="Symbol">{</a><a id="17904" href="NbE.html#17904" class="Bound">Ï</a> <a id="17906" class="Symbol">:</a> <a id="17908" href="NbE.html#11534" class="Function">Sub</a> <a id="17912" href="NbE.html#17865" class="Bound">Î</a> <a id="17914" href="NbE.html#17867" class="Bound">Î£</a><a id="17915" class="Symbol">}</a> <a id="17917" class="Symbol">{</a><a id="17918" href="NbE.html#17918" class="Bound">s</a> <a id="17920" class="Symbol">:</a> <a id="17922" href="NbE.html#17865" class="Bound">Î</a> <a id="17924" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="17926" href="NbE.html#17877" class="Bound">S</a><a id="17927" class="Symbol">}</a>
         <a id="17938" class="Symbol">â</a> <a id="17940" class="Symbol">(</a><a id="17941" href="NbE.html#17904" class="Bound">Ï</a> <a id="17943" href="NbE.html#16436" class="Function Operator">â·</a> <a id="17945" href="NbE.html#17918" class="Bound">s</a><a id="17946" class="Symbol">)</a> <a id="17948" href="NbE.html#15989" class="Function Operator">â</a> <a id="17950" href="NbE.html#17890" class="Bound">Ï</a> <a id="17952" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="17954" class="Symbol">(</a><a id="17955" href="NbE.html#17904" class="Bound">Ï</a> <a id="17957" href="NbE.html#15989" class="Function Operator">â</a> <a id="17959" href="NbE.html#17890" class="Bound">Ï</a> <a id="17961" href="NbE.html#16436" class="Function Operator">â·</a> <a id="17963" class="Symbol">(</a><a id="17964" href="NbE.html#17918" class="Bound">s</a> <a id="17966" href="NbE.html#15385" class="Function Operator">[</a> <a id="17968" href="NbE.html#17890" class="Bound">Ï</a> <a id="17970" href="NbE.html#15385" class="Function Operator">]</a><a id="17971" class="Symbol">))</a> <a id="17974" class="Symbol">{</a><a id="17975" href="NbE.html#17879" class="Bound">T</a><a id="17976" class="Symbol">}</a>
<a id="17978" href="NbE.html#17849" class="Function">sub-dist</a> <a id="17987" class="Symbol">{</a><a id="17988" class="Argument">Î£</a> <a id="17990" class="Symbol">=</a> <a id="17992" href="NbE.html#17992" class="Bound">Î£</a><a id="17993" class="Symbol">}</a> <a id="17995" class="Symbol">{</a><a id="17996" href="NbE.html#17996" class="Bound">S</a><a id="17997" class="Symbol">}</a> <a id="17999" class="Symbol">{</a><a id="18000" href="NbE.html#18000" class="Bound">T</a><a id="18001" class="Symbol">}</a> <a id="18003" class="Symbol">{</a><a id="18004" href="NbE.html#18004" class="Bound">Ï</a><a id="18005" class="Symbol">}</a> <a id="18007" class="Symbol">{</a><a id="18008" href="NbE.html#18008" class="Bound">Ï</a><a id="18009" class="Symbol">}</a> <a id="18011" class="Symbol">{</a><a id="18012" href="NbE.html#18012" class="Bound">s</a><a id="18013" class="Symbol">}</a> <a id="18015" class="Symbol">=</a> <a id="18017" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="18032" href="NbE.html#18046" class="Function">lemma</a> <a id="18038" class="Keyword">where</a>
  <a id="18046" href="NbE.html#18046" class="Function">lemma</a> <a id="18052" class="Symbol">:</a> <a id="18054" class="Symbol">â</a> <a id="18056" class="Symbol">(</a><a id="18057" href="NbE.html#18057" class="Bound">x</a> <a id="18059" class="Symbol">:</a> <a id="18061" href="NbE.html#17992" class="Bound">Î£</a> <a id="18063" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="18065" href="NbE.html#17996" class="Bound">S</a> <a id="18067" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="18069" href="NbE.html#18000" class="Bound">T</a><a id="18070" class="Symbol">)</a> <a id="18072" class="Symbol">â</a> <a id="18074" class="Symbol">((</a><a id="18076" href="NbE.html#18008" class="Bound">Ï</a> <a id="18078" href="NbE.html#16436" class="Function Operator">â·</a> <a id="18080" href="NbE.html#18012" class="Bound">s</a><a id="18081" class="Symbol">)</a> <a id="18083" href="NbE.html#15989" class="Function Operator">â</a> <a id="18085" href="NbE.html#18004" class="Bound">Ï</a><a id="18086" class="Symbol">)</a> <a id="18088" href="NbE.html#18057" class="Bound">x</a> <a id="18090" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="18092" class="Symbol">((</a><a id="18094" href="NbE.html#18008" class="Bound">Ï</a> <a id="18096" href="NbE.html#15989" class="Function Operator">â</a> <a id="18098" href="NbE.html#18004" class="Bound">Ï</a><a id="18099" class="Symbol">)</a> <a id="18101" href="NbE.html#16436" class="Function Operator">â·</a> <a id="18103" class="Symbol">(</a><a id="18104" href="NbE.html#18012" class="Bound">s</a> <a id="18106" href="NbE.html#15385" class="Function Operator">[</a> <a id="18108" href="NbE.html#18004" class="Bound">Ï</a> <a id="18110" href="NbE.html#15385" class="Function Operator">]</a><a id="18111" class="Symbol">))</a> <a id="18114" href="NbE.html#18057" class="Bound">x</a>
  <a id="18118" href="NbE.html#18046" class="Function">lemma</a> <a id="18124" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="18130" class="Symbol">=</a> <a id="18132" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="18139" href="NbE.html#18046" class="Function">lemma</a> <a id="18145" class="Symbol">(</a><a id="18146" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="18148" href="NbE.html#18148" class="Bound">x</a><a id="18149" class="Symbol">)</a> <a id="18151" class="Symbol">=</a> <a id="18153" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="cong-ext"></a><a id="18159" href="NbE.html#18159" class="Function">cong-ext</a> <a id="18168" class="Symbol">:</a> <a id="18170" class="Symbol">â</a> <a id="18172" class="Symbol">{</a><a id="18173" href="NbE.html#18173" class="Bound">Î</a> <a id="18175" href="NbE.html#18175" class="Bound">Î</a> <a id="18177" class="Symbol">:</a> <a id="18179" href="NbE.html#3822" class="Datatype">Ctx</a><a id="18182" class="Symbol">}</a> <a id="18184" class="Symbol">{</a><a id="18185" href="NbE.html#18185" class="Bound">Ï</a> <a id="18187" href="NbE.html#18187" class="Bound">Ïâ²</a> <a id="18190" class="Symbol">:</a> <a id="18192" href="NbE.html#12521" class="Function">Ren</a> <a id="18196" href="NbE.html#18173" class="Bound">Î</a> <a id="18198" href="NbE.html#18175" class="Bound">Î</a><a id="18199" class="Symbol">}</a> <a id="18201" class="Symbol">{</a><a id="18202" href="NbE.html#18202" class="Bound">T</a> <a id="18204" class="Symbol">:</a> <a id="18206" href="NbE.html#3029" class="Datatype">Type</a><a id="18210" class="Symbol">}</a>
         <a id="18221" class="Symbol">â</a> <a id="18223" class="Symbol">(â</a> <a id="18226" class="Symbol">{</a><a id="18227" href="NbE.html#18227" class="Bound">S</a> <a id="18229" class="Symbol">:</a> <a id="18231" href="NbE.html#3029" class="Datatype">Type</a><a id="18235" class="Symbol">}</a> <a id="18237" class="Symbol">â</a> <a id="18239" href="NbE.html#18185" class="Bound">Ï</a> <a id="18241" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="18243" href="NbE.html#18187" class="Bound">Ïâ²</a> <a id="18246" class="Symbol">{</a><a id="18247" href="NbE.html#18227" class="Bound">S</a><a id="18248" class="Symbol">})</a>
         <a id="18260" class="Symbol">â</a> <a id="18262" class="Symbol">â</a> <a id="18264" class="Symbol">{</a><a id="18265" href="NbE.html#18265" class="Bound">S</a> <a id="18267" class="Symbol">:</a> <a id="18269" href="NbE.html#3029" class="Datatype">Type</a><a id="18273" class="Symbol">}</a> <a id="18275" class="Symbol">â</a> <a id="18277" href="NbE.html#14229" class="Function">ext</a> <a id="18281" href="NbE.html#18185" class="Bound">Ï</a> <a id="18283" class="Symbol">{</a><a id="18284" href="NbE.html#18202" class="Bound">T</a><a id="18285" class="Symbol">}</a> <a id="18287" class="Symbol">{</a><a id="18288" href="NbE.html#18265" class="Bound">S</a><a id="18289" class="Symbol">}</a> <a id="18291" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="18293" href="NbE.html#14229" class="Function">ext</a> <a id="18297" href="NbE.html#18187" class="Bound">Ïâ²</a>
<a id="18300" href="NbE.html#18159" class="Function">cong-ext</a> <a id="18309" class="Symbol">{</a><a id="18310" class="Argument">Î</a> <a id="18312" class="Symbol">=</a> <a id="18314" href="NbE.html#18314" class="Bound">Î</a><a id="18315" class="Symbol">}</a> <a id="18317" class="Symbol">{</a><a id="18318" href="NbE.html#18318" class="Bound">Ï</a><a id="18319" class="Symbol">}</a> <a id="18321" class="Symbol">{</a><a id="18322" href="NbE.html#18322" class="Bound">Ïâ²</a><a id="18324" class="Symbol">}</a> <a id="18326" class="Symbol">{</a><a id="18327" href="NbE.html#18327" class="Bound">T</a><a id="18328" class="Symbol">}</a> <a id="18330" href="NbE.html#18330" class="Bound">Ïâ¡Ïâ²</a> <a id="18335" class="Symbol">{</a><a id="18336" href="NbE.html#18336" class="Bound">S</a><a id="18337" class="Symbol">}</a> <a id="18339" class="Symbol">=</a> <a id="18341" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="18356" href="NbE.html#18370" class="Function">lemma</a> <a id="18362" class="Keyword">where</a>
  <a id="18370" href="NbE.html#18370" class="Function">lemma</a> <a id="18376" class="Symbol">:</a> <a id="18378" class="Symbol">â</a> <a id="18380" class="Symbol">(</a><a id="18381" href="NbE.html#18381" class="Bound">x</a> <a id="18383" class="Symbol">:</a> <a id="18385" href="NbE.html#18314" class="Bound">Î</a> <a id="18387" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="18389" href="NbE.html#18327" class="Bound">T</a> <a id="18391" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="18393" href="NbE.html#18336" class="Bound">S</a><a id="18394" class="Symbol">)</a> <a id="18396" class="Symbol">â</a> <a id="18398" href="NbE.html#14229" class="Function">ext</a> <a id="18402" href="NbE.html#18318" class="Bound">Ï</a> <a id="18404" href="NbE.html#18381" class="Bound">x</a> <a id="18406" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="18408" href="NbE.html#14229" class="Function">ext</a> <a id="18412" href="NbE.html#18322" class="Bound">Ïâ²</a> <a id="18415" href="NbE.html#18381" class="Bound">x</a>
  <a id="18419" href="NbE.html#18370" class="Function">lemma</a> <a id="18425" href="NbE.html#4481" class="InductiveConstructor">ð</a>                      <a id="18448" class="Symbol">=</a> <a id="18450" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="18457" href="NbE.html#18370" class="Function">lemma</a> <a id="18463" class="Symbol">(</a><a id="18464" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="18466" href="NbE.html#18466" class="Bound">x</a><a id="18467" class="Symbol">)</a> <a id="18469" class="Keyword">rewrite</a> <a id="18477" href="NbE.html#18330" class="Bound">Ïâ¡Ïâ²</a> <a id="18482" class="Symbol">{</a><a id="18483" href="NbE.html#18336" class="Bound">S</a><a id="18484" class="Symbol">}</a> <a id="18486" class="Symbol">=</a> <a id="18488" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="cong-rename"></a><a id="18494" href="NbE.html#18494" class="Function">cong-rename</a> <a id="18506" class="Symbol">:</a> <a id="18508" class="Symbol">â</a> <a id="18510" class="Symbol">{</a><a id="18511" href="NbE.html#18511" class="Bound">Î</a> <a id="18513" href="NbE.html#18513" class="Bound">Î</a> <a id="18515" class="Symbol">:</a> <a id="18517" href="NbE.html#3822" class="Datatype">Ctx</a><a id="18520" class="Symbol">}</a> <a id="18522" class="Symbol">{</a><a id="18523" href="NbE.html#18523" class="Bound">Ï</a> <a id="18525" href="NbE.html#18525" class="Bound">Ïâ²</a> <a id="18528" class="Symbol">:</a> <a id="18530" href="NbE.html#12521" class="Function">Ren</a> <a id="18534" href="NbE.html#18511" class="Bound">Î</a> <a id="18536" href="NbE.html#18513" class="Bound">Î</a><a id="18537" class="Symbol">}</a> <a id="18539" class="Symbol">{</a><a id="18540" href="NbE.html#18540" class="Bound">T</a> <a id="18542" class="Symbol">:</a> <a id="18544" href="NbE.html#3029" class="Datatype">Type</a><a id="18548" class="Symbol">}</a> <a id="18550" class="Symbol">{</a><a id="18551" href="NbE.html#18551" class="Bound">t</a> <a id="18553" class="Symbol">:</a> <a id="18555" href="NbE.html#18513" class="Bound">Î</a> <a id="18557" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="18559" href="NbE.html#18540" class="Bound">T</a><a id="18560" class="Symbol">}</a>
            <a id="18574" class="Symbol">â</a> <a id="18576" class="Symbol">(â</a> <a id="18579" class="Symbol">{</a><a id="18580" href="NbE.html#18580" class="Bound">S</a> <a id="18582" class="Symbol">:</a> <a id="18584" href="NbE.html#3029" class="Datatype">Type</a><a id="18588" class="Symbol">}</a> <a id="18590" class="Symbol">â</a> <a id="18592" href="NbE.html#18523" class="Bound">Ï</a> <a id="18594" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="18596" href="NbE.html#18525" class="Bound">Ïâ²</a> <a id="18599" class="Symbol">{</a><a id="18600" href="NbE.html#18580" class="Bound">S</a><a id="18601" class="Symbol">})</a>
            <a id="18616" class="Symbol">â</a> <a id="18618" href="NbE.html#18551" class="Bound">t</a> <a id="18620" href="NbE.html#14333" class="Function Operator">[</a> <a id="18622" href="NbE.html#18523" class="Bound">Ï</a> <a id="18624" href="NbE.html#14333" class="Function Operator">]Ê³</a> <a id="18627" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="18629" href="NbE.html#18551" class="Bound">t</a> <a id="18631" href="NbE.html#14333" class="Function Operator">[</a> <a id="18633" href="NbE.html#18525" class="Bound">Ïâ²</a> <a id="18636" href="NbE.html#14333" class="Function Operator">]Ê³</a>
<a id="18639" href="NbE.html#18494" class="Function">cong-rename</a> <a id="18651" class="Symbol">{</a><a id="18652" class="Argument">t</a> <a id="18654" class="Symbol">=</a> <a id="18656" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="18660" class="Symbol">}</a> <a id="18662" class="Symbol">_</a>                                                <a id="18711" class="Symbol">=</a> <a id="18713" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="18718" href="NbE.html#18494" class="Function">cong-rename</a> <a id="18730" class="Symbol">{</a><a id="18731" class="Argument">T</a> <a id="18733" class="Symbol">=</a> <a id="18735" href="NbE.html#18735" class="Bound">T</a><a id="18736" class="Symbol">}</a> <a id="18738" class="Symbol">{</a><a id="18739" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="18741" href="NbE.html#18741" class="Bound">x</a><a id="18742" class="Symbol">}</a> <a id="18744" href="NbE.html#18744" class="Bound">Ïâ¡Ïâ²</a> <a id="18749" class="Keyword">rewrite</a> <a id="18757" href="NbE.html#18744" class="Bound">Ïâ¡Ïâ²</a> <a id="18762" class="Symbol">{</a><a id="18763" href="NbE.html#18735" class="Bound">T</a><a id="18764" class="Symbol">}</a>                         <a id="18790" class="Symbol">=</a> <a id="18792" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="18797" href="NbE.html#18494" class="Function">cong-rename</a> <a id="18809" class="Symbol">{</a><a id="18810" class="Argument">Ï</a> <a id="18812" class="Symbol">=</a> <a id="18814" href="NbE.html#18814" class="Bound">Ï</a><a id="18815" class="Symbol">}</a> <a id="18817" class="Symbol">{</a><a id="18818" href="NbE.html#18818" class="Bound">Ïâ²</a><a id="18820" class="Symbol">}</a> <a id="18822" class="Symbol">{</a><a id="18823" class="Argument">t</a> <a id="18825" class="Symbol">=</a> <a id="18827" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="18829" href="NbE.html#18829" class="Bound">t</a><a id="18830" class="Symbol">}</a> <a id="18832" href="NbE.html#18832" class="Bound">Ïâ¡Ïâ²</a>
  <a id="18839" class="Keyword">rewrite</a> <a id="18847" href="NbE.html#18494" class="Function">cong-rename</a> <a id="18859" class="Symbol">{</a><a id="18860" class="Argument">Ï</a> <a id="18862" class="Symbol">=</a> <a id="18864" href="NbE.html#14229" class="Function">ext</a> <a id="18868" href="NbE.html#18814" class="Bound">Ï</a><a id="18869" class="Symbol">}</a> <a id="18871" class="Symbol">{</a><a id="18872" class="Argument">Ïâ²</a> <a id="18875" class="Symbol">=</a> <a id="18877" href="NbE.html#14229" class="Function">ext</a> <a id="18881" href="NbE.html#18818" class="Bound">Ïâ²</a><a id="18883" class="Symbol">}</a> <a id="18885" class="Symbol">{</a><a id="18886" class="Argument">t</a> <a id="18888" class="Symbol">=</a> <a id="18890" href="NbE.html#18829" class="Bound">t</a><a id="18891" class="Symbol">}</a> <a id="18893" class="Symbol">(</a><a id="18894" href="NbE.html#18159" class="Function">cong-ext</a> <a id="18903" href="NbE.html#18832" class="Bound">Ïâ¡Ïâ²</a><a id="18907" class="Symbol">)</a> <a id="18909" class="Symbol">=</a> <a id="18911" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="18916" href="NbE.html#18494" class="Function">cong-rename</a> <a id="18928" class="Symbol">{</a><a id="18929" class="Argument">t</a> <a id="18931" class="Symbol">=</a> <a id="18933" href="NbE.html#18933" class="Bound">r</a> <a id="18935" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="18937" href="NbE.html#18937" class="Bound">s</a><a id="18938" class="Symbol">}</a> <a id="18940" href="NbE.html#18940" class="Bound">Ïâ¡Ïâ²</a>
  <a id="18947" class="Keyword">rewrite</a> <a id="18955" href="NbE.html#18494" class="Function">cong-rename</a> <a id="18967" class="Symbol">{</a><a id="18968" class="Argument">t</a> <a id="18970" class="Symbol">=</a> <a id="18972" href="NbE.html#18933" class="Bound">r</a><a id="18973" class="Symbol">}</a> <a id="18975" href="NbE.html#18940" class="Bound">Ïâ¡Ïâ²</a> <a id="18980" class="Symbol">|</a> <a id="18982" href="NbE.html#18494" class="Function">cong-rename</a> <a id="18994" class="Symbol">{</a><a id="18995" class="Argument">t</a> <a id="18997" class="Symbol">=</a> <a id="18999" href="NbE.html#18937" class="Bound">s</a><a id="19000" class="Symbol">}</a> <a id="19002" href="NbE.html#18940" class="Bound">Ïâ¡Ïâ²</a>           <a id="19017" class="Symbol">=</a> <a id="19019" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="cong-exts"></a><a id="19025" href="NbE.html#19025" class="Function">cong-exts</a> <a id="19035" class="Symbol">:</a> <a id="19037" class="Symbol">â</a> <a id="19039" class="Symbol">{</a><a id="19040" href="NbE.html#19040" class="Bound">Î</a> <a id="19042" href="NbE.html#19042" class="Bound">Î</a> <a id="19044" class="Symbol">:</a> <a id="19046" href="NbE.html#3822" class="Datatype">Ctx</a><a id="19049" class="Symbol">}</a> <a id="19051" class="Symbol">{</a><a id="19052" href="NbE.html#19052" class="Bound">Ï</a> <a id="19054" href="NbE.html#19054" class="Bound">Ïâ²</a> <a id="19057" class="Symbol">:</a> <a id="19059" href="NbE.html#11534" class="Function">Sub</a> <a id="19063" href="NbE.html#19040" class="Bound">Î</a> <a id="19065" href="NbE.html#19042" class="Bound">Î</a><a id="19066" class="Symbol">}</a> <a id="19068" class="Symbol">{</a><a id="19069" href="NbE.html#19069" class="Bound">T</a> <a id="19071" class="Symbol">:</a> <a id="19073" href="NbE.html#3029" class="Datatype">Type</a><a id="19077" class="Symbol">}</a>
          <a id="19089" class="Symbol">â</a> <a id="19091" class="Symbol">(â</a> <a id="19094" class="Symbol">{</a><a id="19095" href="NbE.html#19095" class="Bound">S</a> <a id="19097" class="Symbol">:</a> <a id="19099" href="NbE.html#3029" class="Datatype">Type</a><a id="19103" class="Symbol">}</a> <a id="19105" class="Symbol">â</a> <a id="19107" href="NbE.html#19052" class="Bound">Ï</a> <a id="19109" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="19111" href="NbE.html#19054" class="Bound">Ïâ²</a> <a id="19114" class="Symbol">{</a><a id="19115" href="NbE.html#19095" class="Bound">S</a><a id="19116" class="Symbol">})</a>
          <a id="19129" class="Symbol">â</a> <a id="19131" class="Symbol">(â</a> <a id="19134" class="Symbol">{</a><a id="19135" href="NbE.html#19135" class="Bound">S</a> <a id="19137" class="Symbol">:</a> <a id="19139" href="NbE.html#3029" class="Datatype">Type</a><a id="19143" class="Symbol">}</a> <a id="19145" class="Symbol">â</a> <a id="19147" href="NbE.html#15268" class="Function">exts</a> <a id="19152" href="NbE.html#19052" class="Bound">Ï</a> <a id="19154" class="Symbol">{</a><a id="19155" href="NbE.html#19069" class="Bound">T</a><a id="19156" class="Symbol">}</a> <a id="19158" class="Symbol">{</a><a id="19159" href="NbE.html#19135" class="Bound">S</a><a id="19160" class="Symbol">}</a> <a id="19162" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="19164" href="NbE.html#15268" class="Function">exts</a> <a id="19169" href="NbE.html#19054" class="Bound">Ïâ²</a><a id="19171" class="Symbol">)</a>
<a id="19173" href="NbE.html#19025" class="Function">cong-exts</a> <a id="19183" class="Symbol">{</a><a id="19184" class="Argument">Î</a> <a id="19186" class="Symbol">=</a> <a id="19188" href="NbE.html#19188" class="Bound">Î</a><a id="19189" class="Symbol">}</a> <a id="19191" class="Symbol">{</a><a id="19192" href="NbE.html#19192" class="Bound">Ï</a><a id="19193" class="Symbol">}</a> <a id="19195" class="Symbol">{</a><a id="19196" href="NbE.html#19196" class="Bound">Ïâ²</a><a id="19198" class="Symbol">}</a> <a id="19200" class="Symbol">{</a><a id="19201" href="NbE.html#19201" class="Bound">T</a><a id="19202" class="Symbol">}</a> <a id="19204" href="NbE.html#19204" class="Bound">Ïâ¡Ïâ²</a> <a id="19209" class="Symbol">{</a><a id="19210" href="NbE.html#19210" class="Bound">S</a><a id="19211" class="Symbol">}</a> <a id="19213" class="Symbol">=</a> <a id="19215" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="19230" href="NbE.html#19244" class="Function">lemma</a> <a id="19236" class="Keyword">where</a>
  <a id="19244" href="NbE.html#19244" class="Function">lemma</a> <a id="19250" class="Symbol">:</a> <a id="19252" class="Symbol">â</a> <a id="19254" class="Symbol">(</a><a id="19255" href="NbE.html#19255" class="Bound">x</a> <a id="19257" class="Symbol">:</a> <a id="19259" href="NbE.html#19188" class="Bound">Î</a> <a id="19261" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="19263" href="NbE.html#19201" class="Bound">T</a> <a id="19265" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="19267" href="NbE.html#19210" class="Bound">S</a><a id="19268" class="Symbol">)</a> <a id="19270" class="Symbol">â</a> <a id="19272" href="NbE.html#15268" class="Function">exts</a> <a id="19277" href="NbE.html#19192" class="Bound">Ï</a> <a id="19279" href="NbE.html#19255" class="Bound">x</a> <a id="19281" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="19283" href="NbE.html#15268" class="Function">exts</a> <a id="19288" href="NbE.html#19196" class="Bound">Ïâ²</a> <a id="19291" href="NbE.html#19255" class="Bound">x</a>
  <a id="19295" href="NbE.html#19244" class="Function">lemma</a> <a id="19301" href="NbE.html#4481" class="InductiveConstructor">ð</a>                      <a id="19324" class="Symbol">=</a> <a id="19326" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="19333" href="NbE.html#19244" class="Function">lemma</a> <a id="19339" class="Symbol">(</a><a id="19340" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="19342" href="NbE.html#19342" class="Bound">x</a><a id="19343" class="Symbol">)</a> <a id="19345" class="Keyword">rewrite</a> <a id="19353" href="NbE.html#19204" class="Bound">Ïâ¡Ïâ²</a> <a id="19358" class="Symbol">{</a><a id="19359" href="NbE.html#19210" class="Bound">S</a><a id="19360" class="Symbol">}</a> <a id="19362" class="Symbol">=</a> <a id="19364" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="cong-sub"></a><a id="19370" href="NbE.html#19370" class="Function">cong-sub</a> <a id="19379" class="Symbol">:</a> <a id="19381" class="Symbol">â</a> <a id="19383" class="Symbol">{</a><a id="19384" href="NbE.html#19384" class="Bound">Î</a> <a id="19386" href="NbE.html#19386" class="Bound">Î</a> <a id="19388" class="Symbol">:</a> <a id="19390" href="NbE.html#3822" class="Datatype">Ctx</a><a id="19393" class="Symbol">}</a> <a id="19395" class="Symbol">{</a><a id="19396" href="NbE.html#19396" class="Bound">Ï</a> <a id="19398" href="NbE.html#19398" class="Bound">Ïâ²</a> <a id="19401" class="Symbol">:</a> <a id="19403" href="NbE.html#11534" class="Function">Sub</a> <a id="19407" href="NbE.html#19384" class="Bound">Î</a> <a id="19409" href="NbE.html#19386" class="Bound">Î</a><a id="19410" class="Symbol">}</a> <a id="19412" class="Symbol">{</a><a id="19413" href="NbE.html#19413" class="Bound">T</a> <a id="19415" class="Symbol">:</a> <a id="19417" href="NbE.html#3029" class="Datatype">Type</a><a id="19421" class="Symbol">}</a> <a id="19423" class="Symbol">{</a><a id="19424" href="NbE.html#19424" class="Bound">t</a> <a id="19426" href="NbE.html#19426" class="Bound">tâ²</a> <a id="19429" class="Symbol">:</a> <a id="19431" href="NbE.html#19386" class="Bound">Î</a> <a id="19433" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="19435" href="NbE.html#19413" class="Bound">T</a><a id="19436" class="Symbol">}</a>
         <a id="19447" class="Symbol">â</a> <a id="19449" class="Symbol">(â</a> <a id="19452" class="Symbol">{</a><a id="19453" href="NbE.html#19453" class="Bound">S</a> <a id="19455" class="Symbol">:</a> <a id="19457" href="NbE.html#3029" class="Datatype">Type</a><a id="19461" class="Symbol">}</a> <a id="19463" class="Symbol">â</a> <a id="19465" href="NbE.html#19396" class="Bound">Ï</a> <a id="19467" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="19469" href="NbE.html#19398" class="Bound">Ïâ²</a> <a id="19472" class="Symbol">{</a><a id="19473" href="NbE.html#19453" class="Bound">S</a><a id="19474" class="Symbol">})</a>
         <a id="19486" class="Symbol">â</a> <a id="19488" href="NbE.html#19424" class="Bound">t</a> <a id="19490" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="19492" href="NbE.html#19426" class="Bound">tâ²</a>
         <a id="19504" class="Symbol">â</a> <a id="19506" href="NbE.html#19424" class="Bound">t</a> <a id="19508" href="NbE.html#15385" class="Function Operator">[</a> <a id="19510" href="NbE.html#19396" class="Bound">Ï</a> <a id="19512" href="NbE.html#15385" class="Function Operator">]</a> <a id="19514" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="19516" href="NbE.html#19426" class="Bound">tâ²</a> <a id="19519" href="NbE.html#15385" class="Function Operator">[</a> <a id="19521" href="NbE.html#19398" class="Bound">Ïâ²</a> <a id="19524" href="NbE.html#15385" class="Function Operator">]</a>
<a id="19526" href="NbE.html#19370" class="Function">cong-sub</a> <a id="19535" class="Symbol">{</a><a id="19536" class="Argument">t</a> <a id="19538" class="Symbol">=</a> <a id="19540" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="19544" class="Symbol">}</a> <a id="19546" class="Symbol">{</a><a id="19547" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="19551" class="Symbol">}</a> <a id="19553" class="Symbol">_</a> <a id="19555" class="Symbol">_</a>                                          <a id="19598" class="Symbol">=</a> <a id="19600" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="19605" href="NbE.html#19370" class="Function">cong-sub</a> <a id="19614" class="Symbol">{</a><a id="19615" class="Argument">T</a> <a id="19617" class="Symbol">=</a> <a id="19619" href="NbE.html#19619" class="Bound">T</a><a id="19620" class="Symbol">}</a> <a id="19622" class="Symbol">{</a><a id="19623" class="Argument">t</a> <a id="19625" class="Symbol">=</a> <a id="19627" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="19629" href="NbE.html#19629" class="Bound">x</a><a id="19630" class="Symbol">}</a> <a id="19632" href="NbE.html#19632" class="Bound">Ïâ¡Ïâ²</a> <a id="19637" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="19642" class="Keyword">rewrite</a> <a id="19650" href="NbE.html#19632" class="Bound">Ïâ¡Ïâ²</a> <a id="19655" class="Symbol">{</a><a id="19656" href="NbE.html#19619" class="Bound">T</a><a id="19657" class="Symbol">}</a>                   <a id="19677" class="Symbol">=</a> <a id="19679" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="19684" href="NbE.html#19370" class="Function">cong-sub</a> <a id="19693" class="Symbol">{</a><a id="19694" class="Argument">Ï</a> <a id="19696" class="Symbol">=</a> <a id="19698" href="NbE.html#19698" class="Bound">Ï</a><a id="19699" class="Symbol">}</a> <a id="19701" class="Symbol">{</a><a id="19702" href="NbE.html#19702" class="Bound">Ïâ²</a><a id="19704" class="Symbol">}</a> <a id="19706" class="Symbol">{</a><a id="19707" class="Argument">t</a> <a id="19709" class="Symbol">=</a> <a id="19711" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="19713" href="NbE.html#19713" class="Bound">t</a><a id="19714" class="Symbol">}</a> <a id="19716" href="NbE.html#19716" class="Bound">Ïâ¡Ïâ²</a> <a id="19721" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="19728" class="Keyword">rewrite</a> <a id="19736" href="NbE.html#19370" class="Function">cong-sub</a> <a id="19745" class="Symbol">{</a><a id="19746" class="Argument">Ï</a> <a id="19748" class="Symbol">=</a> <a id="19750" href="NbE.html#15268" class="Function">exts</a> <a id="19755" href="NbE.html#19698" class="Bound">Ï</a><a id="19756" class="Symbol">}</a> <a id="19758" class="Symbol">{</a><a id="19759" href="NbE.html#15268" class="Function">exts</a> <a id="19764" href="NbE.html#19702" class="Bound">Ïâ²</a><a id="19766" class="Symbol">}</a> <a id="19768" class="Symbol">{</a><a id="19769" class="Argument">t</a> <a id="19771" class="Symbol">=</a> <a id="19773" href="NbE.html#19713" class="Bound">t</a><a id="19774" class="Symbol">}</a> <a id="19776" class="Symbol">(</a><a id="19777" href="NbE.html#19025" class="Function">cong-exts</a> <a id="19787" href="NbE.html#19716" class="Bound">Ïâ¡Ïâ²</a><a id="19791" class="Symbol">)</a> <a id="19793" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="19798" class="Symbol">=</a> <a id="19800" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="19805" href="NbE.html#19370" class="Function">cong-sub</a> <a id="19814" class="Symbol">{</a><a id="19815" class="Argument">Ï</a> <a id="19817" class="Symbol">=</a> <a id="19819" href="NbE.html#19819" class="Bound">Ï</a><a id="19820" class="Symbol">}</a> <a id="19822" class="Symbol">{</a><a id="19823" href="NbE.html#19823" class="Bound">Ïâ²</a><a id="19825" class="Symbol">}</a> <a id="19827" class="Symbol">{</a><a id="19828" class="Argument">t</a> <a id="19830" class="Symbol">=</a> <a id="19832" href="NbE.html#19832" class="Bound">r</a> <a id="19834" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="19836" href="NbE.html#19836" class="Bound">s</a><a id="19837" class="Symbol">}</a> <a id="19839" href="NbE.html#19839" class="Bound">Ïâ¡Ïâ²</a> <a id="19844" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="19851" class="Keyword">rewrite</a> <a id="19859" href="NbE.html#19370" class="Function">cong-sub</a> <a id="19868" class="Symbol">{</a><a id="19869" class="Argument">Ï</a> <a id="19871" class="Symbol">=</a> <a id="19873" href="NbE.html#19819" class="Bound">Ï</a><a id="19874" class="Symbol">}</a> <a id="19876" class="Symbol">{</a><a id="19877" href="NbE.html#19823" class="Bound">Ïâ²</a><a id="19879" class="Symbol">}</a> <a id="19881" class="Symbol">{</a><a id="19882" class="Argument">t</a> <a id="19884" class="Symbol">=</a> <a id="19886" href="NbE.html#19832" class="Bound">r</a><a id="19887" class="Symbol">}</a> <a id="19889" href="NbE.html#19839" class="Bound">Ïâ¡Ïâ²</a> <a id="19894" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
        <a id="19907" class="Symbol">|</a> <a id="19909" href="NbE.html#19370" class="Function">cong-sub</a> <a id="19918" class="Symbol">{</a><a id="19919" class="Argument">Ï</a> <a id="19921" class="Symbol">=</a> <a id="19923" href="NbE.html#19819" class="Bound">Ï</a><a id="19924" class="Symbol">}</a> <a id="19926" class="Symbol">{</a><a id="19927" href="NbE.html#19823" class="Bound">Ïâ²</a><a id="19929" class="Symbol">}</a> <a id="19931" class="Symbol">{</a><a id="19932" class="Argument">t</a> <a id="19934" class="Symbol">=</a> <a id="19936" href="NbE.html#19836" class="Bound">s</a><a id="19937" class="Symbol">}</a> <a id="19939" href="NbE.html#19839" class="Bound">Ïâ¡Ïâ²</a> <a id="19944" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>                       <a id="19971" class="Symbol">=</a> <a id="19973" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="cong-cons"></a><a id="19979" href="NbE.html#19979" class="Function">cong-cons</a> <a id="19989" class="Symbol">:</a> <a id="19991" class="Symbol">â</a> <a id="19993" class="Symbol">{</a><a id="19994" href="NbE.html#19994" class="Bound">Î</a> <a id="19996" href="NbE.html#19996" class="Bound">Î</a> <a id="19998" class="Symbol">:</a> <a id="20000" href="NbE.html#3822" class="Datatype">Ctx</a><a id="20003" class="Symbol">}</a> <a id="20005" class="Symbol">{</a><a id="20006" href="NbE.html#20006" class="Bound">S</a> <a id="20008" class="Symbol">:</a> <a id="20010" href="NbE.html#3029" class="Datatype">Type</a><a id="20014" class="Symbol">}</a> <a id="20016" class="Symbol">{</a><a id="20017" href="NbE.html#20017" class="Bound">s</a> <a id="20019" href="NbE.html#20019" class="Bound">sâ²</a> <a id="20022" class="Symbol">:</a> <a id="20024" href="NbE.html#19994" class="Bound">Î</a> <a id="20026" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="20028" href="NbE.html#20006" class="Bound">S</a><a id="20029" class="Symbol">}</a> <a id="20031" class="Symbol">{</a><a id="20032" href="NbE.html#20032" class="Bound">Ï</a> <a id="20034" href="NbE.html#20034" class="Bound">Ï</a> <a id="20036" class="Symbol">:</a> <a id="20038" href="NbE.html#11534" class="Function">Sub</a> <a id="20042" href="NbE.html#19994" class="Bound">Î</a> <a id="20044" href="NbE.html#19996" class="Bound">Î</a><a id="20045" class="Symbol">}</a>
          <a id="20057" class="Symbol">â</a> <a id="20059" href="NbE.html#20017" class="Bound">s</a> <a id="20061" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="20063" href="NbE.html#20019" class="Bound">sâ²</a>
          <a id="20076" class="Symbol">â</a> <a id="20078" class="Symbol">(â</a> <a id="20081" class="Symbol">{</a><a id="20082" href="NbE.html#20082" class="Bound">T</a> <a id="20084" class="Symbol">:</a> <a id="20086" href="NbE.html#3029" class="Datatype">Type</a><a id="20090" class="Symbol">}</a> <a id="20092" class="Symbol">â</a> <a id="20094" href="NbE.html#20032" class="Bound">Ï</a> <a id="20096" class="Symbol">{</a><a id="20097" href="NbE.html#20082" class="Bound">T</a><a id="20098" class="Symbol">}</a> <a id="20100" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="20102" href="NbE.html#20034" class="Bound">Ï</a> <a id="20104" class="Symbol">{</a><a id="20105" href="NbE.html#20082" class="Bound">T</a><a id="20106" class="Symbol">})</a>
          <a id="20119" class="Symbol">â</a> <a id="20121" class="Symbol">â</a> <a id="20123" class="Symbol">{</a><a id="20124" href="NbE.html#20124" class="Bound">T</a> <a id="20126" class="Symbol">:</a> <a id="20128" href="NbE.html#3029" class="Datatype">Type</a><a id="20132" class="Symbol">}</a> <a id="20134" class="Symbol">â</a> <a id="20136" href="NbE.html#20032" class="Bound">Ï</a> <a id="20138" href="NbE.html#16436" class="Function Operator">â·</a> <a id="20140" href="NbE.html#20017" class="Bound">s</a> <a id="20142" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="20144" class="Symbol">(</a><a id="20145" href="NbE.html#20034" class="Bound">Ï</a> <a id="20147" href="NbE.html#16436" class="Function Operator">â·</a> <a id="20149" href="NbE.html#20019" class="Bound">sâ²</a><a id="20151" class="Symbol">)</a> <a id="20153" class="Symbol">{</a><a id="20154" href="NbE.html#20124" class="Bound">T</a><a id="20155" class="Symbol">}</a>
<a id="20157" href="NbE.html#19979" class="Function">cong-cons</a> <a id="20167" class="Symbol">{</a><a id="20168" class="Argument">Î</a> <a id="20170" class="Symbol">=</a> <a id="20172" href="NbE.html#20172" class="Bound">Î</a><a id="20173" class="Symbol">}</a> <a id="20175" class="Symbol">{</a><a id="20176" href="NbE.html#20176" class="Bound">S</a><a id="20177" class="Symbol">}</a> <a id="20179" class="Symbol">{</a><a id="20180" href="NbE.html#20180" class="Bound">s</a><a id="20181" class="Symbol">}</a> <a id="20183" class="Symbol">{</a><a id="20184" href="NbE.html#20184" class="Bound">sâ²</a><a id="20186" class="Symbol">}</a> <a id="20188" class="Symbol">{</a><a id="20189" href="NbE.html#20189" class="Bound">Ï</a><a id="20190" class="Symbol">}</a> <a id="20192" class="Symbol">{</a><a id="20193" href="NbE.html#20193" class="Bound">Ï</a><a id="20194" class="Symbol">}</a> <a id="20196" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="20201" href="NbE.html#20201" class="Bound">Ïâ¡Ï</a> <a id="20205" class="Symbol">{</a><a id="20206" href="NbE.html#20206" class="Bound">T</a><a id="20207" class="Symbol">}</a> <a id="20209" class="Symbol">=</a> <a id="20211" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="20226" href="NbE.html#20240" class="Function">lemma</a> <a id="20232" class="Keyword">where</a>
  <a id="20240" href="NbE.html#20240" class="Function">lemma</a> <a id="20246" class="Symbol">:</a> <a id="20248" class="Symbol">â</a> <a id="20250" class="Symbol">(</a><a id="20251" href="NbE.html#20251" class="Bound">x</a> <a id="20253" class="Symbol">:</a> <a id="20255" href="NbE.html#20172" class="Bound">Î</a> <a id="20257" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="20259" href="NbE.html#20176" class="Bound">S</a> <a id="20261" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="20263" href="NbE.html#20206" class="Bound">T</a><a id="20264" class="Symbol">)</a> <a id="20266" class="Symbol">â</a> <a id="20268" class="Symbol">(</a><a id="20269" href="NbE.html#20189" class="Bound">Ï</a> <a id="20271" href="NbE.html#16436" class="Function Operator">â·</a> <a id="20273" href="NbE.html#20180" class="Bound">s</a><a id="20274" class="Symbol">)</a> <a id="20276" href="NbE.html#20251" class="Bound">x</a> <a id="20278" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="20280" class="Symbol">(</a><a id="20281" href="NbE.html#20193" class="Bound">Ï</a> <a id="20283" href="NbE.html#16436" class="Function Operator">â·</a> <a id="20285" href="NbE.html#20184" class="Bound">sâ²</a><a id="20287" class="Symbol">)</a> <a id="20289" href="NbE.html#20251" class="Bound">x</a>
  <a id="20293" href="NbE.html#20240" class="Function">lemma</a> <a id="20299" href="NbE.html#4481" class="InductiveConstructor">ð</a>                     <a id="20321" class="Symbol">=</a> <a id="20323" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="20330" href="NbE.html#20240" class="Function">lemma</a> <a id="20336" class="Symbol">(</a><a id="20337" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="20339" href="NbE.html#20339" class="Bound">x</a><a id="20340" class="Symbol">)</a> <a id="20342" class="Keyword">rewrite</a> <a id="20350" href="NbE.html#20201" class="Bound">Ïâ¡Ï</a> <a id="20354" class="Symbol">{</a><a id="20355" href="NbE.html#20206" class="Bound">T</a><a id="20356" class="Symbol">}</a> <a id="20358" class="Symbol">=</a> <a id="20360" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="cong-seq"></a><a id="20366" href="NbE.html#20366" class="Function">cong-seq</a> <a id="20375" class="Symbol">:</a> <a id="20377" class="Symbol">â</a> <a id="20379" class="Symbol">{</a><a id="20380" href="NbE.html#20380" class="Bound">Î</a> <a id="20382" href="NbE.html#20382" class="Bound">Î</a> <a id="20384" href="NbE.html#20384" class="Bound">Î£</a> <a id="20386" class="Symbol">:</a> <a id="20388" href="NbE.html#3822" class="Datatype">Ctx</a><a id="20391" class="Symbol">}</a> <a id="20393" class="Symbol">{</a><a id="20394" href="NbE.html#20394" class="Bound">Ï</a> <a id="20396" href="NbE.html#20396" class="Bound">Ïâ²</a> <a id="20399" class="Symbol">:</a> <a id="20401" href="NbE.html#11534" class="Function">Sub</a> <a id="20405" href="NbE.html#20380" class="Bound">Î</a> <a id="20407" href="NbE.html#20382" class="Bound">Î</a><a id="20408" class="Symbol">}</a> <a id="20410" class="Symbol">{</a><a id="20411" href="NbE.html#20411" class="Bound">Ï</a> <a id="20413" href="NbE.html#20413" class="Bound">Ïâ²</a> <a id="20416" class="Symbol">:</a> <a id="20418" href="NbE.html#11534" class="Function">Sub</a> <a id="20422" href="NbE.html#20382" class="Bound">Î</a> <a id="20424" href="NbE.html#20384" class="Bound">Î£</a><a id="20425" class="Symbol">}</a>
         <a id="20436" class="Symbol">â</a> <a id="20438" class="Symbol">(â</a> <a id="20441" class="Symbol">{</a><a id="20442" href="NbE.html#20442" class="Bound">T</a> <a id="20444" class="Symbol">:</a> <a id="20446" href="NbE.html#3029" class="Datatype">Type</a><a id="20450" class="Symbol">}</a> <a id="20452" class="Symbol">â</a> <a id="20454" href="NbE.html#20411" class="Bound">Ï</a> <a id="20456" class="Symbol">{</a><a id="20457" href="NbE.html#20442" class="Bound">T</a><a id="20458" class="Symbol">}</a> <a id="20460" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="20462" href="NbE.html#20413" class="Bound">Ïâ²</a><a id="20464" class="Symbol">)</a>
         <a id="20475" class="Symbol">â</a> <a id="20477" class="Symbol">(â</a> <a id="20480" class="Symbol">{</a><a id="20481" href="NbE.html#20481" class="Bound">T</a> <a id="20483" class="Symbol">:</a> <a id="20485" href="NbE.html#3029" class="Datatype">Type</a><a id="20489" class="Symbol">}</a> <a id="20491" class="Symbol">â</a> <a id="20493" href="NbE.html#20394" class="Bound">Ï</a> <a id="20495" class="Symbol">{</a><a id="20496" href="NbE.html#20481" class="Bound">T</a><a id="20497" class="Symbol">}</a> <a id="20499" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="20501" href="NbE.html#20396" class="Bound">Ïâ²</a><a id="20503" class="Symbol">)</a>
         <a id="20514" class="Symbol">â</a> <a id="20516" class="Symbol">(â</a> <a id="20519" class="Symbol">{</a><a id="20520" href="NbE.html#20520" class="Bound">T</a> <a id="20522" class="Symbol">:</a> <a id="20524" href="NbE.html#3029" class="Datatype">Type</a><a id="20528" class="Symbol">}</a> <a id="20530" class="Symbol">â</a> <a id="20532" class="Symbol">(</a><a id="20533" href="NbE.html#20411" class="Bound">Ï</a> <a id="20535" href="NbE.html#15989" class="Function Operator">â</a> <a id="20537" href="NbE.html#20394" class="Bound">Ï</a><a id="20538" class="Symbol">)</a> <a id="20540" class="Symbol">{</a><a id="20541" href="NbE.html#20520" class="Bound">T</a><a id="20542" class="Symbol">}</a> <a id="20544" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="20546" href="NbE.html#20413" class="Bound">Ïâ²</a> <a id="20549" href="NbE.html#15989" class="Function Operator">â</a> <a id="20551" href="NbE.html#20396" class="Bound">Ïâ²</a><a id="20553" class="Symbol">)</a>
<a id="20555" href="NbE.html#20366" class="Function">cong-seq</a> <a id="20564" class="Symbol">{</a><a id="20565" class="Argument">Î£</a> <a id="20567" class="Symbol">=</a> <a id="20569" href="NbE.html#20569" class="Bound">Î£</a><a id="20570" class="Symbol">}</a> <a id="20572" class="Symbol">{</a><a id="20573" href="NbE.html#20573" class="Bound">Ï</a><a id="20574" class="Symbol">}</a> <a id="20576" class="Symbol">{</a><a id="20577" href="NbE.html#20577" class="Bound">Ïâ²</a><a id="20579" class="Symbol">}</a> <a id="20581" class="Symbol">{</a><a id="20582" href="NbE.html#20582" class="Bound">Ï</a><a id="20583" class="Symbol">}</a> <a id="20585" class="Symbol">{</a><a id="20586" href="NbE.html#20586" class="Bound">Ïâ²</a><a id="20588" class="Symbol">}</a> <a id="20590" href="NbE.html#20590" class="Bound">Ïâ¡Ïâ²</a> <a id="20595" href="NbE.html#20595" class="Bound">Ïâ¡Ïâ²</a> <a id="20600" class="Symbol">{</a><a id="20601" href="NbE.html#20601" class="Bound">T</a><a id="20602" class="Symbol">}</a> <a id="20604" class="Symbol">=</a> <a id="20606" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="20621" href="NbE.html#20635" class="Function">lemma</a> <a id="20627" class="Keyword">where</a>
  <a id="20635" href="NbE.html#20635" class="Function">lemma</a> <a id="20641" class="Symbol">:</a> <a id="20643" class="Symbol">â</a> <a id="20645" class="Symbol">(</a><a id="20646" href="NbE.html#20646" class="Bound">x</a> <a id="20648" class="Symbol">:</a> <a id="20650" href="NbE.html#20569" class="Bound">Î£</a> <a id="20652" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="20654" href="NbE.html#20601" class="Bound">T</a><a id="20655" class="Symbol">)</a> <a id="20657" class="Symbol">â</a> <a id="20659" class="Symbol">(</a><a id="20660" href="NbE.html#20582" class="Bound">Ï</a> <a id="20662" href="NbE.html#15989" class="Function Operator">â</a> <a id="20664" href="NbE.html#20573" class="Bound">Ï</a><a id="20665" class="Symbol">)</a> <a id="20667" href="NbE.html#20646" class="Bound">x</a> <a id="20669" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="20671" class="Symbol">(</a><a id="20672" href="NbE.html#20586" class="Bound">Ïâ²</a> <a id="20675" href="NbE.html#15989" class="Function Operator">â</a> <a id="20677" href="NbE.html#20577" class="Bound">Ïâ²</a><a id="20679" class="Symbol">)</a> <a id="20681" href="NbE.html#20646" class="Bound">x</a>
  <a id="20685" href="NbE.html#20635" class="Function">lemma</a> <a id="20691" href="NbE.html#20691" class="Bound">x</a> <a id="20693" class="Keyword">rewrite</a> <a id="20701" href="NbE.html#20590" class="Bound">Ïâ¡Ïâ²</a> <a id="20706" class="Symbol">{</a><a id="20707" href="NbE.html#20601" class="Bound">T</a><a id="20708" class="Symbol">}</a> <a id="20710" class="Symbol">|</a> <a id="20712" href="NbE.html#19370" class="Function">cong-sub</a> <a id="20721" class="Symbol">{</a><a id="20722" class="Argument">t</a> <a id="20724" class="Symbol">=</a> <a id="20726" href="NbE.html#20586" class="Bound">Ïâ²</a> <a id="20729" href="NbE.html#20691" class="Bound">x</a><a id="20730" class="Symbol">}</a> <a id="20732" href="NbE.html#20595" class="Bound">Ïâ¡Ïâ²</a> <a id="20737" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="20742" class="Symbol">=</a> <a id="20744" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="ren-ext"></a><a id="20750" href="NbE.html#20750" class="Function">ren-ext</a> <a id="20758" class="Symbol">:</a> <a id="20760" class="Symbol">â</a> <a id="20762" class="Symbol">{</a><a id="20763" href="NbE.html#20763" class="Bound">Î</a> <a id="20765" href="NbE.html#20765" class="Bound">Î</a> <a id="20767" class="Symbol">:</a> <a id="20769" href="NbE.html#3822" class="Datatype">Ctx</a><a id="20772" class="Symbol">}</a> <a id="20774" class="Symbol">{</a><a id="20775" href="NbE.html#20775" class="Bound">S</a> <a id="20777" href="NbE.html#20777" class="Bound">T</a> <a id="20779" class="Symbol">:</a> <a id="20781" href="NbE.html#3029" class="Datatype">Type</a><a id="20785" class="Symbol">}</a> <a id="20787" class="Symbol">{</a><a id="20788" href="NbE.html#20788" class="Bound">Ï</a> <a id="20790" class="Symbol">:</a> <a id="20792" href="NbE.html#12521" class="Function">Ren</a> <a id="20796" href="NbE.html#20763" class="Bound">Î</a> <a id="20798" href="NbE.html#20765" class="Bound">Î</a><a id="20799" class="Symbol">}</a>
        <a id="20809" class="Symbol">â</a> <a id="20811" href="NbE.html#12678" class="Function">ren</a> <a id="20815" class="Symbol">(</a><a id="20816" href="NbE.html#14229" class="Function">ext</a> <a id="20820" href="NbE.html#20788" class="Bound">Ï</a><a id="20821" class="Symbol">)</a> <a id="20823" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="20825" href="NbE.html#15268" class="Function">exts</a> <a id="20830" class="Symbol">(</a><a id="20831" href="NbE.html#12678" class="Function">ren</a> <a id="20835" href="NbE.html#20788" class="Bound">Ï</a><a id="20836" class="Symbol">)</a> <a id="20838" class="Symbol">{</a><a id="20839" href="NbE.html#20775" class="Bound">S</a><a id="20840" class="Symbol">}</a> <a id="20842" class="Symbol">{</a><a id="20843" href="NbE.html#20777" class="Bound">T</a><a id="20844" class="Symbol">}</a>
<a id="20846" href="NbE.html#20750" class="Function">ren-ext</a> <a id="20854" class="Symbol">{</a><a id="20855" class="Argument">Î</a> <a id="20857" class="Symbol">=</a> <a id="20859" href="NbE.html#20859" class="Bound">Î</a><a id="20860" class="Symbol">}</a> <a id="20862" class="Symbol">{</a><a id="20863" href="NbE.html#20863" class="Bound">S</a><a id="20864" class="Symbol">}</a> <a id="20866" class="Symbol">{</a><a id="20867" href="NbE.html#20867" class="Bound">T</a><a id="20868" class="Symbol">}</a> <a id="20870" class="Symbol">{</a><a id="20871" href="NbE.html#20871" class="Bound">Ï</a><a id="20872" class="Symbol">}</a> <a id="20874" class="Symbol">=</a> <a id="20876" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="20891" href="NbE.html#20905" class="Function">lemma</a> <a id="20897" class="Keyword">where</a>
  <a id="20905" href="NbE.html#20905" class="Function">lemma</a> <a id="20911" class="Symbol">:</a> <a id="20913" class="Symbol">â</a> <a id="20915" class="Symbol">(</a><a id="20916" href="NbE.html#20916" class="Bound">x</a> <a id="20918" class="Symbol">:</a> <a id="20920" href="NbE.html#20859" class="Bound">Î</a> <a id="20922" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="20924" href="NbE.html#20863" class="Bound">S</a> <a id="20926" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="20928" href="NbE.html#20867" class="Bound">T</a><a id="20929" class="Symbol">)</a> <a id="20931" class="Symbol">â</a> <a id="20933" class="Symbol">(</a><a id="20934" href="NbE.html#12678" class="Function">ren</a> <a id="20938" class="Symbol">(</a><a id="20939" href="NbE.html#14229" class="Function">ext</a> <a id="20943" href="NbE.html#20871" class="Bound">Ï</a><a id="20944" class="Symbol">))</a> <a id="20947" href="NbE.html#20916" class="Bound">x</a> <a id="20949" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="20951" href="NbE.html#15268" class="Function">exts</a> <a id="20956" class="Symbol">(</a><a id="20957" href="NbE.html#12678" class="Function">ren</a> <a id="20961" href="NbE.html#20871" class="Bound">Ï</a><a id="20962" class="Symbol">)</a> <a id="20964" href="NbE.html#20916" class="Bound">x</a>
  <a id="20968" href="NbE.html#20905" class="Function">lemma</a> <a id="20974" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="20980" class="Symbol">=</a> <a id="20982" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="20989" href="NbE.html#20905" class="Function">lemma</a> <a id="20995" class="Symbol">(</a><a id="20996" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="20998" href="NbE.html#20998" class="Bound">x</a><a id="20999" class="Symbol">)</a> <a id="21001" class="Symbol">=</a> <a id="21003" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="rename-subst-ren"></a><a id="21009" href="NbE.html#21009" class="Function">rename-subst-ren</a> <a id="21026" class="Symbol">:</a> <a id="21028" class="Symbol">â</a> <a id="21030" class="Symbol">{</a><a id="21031" href="NbE.html#21031" class="Bound">Î</a> <a id="21033" href="NbE.html#21033" class="Bound">Î</a> <a id="21035" class="Symbol">:</a> <a id="21037" href="NbE.html#3822" class="Datatype">Ctx</a><a id="21040" class="Symbol">}</a> <a id="21042" class="Symbol">{</a><a id="21043" href="NbE.html#21043" class="Bound">T</a> <a id="21045" class="Symbol">:</a> <a id="21047" href="NbE.html#3029" class="Datatype">Type</a><a id="21051" class="Symbol">}</a> <a id="21053" class="Symbol">{</a><a id="21054" href="NbE.html#21054" class="Bound">Ï</a> <a id="21056" class="Symbol">:</a> <a id="21058" href="NbE.html#12521" class="Function">Ren</a> <a id="21062" href="NbE.html#21031" class="Bound">Î</a> <a id="21064" href="NbE.html#21033" class="Bound">Î</a><a id="21065" class="Symbol">}</a> <a id="21067" class="Symbol">{</a><a id="21068" href="NbE.html#21068" class="Bound">t</a> <a id="21070" class="Symbol">:</a> <a id="21072" href="NbE.html#21033" class="Bound">Î</a> <a id="21074" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="21076" href="NbE.html#21043" class="Bound">T</a><a id="21077" class="Symbol">}</a>
                 <a id="21096" class="Symbol">â</a> <a id="21098" href="NbE.html#21068" class="Bound">t</a> <a id="21100" href="NbE.html#14333" class="Function Operator">[</a> <a id="21102" href="NbE.html#21054" class="Bound">Ï</a> <a id="21104" href="NbE.html#14333" class="Function Operator">]Ê³</a> <a id="21107" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="21109" href="NbE.html#21068" class="Bound">t</a> <a id="21111" href="NbE.html#15385" class="Function Operator">[</a> <a id="21113" href="NbE.html#12678" class="Function">ren</a> <a id="21117" href="NbE.html#21054" class="Bound">Ï</a> <a id="21119" href="NbE.html#15385" class="Function Operator">]</a>
<a id="21121" href="NbE.html#21009" class="Function">rename-subst-ren</a> <a id="21138" class="Symbol">{</a><a id="21139" class="Argument">t</a> <a id="21141" class="Symbol">=</a> <a id="21143" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="21147" class="Symbol">}</a>                                           <a id="21191" class="Symbol">=</a> <a id="21193" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="21198" href="NbE.html#21009" class="Function">rename-subst-ren</a> <a id="21215" class="Symbol">{</a><a id="21216" class="Argument">t</a> <a id="21218" class="Symbol">=</a> <a id="21220" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="21222" href="NbE.html#21222" class="Bound">x</a><a id="21223" class="Symbol">}</a>                                            <a id="21268" class="Symbol">=</a> <a id="21270" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="21275" href="NbE.html#21009" class="Function">rename-subst-ren</a> <a id="21292" class="Symbol">{</a><a id="21293" class="Argument">Ï</a> <a id="21295" class="Symbol">=</a> <a id="21297" href="NbE.html#21297" class="Bound">Ï</a><a id="21298" class="Symbol">}</a> <a id="21300" class="Symbol">{</a><a id="21301" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="21303" href="NbE.html#21303" class="Bound">t</a><a id="21304" class="Symbol">}</a>
  <a id="21308" class="Keyword">rewrite</a> <a id="21316" href="NbE.html#21009" class="Function">rename-subst-ren</a> <a id="21333" class="Symbol">{</a><a id="21334" class="Argument">Ï</a> <a id="21336" class="Symbol">=</a> <a id="21338" href="NbE.html#14229" class="Function">ext</a> <a id="21342" href="NbE.html#21297" class="Bound">Ï</a><a id="21343" class="Symbol">}</a> <a id="21345" class="Symbol">{</a><a id="21346" href="NbE.html#21303" class="Bound">t</a><a id="21347" class="Symbol">}</a>
        <a id="21357" class="Symbol">|</a> <a id="21359" href="NbE.html#19370" class="Function">cong-sub</a> <a id="21368" class="Symbol">{</a><a id="21369" class="Argument">t</a> <a id="21371" class="Symbol">=</a> <a id="21373" href="NbE.html#21303" class="Bound">t</a><a id="21374" class="Symbol">}</a> <a id="21376" class="Symbol">(</a><a id="21377" href="NbE.html#20750" class="Function">ren-ext</a> <a id="21385" class="Symbol">{</a><a id="21386" class="Argument">Ï</a> <a id="21388" class="Symbol">=</a> <a id="21390" href="NbE.html#21297" class="Bound">Ï</a><a id="21391" class="Symbol">})</a> <a id="21394" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>                     <a id="21419" class="Symbol">=</a> <a id="21421" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="21426" href="NbE.html#21009" class="Function">rename-subst-ren</a> <a id="21443" class="Symbol">{</a><a id="21444" class="Argument">Ï</a> <a id="21446" class="Symbol">=</a> <a id="21448" href="NbE.html#21448" class="Bound">Ï</a><a id="21449" class="Symbol">}</a> <a id="21451" class="Symbol">{</a><a id="21452" href="NbE.html#21452" class="Bound">r</a> <a id="21454" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="21456" href="NbE.html#21456" class="Bound">s</a><a id="21457" class="Symbol">}</a>
  <a id="21461" class="Keyword">rewrite</a> <a id="21469" href="NbE.html#21009" class="Function">rename-subst-ren</a> <a id="21486" class="Symbol">{</a><a id="21487" class="Argument">Ï</a> <a id="21489" class="Symbol">=</a> <a id="21491" href="NbE.html#21448" class="Bound">Ï</a><a id="21492" class="Symbol">}</a> <a id="21494" class="Symbol">{</a><a id="21495" href="NbE.html#21452" class="Bound">r</a><a id="21496" class="Symbol">}</a> <a id="21498" class="Symbol">|</a> <a id="21500" href="NbE.html#21009" class="Function">rename-subst-ren</a> <a id="21517" class="Symbol">{</a><a id="21518" class="Argument">Ï</a> <a id="21520" class="Symbol">=</a> <a id="21522" href="NbE.html#21448" class="Bound">Ï</a><a id="21523" class="Symbol">}</a> <a id="21525" class="Symbol">{</a><a id="21526" href="NbE.html#21456" class="Bound">s</a><a id="21527" class="Symbol">}</a> <a id="21529" class="Symbol">=</a> <a id="21531" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="ren-shift"></a><a id="21537" href="NbE.html#21537" class="Function">ren-shift</a> <a id="21547" class="Symbol">:</a> <a id="21549" class="Symbol">â</a> <a id="21551" class="Symbol">{</a><a id="21552" href="NbE.html#21552" class="Bound">Î</a> <a id="21554" class="Symbol">:</a> <a id="21556" href="NbE.html#3822" class="Datatype">Ctx</a><a id="21559" class="Symbol">}</a> <a id="21561" class="Symbol">{</a><a id="21562" href="NbE.html#21562" class="Bound">S</a> <a id="21564" href="NbE.html#21564" class="Bound">T</a> <a id="21566" class="Symbol">:</a> <a id="21568" href="NbE.html#3029" class="Datatype">Type</a><a id="21572" class="Symbol">}</a>
          <a id="21584" class="Symbol">â</a> <a id="21586" href="NbE.html#12678" class="Function">ren</a> <a id="21590" href="NbE.html#13126" class="Function">â¥Ê³</a> <a id="21593" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="21595" href="NbE.html#15933" class="Function">â¥</a> <a id="21597" class="Symbol">{</a><a id="21598" href="NbE.html#21552" class="Bound">Î</a><a id="21599" class="Symbol">}</a> <a id="21601" class="Symbol">{</a><a id="21602" href="NbE.html#21562" class="Bound">S</a><a id="21603" class="Symbol">}</a> <a id="21605" class="Symbol">{</a><a id="21606" href="NbE.html#21564" class="Bound">T</a><a id="21607" class="Symbol">}</a>
<a id="21609" href="NbE.html#21537" class="Function">ren-shift</a> <a id="21619" class="Symbol">{</a><a id="21620" href="NbE.html#21620" class="Bound">Î</a><a id="21621" class="Symbol">}</a> <a id="21623" class="Symbol">{</a><a id="21624" href="NbE.html#21624" class="Bound">S</a><a id="21625" class="Symbol">}</a> <a id="21627" class="Symbol">{</a><a id="21628" href="NbE.html#21628" class="Bound">T</a><a id="21629" class="Symbol">}</a> <a id="21631" class="Symbol">=</a> <a id="21633" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="21648" href="NbE.html#21662" class="Function">lemma</a> <a id="21654" class="Keyword">where</a>
  <a id="21662" href="NbE.html#21662" class="Function">lemma</a> <a id="21668" class="Symbol">:</a> <a id="21670" class="Symbol">â</a> <a id="21672" class="Symbol">(</a><a id="21673" href="NbE.html#21673" class="Bound">x</a> <a id="21675" class="Symbol">:</a> <a id="21677" href="NbE.html#21620" class="Bound">Î</a> <a id="21679" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="21681" href="NbE.html#21628" class="Bound">T</a><a id="21682" class="Symbol">)</a> <a id="21684" class="Symbol">â</a> <a id="21686" href="NbE.html#12678" class="Function">ren</a> <a id="21690" href="NbE.html#13126" class="Function">â¥Ê³</a> <a id="21693" href="NbE.html#21673" class="Bound">x</a> <a id="21695" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="21697" href="NbE.html#15933" class="Function">â¥</a> <a id="21699" href="NbE.html#21673" class="Bound">x</a>
  <a id="21703" href="NbE.html#21662" class="Function">lemma</a> <a id="21709" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="21715" class="Symbol">=</a> <a id="21717" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="21724" href="NbE.html#21662" class="Function">lemma</a> <a id="21730" class="Symbol">(</a><a id="21731" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="21733" href="NbE.html#21733" class="Bound">x</a><a id="21734" class="Symbol">)</a> <a id="21736" class="Symbol">=</a> <a id="21738" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="rename-shift"></a><a id="21744" href="NbE.html#21744" class="Function">rename-shift</a> <a id="21757" class="Symbol">:</a> <a id="21759" class="Symbol">â</a> <a id="21761" class="Symbol">{</a><a id="21762" href="NbE.html#21762" class="Bound">Î</a> <a id="21764" class="Symbol">:</a> <a id="21766" href="NbE.html#3822" class="Datatype">Ctx</a><a id="21769" class="Symbol">}</a> <a id="21771" class="Symbol">{</a><a id="21772" href="NbE.html#21772" class="Bound">S</a> <a id="21774" href="NbE.html#21774" class="Bound">T</a> <a id="21776" class="Symbol">:</a> <a id="21778" href="NbE.html#3029" class="Datatype">Type</a><a id="21782" class="Symbol">}</a> <a id="21784" class="Symbol">{</a><a id="21785" href="NbE.html#21785" class="Bound">s</a> <a id="21787" class="Symbol">:</a> <a id="21789" href="NbE.html#21762" class="Bound">Î</a> <a id="21791" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="21793" href="NbE.html#21772" class="Bound">S</a><a id="21794" class="Symbol">}</a>
             <a id="21809" class="Symbol">â</a> <a id="21811" href="NbE.html#21785" class="Bound">s</a> <a id="21813" href="NbE.html#14333" class="Function Operator">[</a> <a id="21815" href="NbE.html#13126" class="Function">â¥Ê³</a> <a id="21818" class="Symbol">{</a><a id="21819" class="Argument">T</a> <a id="21821" class="Symbol">=</a> <a id="21823" href="NbE.html#21774" class="Bound">T</a><a id="21824" class="Symbol">}</a> <a id="21826" href="NbE.html#14333" class="Function Operator">]Ê³</a> <a id="21829" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="21831" href="NbE.html#21785" class="Bound">s</a> <a id="21833" href="NbE.html#15385" class="Function Operator">[</a> <a id="21835" href="NbE.html#15933" class="Function">â¥</a> <a id="21837" href="NbE.html#15385" class="Function Operator">]</a>
<a id="21839" href="NbE.html#21744" class="Function">rename-shift</a> <a id="21852" class="Symbol">{</a><a id="21853" href="NbE.html#21853" class="Bound">Î</a><a id="21854" class="Symbol">}</a> <a id="21856" class="Symbol">{</a><a id="21857" href="NbE.html#21857" class="Bound">S</a><a id="21858" class="Symbol">}</a> <a id="21860" class="Symbol">{</a><a id="21861" href="NbE.html#21861" class="Bound">T</a><a id="21862" class="Symbol">}</a> <a id="21864" class="Symbol">{</a><a id="21865" href="NbE.html#21865" class="Bound">s</a><a id="21866" class="Symbol">}</a>
  <a id="21870" class="Keyword">rewrite</a> <a id="21878" href="NbE.html#21009" class="Function">rename-subst-ren</a> <a id="21895" class="Symbol">{</a><a id="21896" class="Argument">Ï</a> <a id="21898" class="Symbol">=</a> <a id="21900" href="NbE.html#13126" class="Function">â¥Ê³</a> <a id="21903" class="Symbol">{</a><a id="21904" class="Argument">T</a> <a id="21906" class="Symbol">=</a> <a id="21908" href="NbE.html#21861" class="Bound">T</a><a id="21909" class="Symbol">}}</a> <a id="21912" class="Symbol">{</a><a id="21913" href="NbE.html#21865" class="Bound">s</a><a id="21914" class="Symbol">}</a>
        <a id="21924" class="Symbol">|</a> <a id="21926" href="NbE.html#21537" class="Function">ren-shift</a> <a id="21936" class="Symbol">{</a><a id="21937" href="NbE.html#21853" class="Bound">Î</a><a id="21938" class="Symbol">}</a> <a id="21940" class="Symbol">{</a><a id="21941" href="NbE.html#21861" class="Bound">T</a><a id="21942" class="Symbol">}</a> <a id="21944" class="Symbol">{</a><a id="21945" href="NbE.html#21857" class="Bound">S</a><a id="21946" class="Symbol">}</a>                <a id="21963" class="Symbol">=</a> <a id="21965" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="exts-cons-shift"></a><a id="21971" href="NbE.html#21971" class="Function">exts-cons-shift</a> <a id="21987" class="Symbol">:</a> <a id="21989" class="Symbol">â</a> <a id="21991" class="Symbol">{</a><a id="21992" href="NbE.html#21992" class="Bound">Î</a> <a id="21994" href="NbE.html#21994" class="Bound">Î</a> <a id="21996" class="Symbol">:</a> <a id="21998" href="NbE.html#3822" class="Datatype">Ctx</a><a id="22001" class="Symbol">}</a> <a id="22003" class="Symbol">{</a><a id="22004" href="NbE.html#22004" class="Bound">S</a> <a id="22006" href="NbE.html#22006" class="Bound">T</a> <a id="22008" class="Symbol">:</a> <a id="22010" href="NbE.html#3029" class="Datatype">Type</a><a id="22014" class="Symbol">}</a> <a id="22016" class="Symbol">{</a><a id="22017" href="NbE.html#22017" class="Bound">Ï</a> <a id="22019" class="Symbol">:</a> <a id="22021" href="NbE.html#11534" class="Function">Sub</a> <a id="22025" href="NbE.html#21992" class="Bound">Î</a> <a id="22027" href="NbE.html#21994" class="Bound">Î</a><a id="22028" class="Symbol">}</a>
                <a id="22046" class="Symbol">â</a> <a id="22048" href="NbE.html#15268" class="Function">exts</a> <a id="22053" href="NbE.html#22017" class="Bound">Ï</a> <a id="22055" class="Symbol">{</a><a id="22056" href="NbE.html#22004" class="Bound">S</a><a id="22057" class="Symbol">}</a> <a id="22059" class="Symbol">{</a><a id="22060" href="NbE.html#22006" class="Bound">T</a><a id="22061" class="Symbol">}</a> <a id="22063" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="22065" class="Symbol">(</a><a id="22066" href="NbE.html#22017" class="Bound">Ï</a> <a id="22068" href="NbE.html#15989" class="Function Operator">â</a> <a id="22070" href="NbE.html#15933" class="Function">â¥</a><a id="22071" class="Symbol">)</a> <a id="22073" href="NbE.html#16436" class="Function Operator">â·</a> <a id="22075" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="22077" href="NbE.html#4481" class="InductiveConstructor">ð</a>
<a id="22079" href="NbE.html#21971" class="Function">exts-cons-shift</a> <a id="22095" class="Symbol">{</a><a id="22096" class="Argument">Î</a> <a id="22098" class="Symbol">=</a> <a id="22100" href="NbE.html#22100" class="Bound">Î</a><a id="22101" class="Symbol">}</a> <a id="22103" class="Symbol">{</a><a id="22104" href="NbE.html#22104" class="Bound">S</a><a id="22105" class="Symbol">}</a> <a id="22107" class="Symbol">{</a><a id="22108" href="NbE.html#22108" class="Bound">T</a><a id="22109" class="Symbol">}</a> <a id="22111" class="Symbol">{</a><a id="22112" href="NbE.html#22112" class="Bound">Ï</a><a id="22113" class="Symbol">}</a> <a id="22115" class="Symbol">=</a> <a id="22117" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="22132" href="NbE.html#22146" class="Function">lemma</a> <a id="22138" class="Keyword">where</a>
  <a id="22146" href="NbE.html#22146" class="Function">lemma</a> <a id="22152" class="Symbol">:</a> <a id="22154" class="Symbol">â</a> <a id="22156" class="Symbol">(</a><a id="22157" href="NbE.html#22157" class="Bound">x</a> <a id="22159" class="Symbol">:</a> <a id="22161" href="NbE.html#22100" class="Bound">Î</a> <a id="22163" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="22165" href="NbE.html#22104" class="Bound">S</a> <a id="22167" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="22169" href="NbE.html#22108" class="Bound">T</a><a id="22170" class="Symbol">)</a> <a id="22172" class="Symbol">â</a> <a id="22174" href="NbE.html#15268" class="Function">exts</a> <a id="22179" href="NbE.html#22112" class="Bound">Ï</a> <a id="22181" href="NbE.html#22157" class="Bound">x</a> <a id="22183" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="22185" class="Symbol">((</a><a id="22187" href="NbE.html#22112" class="Bound">Ï</a> <a id="22189" href="NbE.html#15989" class="Function Operator">â</a> <a id="22191" href="NbE.html#15933" class="Function">â¥</a><a id="22192" class="Symbol">)</a> <a id="22194" href="NbE.html#16436" class="Function Operator">â·</a> <a id="22196" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="22198" href="NbE.html#4481" class="InductiveConstructor">ð</a><a id="22199" class="Symbol">)</a> <a id="22201" href="NbE.html#22157" class="Bound">x</a>
  <a id="22205" href="NbE.html#22146" class="Function">lemma</a> <a id="22211" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="22217" class="Symbol">=</a> <a id="22219" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="22226" href="NbE.html#22146" class="Function">lemma</a> <a id="22232" class="Symbol">(</a><a id="22233" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="22235" href="NbE.html#22235" class="Bound">x</a><a id="22236" class="Symbol">)</a> <a id="22238" class="Symbol">=</a> <a id="22240" href="NbE.html#21009" class="Function">rename-subst-ren</a>

<a id="exts-ids"></a><a id="22258" href="NbE.html#22258" class="Function">exts-ids</a> <a id="22267" class="Symbol">:</a> <a id="22269" class="Symbol">â</a> <a id="22271" class="Symbol">{</a><a id="22272" href="NbE.html#22272" class="Bound">Î</a> <a id="22274" class="Symbol">:</a> <a id="22276" href="NbE.html#3822" class="Datatype">Ctx</a><a id="22279" class="Symbol">}</a> <a id="22281" class="Symbol">{</a><a id="22282" href="NbE.html#22282" class="Bound">S</a> <a id="22284" href="NbE.html#22284" class="Bound">T</a> <a id="22286" class="Symbol">:</a> <a id="22288" href="NbE.html#3029" class="Datatype">Type</a><a id="22292" class="Symbol">}</a>
         <a id="22303" class="Symbol">â</a> <a id="22305" href="NbE.html#15268" class="Function">exts</a> <a id="22310" href="NbE.html#15894" class="Function">id</a> <a id="22313" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="22315" href="NbE.html#15894" class="Function">id</a> <a id="22318" class="Symbol">{</a><a id="22319" href="NbE.html#22272" class="Bound">Î</a> <a id="22321" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="22323" href="NbE.html#22282" class="Bound">S</a><a id="22324" class="Symbol">}</a> <a id="22326" class="Symbol">{</a><a id="22327" href="NbE.html#22284" class="Bound">T</a><a id="22328" class="Symbol">}</a>
<a id="22330" href="NbE.html#22258" class="Function">exts-ids</a> <a id="22339" class="Symbol">{</a><a id="22340" href="NbE.html#22340" class="Bound">Î</a><a id="22341" class="Symbol">}</a> <a id="22343" class="Symbol">{</a><a id="22344" href="NbE.html#22344" class="Bound">S</a><a id="22345" class="Symbol">}</a> <a id="22347" class="Symbol">{</a><a id="22348" href="NbE.html#22348" class="Bound">T</a><a id="22349" class="Symbol">}</a> <a id="22351" class="Symbol">=</a> <a id="22353" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="22368" href="NbE.html#22382" class="Function">lemma</a> <a id="22374" class="Keyword">where</a>
  <a id="22382" href="NbE.html#22382" class="Function">lemma</a> <a id="22388" class="Symbol">:</a> <a id="22390" class="Symbol">â</a> <a id="22392" class="Symbol">(</a><a id="22393" href="NbE.html#22393" class="Bound">x</a> <a id="22395" class="Symbol">:</a> <a id="22397" href="NbE.html#22340" class="Bound">Î</a> <a id="22399" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="22401" href="NbE.html#22344" class="Bound">S</a> <a id="22403" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="22405" href="NbE.html#22348" class="Bound">T</a><a id="22406" class="Symbol">)</a> <a id="22408" class="Symbol">â</a> <a id="22410" href="NbE.html#15268" class="Function">exts</a> <a id="22415" href="NbE.html#15894" class="Function">id</a> <a id="22418" href="NbE.html#22393" class="Bound">x</a> <a id="22420" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="22422" href="NbE.html#15894" class="Function">id</a> <a id="22425" href="NbE.html#22393" class="Bound">x</a>
  <a id="22429" href="NbE.html#22382" class="Function">lemma</a> <a id="22435" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="22441" class="Symbol">=</a> <a id="22443" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="22450" href="NbE.html#22382" class="Function">lemma</a> <a id="22456" class="Symbol">(</a><a id="22457" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="22459" href="NbE.html#22459" class="Bound">x</a><a id="22460" class="Symbol">)</a> <a id="22462" class="Symbol">=</a> <a id="22464" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>--->
<pre class="Agda"><a id="[id]-identity"></a><a id="22487" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="22501" class="Symbol">:</a> <a id="22503" class="Symbol">â</a> <a id="22505" class="Symbol">{</a><a id="22506" href="NbE.html#22506" class="Bound">Î</a> <a id="22508" class="Symbol">:</a> <a id="22510" href="NbE.html#3822" class="Datatype">Ctx</a><a id="22513" class="Symbol">}</a> <a id="22515" class="Symbol">{</a><a id="22516" href="NbE.html#22516" class="Bound">T</a> <a id="22518" class="Symbol">:</a> <a id="22520" href="NbE.html#3029" class="Datatype">Type</a><a id="22524" class="Symbol">}</a> <a id="22526" class="Symbol">{</a><a id="22527" href="NbE.html#22527" class="Bound">t</a> <a id="22529" class="Symbol">:</a> <a id="22531" href="NbE.html#22506" class="Bound">Î</a> <a id="22533" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="22535" href="NbE.html#22516" class="Bound">T</a><a id="22536" class="Symbol">}</a>
              <a id="22552" class="Symbol">â</a> <a id="22554" href="NbE.html#22527" class="Bound">t</a> <a id="22556" href="NbE.html#15385" class="Function Operator">[</a> <a id="22558" href="NbE.html#15894" class="Function">id</a> <a id="22561" href="NbE.html#15385" class="Function Operator">]</a> <a id="22563" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="22565" href="NbE.html#22527" class="Bound">t</a>
</pre>
<!---
<pre class="Agda"><a id="22586" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="22600" class="Symbol">{</a><a id="22601" class="Argument">t</a> <a id="22603" class="Symbol">=</a> <a id="22605" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="22609" class="Symbol">}</a>                                <a id="22642" class="Symbol">=</a> <a id="22644" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="22649" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="22663" class="Symbol">{</a><a id="22664" class="Argument">t</a> <a id="22666" class="Symbol">=</a> <a id="22668" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="22670" href="NbE.html#22670" class="Bound">x</a><a id="22671" class="Symbol">}</a>                                 <a id="22705" class="Symbol">=</a> <a id="22707" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="22712" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="22726" class="Symbol">{</a><a id="22727" class="Argument">T</a> <a id="22729" class="Symbol">=</a> <a id="22731" href="NbE.html#22731" class="Bound">S</a> <a id="22733" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="22735" href="NbE.html#22735" class="Bound">T</a><a id="22736" class="Symbol">}</a> <a id="22738" class="Symbol">{</a><a id="22739" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="22741" href="NbE.html#22741" class="Bound">t</a><a id="22742" class="Symbol">}</a>
  <a id="22746" class="Keyword">rewrite</a> <a id="22754" href="NbE.html#19370" class="Function">cong-sub</a> <a id="22763" class="Symbol">{</a><a id="22764" class="Argument">t</a> <a id="22766" class="Symbol">=</a> <a id="22768" href="NbE.html#22741" class="Bound">t</a><a id="22769" class="Symbol">}</a> <a id="22771" href="NbE.html#22258" class="Function">exts-ids</a> <a id="22780" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
        <a id="22793" class="Symbol">|</a> <a id="22795" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="22809" class="Symbol">{</a><a id="22810" class="Argument">t</a> <a id="22812" class="Symbol">=</a> <a id="22814" href="NbE.html#22741" class="Bound">t</a><a id="22815" class="Symbol">}</a>                         <a id="22841" class="Symbol">=</a> <a id="22843" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="22848" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="22862" class="Symbol">{</a><a id="22863" class="Argument">t</a> <a id="22865" class="Symbol">=</a> <a id="22867" href="NbE.html#22867" class="Bound">r</a> <a id="22869" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="22871" href="NbE.html#22871" class="Bound">s</a><a id="22872" class="Symbol">}</a>
  <a id="22876" class="Keyword">rewrite</a> <a id="22884" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="22898" class="Symbol">{</a><a id="22899" class="Argument">t</a> <a id="22901" class="Symbol">=</a> <a id="22903" href="NbE.html#22867" class="Bound">r</a><a id="22904" class="Symbol">}</a> <a id="22906" class="Symbol">|</a> <a id="22908" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="22922" class="Symbol">{</a><a id="22923" class="Argument">t</a> <a id="22925" class="Symbol">=</a> <a id="22927" href="NbE.html#22871" class="Bound">s</a><a id="22928" class="Symbol">}</a> <a id="22930" class="Symbol">=</a> <a id="22932" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="sub-idR"></a><a id="22938" href="NbE.html#22938" class="Function">sub-idR</a> <a id="22946" class="Symbol">:</a> <a id="22948" class="Symbol">â</a> <a id="22950" class="Symbol">{</a><a id="22951" href="NbE.html#22951" class="Bound">Î</a> <a id="22953" href="NbE.html#22953" class="Bound">Î</a> <a id="22955" class="Symbol">:</a> <a id="22957" href="NbE.html#3822" class="Datatype">Ctx</a><a id="22960" class="Symbol">}</a> <a id="22962" class="Symbol">{</a><a id="22963" href="NbE.html#22963" class="Bound">Ï</a> <a id="22965" class="Symbol">:</a> <a id="22967" href="NbE.html#11534" class="Function">Sub</a> <a id="22971" href="NbE.html#22951" class="Bound">Î</a> <a id="22973" href="NbE.html#22953" class="Bound">Î</a><a id="22974" class="Symbol">}</a> <a id="22976" class="Symbol">{</a><a id="22977" href="NbE.html#22977" class="Bound">T</a> <a id="22979" class="Symbol">:</a> <a id="22981" href="NbE.html#3029" class="Datatype">Type</a><a id="22985" class="Symbol">}</a>
        <a id="22995" class="Symbol">â</a> <a id="22997" class="Symbol">(</a><a id="22998" href="NbE.html#22963" class="Bound">Ï</a> <a id="23000" href="NbE.html#15989" class="Function Operator">â</a> <a id="23002" href="NbE.html#15894" class="Function">id</a><a id="23004" class="Symbol">)</a> <a id="23006" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="23008" href="NbE.html#22963" class="Bound">Ï</a> <a id="23010" class="Symbol">{</a><a id="23011" href="NbE.html#22977" class="Bound">T</a><a id="23012" class="Symbol">}</a>
<a id="23014" href="NbE.html#22938" class="Function">sub-idR</a> <a id="23022" class="Symbol">=</a> <a id="23024" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="23039" class="Symbol">(Î»</a> <a id="23042" href="NbE.html#23042" class="Bound">_</a> <a id="23044" class="Symbol">â</a> <a id="23046" href="NbE.html#22487" class="Function">[id]-identity</a><a id="23059" class="Symbol">)</a>

<a id="compose-ext"></a><a id="23062" href="NbE.html#23062" class="Function">compose-ext</a> <a id="23074" class="Symbol">:</a> <a id="23076" class="Symbol">â</a> <a id="23078" class="Symbol">{</a><a id="23079" href="NbE.html#23079" class="Bound">Î</a> <a id="23081" href="NbE.html#23081" class="Bound">Î</a> <a id="23083" href="NbE.html#23083" class="Bound">Î£</a> <a id="23085" class="Symbol">:</a> <a id="23087" href="NbE.html#3822" class="Datatype">Ctx</a><a id="23090" class="Symbol">}</a> <a id="23092" class="Symbol">{</a><a id="23093" href="NbE.html#23093" class="Bound">Ï</a> <a id="23095" class="Symbol">:</a> <a id="23097" href="NbE.html#12521" class="Function">Ren</a> <a id="23101" href="NbE.html#23081" class="Bound">Î</a> <a id="23103" href="NbE.html#23083" class="Bound">Î£</a><a id="23104" class="Symbol">}</a> <a id="23106" class="Symbol">{</a><a id="23107" href="NbE.html#23107" class="Bound">Ï</a> <a id="23109" class="Symbol">:</a> <a id="23111" href="NbE.html#12521" class="Function">Ren</a> <a id="23115" href="NbE.html#23079" class="Bound">Î</a> <a id="23117" href="NbE.html#23081" class="Bound">Î</a><a id="23118" class="Symbol">}</a> <a id="23120" class="Symbol">{</a><a id="23121" href="NbE.html#23121" class="Bound">S</a> <a id="23123" href="NbE.html#23123" class="Bound">T</a> <a id="23125" class="Symbol">:</a> <a id="23127" href="NbE.html#3029" class="Datatype">Type</a><a id="23131" class="Symbol">}</a>
            <a id="23145" class="Symbol">â</a> <a id="23147" class="Symbol">(</a><a id="23148" href="NbE.html#14229" class="Function">ext</a> <a id="23152" href="NbE.html#23093" class="Bound">Ï</a><a id="23153" class="Symbol">)</a> <a id="23155" href="NbE.html#13421" class="Function Operator">âÊ³</a> <a id="23158" class="Symbol">(</a><a id="23159" href="NbE.html#14229" class="Function">ext</a> <a id="23163" href="NbE.html#23107" class="Bound">Ï</a><a id="23164" class="Symbol">)</a> <a id="23166" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="23168" href="NbE.html#14229" class="Function">ext</a> <a id="23172" class="Symbol">(</a><a id="23173" href="NbE.html#23093" class="Bound">Ï</a> <a id="23175" href="NbE.html#13421" class="Function Operator">âÊ³</a> <a id="23178" href="NbE.html#23107" class="Bound">Ï</a><a id="23179" class="Symbol">)</a> <a id="23181" class="Symbol">{</a><a id="23182" href="NbE.html#23121" class="Bound">S</a><a id="23183" class="Symbol">}</a> <a id="23185" class="Symbol">{</a><a id="23186" href="NbE.html#23123" class="Bound">T</a><a id="23187" class="Symbol">}</a>
<a id="23189" href="NbE.html#23062" class="Function">compose-ext</a> <a id="23201" class="Symbol">{</a><a id="23202" class="Argument">Î£</a> <a id="23204" class="Symbol">=</a> <a id="23206" href="NbE.html#23206" class="Bound">Î£</a><a id="23207" class="Symbol">}</a> <a id="23209" class="Symbol">{</a><a id="23210" href="NbE.html#23210" class="Bound">Ï</a><a id="23211" class="Symbol">}</a> <a id="23213" class="Symbol">{</a><a id="23214" href="NbE.html#23214" class="Bound">Ï</a><a id="23215" class="Symbol">}</a> <a id="23217" class="Symbol">{</a><a id="23218" href="NbE.html#23218" class="Bound">S</a><a id="23219" class="Symbol">}</a> <a id="23221" class="Symbol">{</a><a id="23222" href="NbE.html#23222" class="Bound">T</a><a id="23223" class="Symbol">}</a> <a id="23225" class="Symbol">=</a> <a id="23227" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="23242" href="NbE.html#23256" class="Function">lemma</a> <a id="23248" class="Keyword">where</a>
  <a id="23256" href="NbE.html#23256" class="Function">lemma</a> <a id="23262" class="Symbol">:</a> <a id="23264" class="Symbol">â</a> <a id="23266" class="Symbol">(</a><a id="23267" href="NbE.html#23267" class="Bound">x</a> <a id="23269" class="Symbol">:</a> <a id="23271" href="NbE.html#23206" class="Bound">Î£</a> <a id="23273" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="23275" href="NbE.html#23218" class="Bound">S</a> <a id="23277" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="23279" href="NbE.html#23222" class="Bound">T</a><a id="23280" class="Symbol">)</a> <a id="23282" class="Symbol">â</a> <a id="23284" class="Symbol">((</a><a id="23286" href="NbE.html#14229" class="Function">ext</a> <a id="23290" href="NbE.html#23210" class="Bound">Ï</a><a id="23291" class="Symbol">)</a> <a id="23293" href="NbE.html#13421" class="Function Operator">âÊ³</a> <a id="23296" class="Symbol">(</a><a id="23297" href="NbE.html#14229" class="Function">ext</a> <a id="23301" href="NbE.html#23214" class="Bound">Ï</a><a id="23302" class="Symbol">))</a> <a id="23305" href="NbE.html#23267" class="Bound">x</a> <a id="23307" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="23309" href="NbE.html#14229" class="Function">ext</a> <a id="23313" class="Symbol">(</a><a id="23314" href="NbE.html#23210" class="Bound">Ï</a> <a id="23316" href="NbE.html#13421" class="Function Operator">âÊ³</a> <a id="23319" href="NbE.html#23214" class="Bound">Ï</a><a id="23320" class="Symbol">)</a> <a id="23322" href="NbE.html#23267" class="Bound">x</a>
  <a id="23326" href="NbE.html#23256" class="Function">lemma</a> <a id="23332" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="23338" class="Symbol">=</a> <a id="23340" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="23347" href="NbE.html#23256" class="Function">lemma</a> <a id="23353" class="Symbol">(</a><a id="23354" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="23356" href="NbE.html#23356" class="Bound">x</a><a id="23357" class="Symbol">)</a> <a id="23359" class="Symbol">=</a> <a id="23361" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="compose-rename"></a><a id="23367" href="NbE.html#23367" class="Function">compose-rename</a> <a id="23382" class="Symbol">:</a> <a id="23384" class="Symbol">â</a> <a id="23386" class="Symbol">{</a><a id="23387" href="NbE.html#23387" class="Bound">Î</a> <a id="23389" href="NbE.html#23389" class="Bound">Î</a> <a id="23391" href="NbE.html#23391" class="Bound">Î£</a> <a id="23393" class="Symbol">:</a> <a id="23395" href="NbE.html#3822" class="Datatype">Ctx</a><a id="23398" class="Symbol">}</a> <a id="23400" class="Symbol">{</a><a id="23401" href="NbE.html#23401" class="Bound">T</a> <a id="23403" class="Symbol">:</a> <a id="23405" href="NbE.html#3029" class="Datatype">Type</a><a id="23409" class="Symbol">}</a> <a id="23411" class="Symbol">{</a><a id="23412" href="NbE.html#23412" class="Bound">t</a> <a id="23414" class="Symbol">:</a> <a id="23416" href="NbE.html#23391" class="Bound">Î£</a> <a id="23418" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="23420" href="NbE.html#23401" class="Bound">T</a><a id="23421" class="Symbol">}</a> <a id="23423" class="Symbol">{</a><a id="23424" href="NbE.html#23424" class="Bound">Ï</a> <a id="23426" class="Symbol">:</a> <a id="23428" href="NbE.html#12521" class="Function">Ren</a> <a id="23432" href="NbE.html#23387" class="Bound">Î</a> <a id="23434" href="NbE.html#23389" class="Bound">Î</a><a id="23435" class="Symbol">}</a>
                   <a id="23456" class="Symbol">{</a><a id="23457" href="NbE.html#23457" class="Bound">Ï</a> <a id="23459" class="Symbol">:</a> <a id="23461" href="NbE.html#12521" class="Function">Ren</a> <a id="23465" href="NbE.html#23389" class="Bound">Î</a> <a id="23467" href="NbE.html#23391" class="Bound">Î£</a><a id="23468" class="Symbol">}</a>
               <a id="23485" class="Symbol">â</a> <a id="23487" href="NbE.html#23412" class="Bound">t</a> <a id="23489" href="NbE.html#14333" class="Function Operator">[</a> <a id="23491" href="NbE.html#23457" class="Bound">Ï</a> <a id="23493" href="NbE.html#14333" class="Function Operator">]Ê³</a> <a id="23496" href="NbE.html#14333" class="Function Operator">[</a> <a id="23498" href="NbE.html#23424" class="Bound">Ï</a> <a id="23500" href="NbE.html#14333" class="Function Operator">]Ê³</a> <a id="23503" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="23505" href="NbE.html#23412" class="Bound">t</a> <a id="23507" href="NbE.html#14333" class="Function Operator">[</a> <a id="23509" href="NbE.html#23457" class="Bound">Ï</a> <a id="23511" href="NbE.html#13421" class="Function Operator">âÊ³</a> <a id="23514" href="NbE.html#23424" class="Bound">Ï</a> <a id="23516" href="NbE.html#14333" class="Function Operator">]Ê³</a>
<a id="23519" href="NbE.html#23367" class="Function">compose-rename</a> <a id="23534" class="Symbol">{</a><a id="23535" class="Argument">t</a> <a id="23537" class="Symbol">=</a> <a id="23539" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="23543" class="Symbol">}</a>                               <a id="23575" class="Symbol">=</a> <a id="23577" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="23582" href="NbE.html#23367" class="Function">compose-rename</a> <a id="23597" class="Symbol">{</a><a id="23598" class="Argument">t</a> <a id="23600" class="Symbol">=</a> <a id="23602" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="23604" href="NbE.html#23604" class="Bound">x</a><a id="23605" class="Symbol">}</a>                                <a id="23638" class="Symbol">=</a> <a id="23640" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="23645" href="NbE.html#23367" class="Function">compose-rename</a> <a id="23660" class="Symbol">{</a><a id="23661" class="Argument">T</a> <a id="23663" class="Symbol">=</a> <a id="23665" href="NbE.html#23665" class="Bound">S</a> <a id="23667" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="23669" href="NbE.html#23669" class="Bound">T</a><a id="23670" class="Symbol">}</a> <a id="23672" class="Symbol">{</a><a id="23673" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="23675" href="NbE.html#23675" class="Bound">t</a><a id="23676" class="Symbol">}</a> <a id="23678" class="Symbol">{</a><a id="23679" href="NbE.html#23679" class="Bound">Ï</a><a id="23680" class="Symbol">}</a> <a id="23682" class="Symbol">{</a><a id="23683" href="NbE.html#23683" class="Bound">Ï</a><a id="23684" class="Symbol">}</a>
  <a id="23688" class="Keyword">rewrite</a> <a id="23696" href="NbE.html#23367" class="Function">compose-rename</a> <a id="23711" class="Symbol">{</a><a id="23712" class="Argument">t</a> <a id="23714" class="Symbol">=</a> <a id="23716" href="NbE.html#23675" class="Bound">t</a><a id="23717" class="Symbol">}</a> <a id="23719" class="Symbol">{</a><a id="23720" href="NbE.html#14229" class="Function">ext</a> <a id="23724" href="NbE.html#23679" class="Bound">Ï</a><a id="23725" class="Symbol">}</a> <a id="23727" class="Symbol">{</a><a id="23728" href="NbE.html#14229" class="Function">ext</a> <a id="23732" href="NbE.html#23683" class="Bound">Ï</a><a id="23733" class="Symbol">}</a>
        <a id="23743" class="Symbol">|</a> <a id="23745" href="NbE.html#18494" class="Function">cong-rename</a> <a id="23757" class="Symbol">{</a><a id="23758" class="Argument">t</a> <a id="23760" class="Symbol">=</a> <a id="23762" href="NbE.html#23675" class="Bound">t</a><a id="23763" class="Symbol">}</a> <a id="23765" class="Symbol">(</a><a id="23766" href="NbE.html#23062" class="Function">compose-ext</a> <a id="23778" class="Symbol">{</a><a id="23779" class="Argument">Ï</a> <a id="23781" class="Symbol">=</a> <a id="23783" href="NbE.html#23683" class="Bound">Ï</a><a id="23784" class="Symbol">}</a> <a id="23786" class="Symbol">{</a><a id="23787" href="NbE.html#23679" class="Bound">Ï</a><a id="23788" class="Symbol">})</a> <a id="23791" class="Symbol">=</a> <a id="23793" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="23798" href="NbE.html#23367" class="Function">compose-rename</a> <a id="23813" class="Symbol">{</a><a id="23814" class="Argument">t</a> <a id="23816" class="Symbol">=</a> <a id="23818" href="NbE.html#23818" class="Bound">r</a> <a id="23820" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="23822" href="NbE.html#23822" class="Bound">s</a><a id="23823" class="Symbol">}</a> <a id="23825" class="Symbol">{</a><a id="23826" href="NbE.html#23826" class="Bound">Ï</a><a id="23827" class="Symbol">}</a> <a id="23829" class="Symbol">{</a><a id="23830" href="NbE.html#23830" class="Bound">Ï</a><a id="23831" class="Symbol">}</a>
  <a id="23835" class="Keyword">rewrite</a> <a id="23843" href="NbE.html#23367" class="Function">compose-rename</a> <a id="23858" class="Symbol">{</a><a id="23859" class="Argument">t</a> <a id="23861" class="Symbol">=</a> <a id="23863" href="NbE.html#23818" class="Bound">r</a><a id="23864" class="Symbol">}</a> <a id="23866" class="Symbol">{</a><a id="23867" href="NbE.html#23826" class="Bound">Ï</a><a id="23868" class="Symbol">}</a> <a id="23870" class="Symbol">{</a><a id="23871" href="NbE.html#23830" class="Bound">Ï</a><a id="23872" class="Symbol">}</a>
        <a id="23882" class="Symbol">|</a> <a id="23884" href="NbE.html#23367" class="Function">compose-rename</a> <a id="23899" class="Symbol">{</a><a id="23900" class="Argument">t</a> <a id="23902" class="Symbol">=</a> <a id="23904" href="NbE.html#23822" class="Bound">s</a><a id="23905" class="Symbol">}</a> <a id="23907" class="Symbol">{</a><a id="23908" href="NbE.html#23826" class="Bound">Ï</a><a id="23909" class="Symbol">}</a> <a id="23911" class="Symbol">{</a><a id="23912" href="NbE.html#23830" class="Bound">Ï</a><a id="23913" class="Symbol">}</a>                <a id="23930" class="Symbol">=</a> <a id="23932" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="commute-subst-rename"></a><a id="23938" href="NbE.html#23938" class="Function">commute-subst-rename</a> <a id="23959" class="Symbol">:</a> <a id="23961" class="Symbol">â</a> <a id="23963" class="Symbol">{</a><a id="23964" href="NbE.html#23964" class="Bound">Î</a> <a id="23966" href="NbE.html#23966" class="Bound">Î</a> <a id="23968" href="NbE.html#23968" class="Bound">Î£</a> <a id="23970" href="NbE.html#23970" class="Bound">Î¦</a> <a id="23972" class="Symbol">:</a> <a id="23974" href="NbE.html#3822" class="Datatype">Ctx</a><a id="23977" class="Symbol">}</a> <a id="23979" class="Symbol">{</a><a id="23980" href="NbE.html#23980" class="Bound">T</a> <a id="23982" class="Symbol">:</a> <a id="23984" href="NbE.html#3029" class="Datatype">Type</a><a id="23988" class="Symbol">}</a> <a id="23990" class="Symbol">{</a><a id="23991" href="NbE.html#23991" class="Bound">t</a> <a id="23993" class="Symbol">:</a> <a id="23995" href="NbE.html#23968" class="Bound">Î£</a> <a id="23997" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="23999" href="NbE.html#23980" class="Bound">T</a><a id="24000" class="Symbol">}</a>
                         <a id="24027" class="Symbol">{</a><a id="24028" href="NbE.html#24028" class="Bound">Ï</a> <a id="24030" class="Symbol">:</a> <a id="24032" href="NbE.html#11534" class="Function">Sub</a> <a id="24036" href="NbE.html#23964" class="Bound">Î</a> <a id="24038" href="NbE.html#23966" class="Bound">Î</a><a id="24039" class="Symbol">}</a> <a id="24041" class="Symbol">{</a><a id="24042" href="NbE.html#24042" class="Bound">Ï</a> <a id="24044" class="Symbol">:</a> <a id="24046" href="NbE.html#12521" class="Function">Ren</a> <a id="24050" href="NbE.html#23966" class="Bound">Î</a> <a id="24052" href="NbE.html#23968" class="Bound">Î£</a><a id="24053" class="Symbol">}</a>
                         <a id="24080" class="Symbol">{</a><a id="24081" href="NbE.html#24081" class="Bound">Ïâ²</a> <a id="24084" class="Symbol">:</a> <a id="24086" href="NbE.html#12521" class="Function">Ren</a> <a id="24090" href="NbE.html#23964" class="Bound">Î</a> <a id="24092" href="NbE.html#23970" class="Bound">Î¦</a> <a id="24094" class="Symbol">}</a> <a id="24096" class="Symbol">{</a><a id="24097" href="NbE.html#24097" class="Bound">Ïâ²</a> <a id="24100" class="Symbol">:</a> <a id="24102" href="NbE.html#11534" class="Function">Sub</a> <a id="24106" href="NbE.html#23970" class="Bound">Î¦</a> <a id="24108" href="NbE.html#23968" class="Bound">Î£</a><a id="24109" class="Symbol">}</a>
                     <a id="24132" class="Symbol">â</a> <a id="24134" class="Symbol">(â</a> <a id="24137" class="Symbol">{</a><a id="24138" href="NbE.html#24138" class="Bound">S</a> <a id="24140" class="Symbol">:</a> <a id="24142" href="NbE.html#3029" class="Datatype">Type</a><a id="24146" class="Symbol">}</a> <a id="24148" class="Symbol">{</a><a id="24149" href="NbE.html#24149" class="Bound">x</a> <a id="24151" class="Symbol">:</a> <a id="24153" href="NbE.html#23968" class="Bound">Î£</a> <a id="24155" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="24157" href="NbE.html#24138" class="Bound">S</a><a id="24158" class="Symbol">}</a> <a id="24160" class="Symbol">â</a> <a id="24162" href="NbE.html#24028" class="Bound">Ï</a> <a id="24164" class="Symbol">(</a><a id="24165" href="NbE.html#24042" class="Bound">Ï</a> <a id="24167" href="NbE.html#24149" class="Bound">x</a><a id="24168" class="Symbol">)</a> <a id="24170" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="24172" href="NbE.html#24097" class="Bound">Ïâ²</a> <a id="24175" href="NbE.html#24149" class="Bound">x</a> <a id="24177" href="NbE.html#14333" class="Function Operator">[</a> <a id="24179" href="NbE.html#24081" class="Bound">Ïâ²</a> <a id="24182" href="NbE.html#14333" class="Function Operator">]Ê³</a><a id="24184" class="Symbol">)</a>
                     <a id="24207" class="Symbol">â</a> <a id="24209" href="NbE.html#23991" class="Bound">t</a> <a id="24211" href="NbE.html#14333" class="Function Operator">[</a> <a id="24213" href="NbE.html#24042" class="Bound">Ï</a> <a id="24215" href="NbE.html#14333" class="Function Operator">]Ê³</a> <a id="24218" href="NbE.html#15385" class="Function Operator">[</a> <a id="24220" href="NbE.html#24028" class="Bound">Ï</a> <a id="24222" href="NbE.html#15385" class="Function Operator">]</a> <a id="24224" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="24226" href="NbE.html#23991" class="Bound">t</a> <a id="24228" href="NbE.html#15385" class="Function Operator">[</a> <a id="24230" href="NbE.html#24097" class="Bound">Ïâ²</a> <a id="24233" href="NbE.html#15385" class="Function Operator">]</a> <a id="24235" href="NbE.html#14333" class="Function Operator">[</a> <a id="24237" href="NbE.html#24081" class="Bound">Ïâ²</a> <a id="24240" href="NbE.html#14333" class="Function Operator">]Ê³</a>
<a id="24243" href="NbE.html#23938" class="Function">commute-subst-rename</a> <a id="24264" class="Symbol">{</a><a id="24265" class="Argument">t</a> <a id="24267" class="Symbol">=</a> <a id="24269" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="24273" class="Symbol">}</a> <a id="24275" href="NbE.html#24275" class="Bound">pf</a> <a id="24278" class="Symbol">=</a> <a id="24280" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="24285" href="NbE.html#23938" class="Function">commute-subst-rename</a> <a id="24306" class="Symbol">{</a><a id="24307" class="Argument">t</a> <a id="24309" class="Symbol">=</a> <a id="24311" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="24313" href="NbE.html#24313" class="Bound">x</a><a id="24314" class="Symbol">}</a> <a id="24316" href="NbE.html#24316" class="Bound">pf</a> <a id="24319" class="Symbol">=</a> <a id="24321" href="NbE.html#24316" class="Bound">pf</a>
<a id="24324" href="NbE.html#23938" class="Function">commute-subst-rename</a> <a id="24345" class="Symbol">{</a><a id="24346" class="Argument">Î£</a> <a id="24348" class="Symbol">=</a> <a id="24350" href="NbE.html#24350" class="Bound">Î£</a><a id="24351" class="Symbol">}</a> <a id="24353" class="Symbol">{</a><a id="24354" class="Argument">T</a> <a id="24356" class="Symbol">=</a> <a id="24358" href="NbE.html#24358" class="Bound">S</a> <a id="24360" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="24362" href="NbE.html#24362" class="Bound">T</a><a id="24363" class="Symbol">}</a> <a id="24365" class="Symbol">{</a><a id="24366" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="24368" href="NbE.html#24368" class="Bound">t</a><a id="24369" class="Symbol">}</a> <a id="24371" class="Symbol">{</a><a id="24372" href="NbE.html#24372" class="Bound">Ï</a><a id="24373" class="Symbol">}</a> <a id="24375" class="Symbol">{</a><a id="24376" href="NbE.html#24376" class="Bound">Ï</a><a id="24377" class="Symbol">}</a> <a id="24379" class="Symbol">{</a><a id="24380" href="NbE.html#24380" class="Bound">Ïâ²</a><a id="24382" class="Symbol">}</a> <a id="24384" class="Symbol">{</a><a id="24385" href="NbE.html#24385" class="Bound">Ïâ²</a><a id="24387" class="Symbol">}</a> <a id="24389" href="NbE.html#24389" class="Bound">pf</a> <a id="24392" class="Symbol">=</a>
  <a id="24396" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="24401" href="NbE.html#5870" class="InductiveConstructor Operator">Æ_</a> <a id="24404" class="Symbol">(</a><a id="24405" href="NbE.html#23938" class="Function">commute-subst-rename</a> <a id="24426" class="Symbol">{</a><a id="24427" class="Argument">t</a> <a id="24429" class="Symbol">=</a> <a id="24431" href="NbE.html#24368" class="Bound">t</a><a id="24432" class="Symbol">}</a> <a id="24434" class="Symbol">(Î»</a> <a id="24437" class="Symbol">{</a><a id="24438" href="NbE.html#24438" class="Bound">_</a><a id="24439" class="Symbol">}</a> <a id="24441" class="Symbol">{</a><a id="24442" href="NbE.html#24442" class="Bound">x</a><a id="24443" class="Symbol">}</a> <a id="24445" class="Symbol">â</a> <a id="24447" href="NbE.html#24465" class="Function">H</a> <a id="24449" href="NbE.html#24442" class="Bound">x</a><a id="24450" class="Symbol">))</a>
  <a id="24455" class="Keyword">where</a>
    <a id="24465" href="NbE.html#24465" class="Function">H</a> <a id="24467" class="Symbol">:</a> <a id="24469" class="Symbol">â</a> <a id="24471" class="Symbol">{</a><a id="24472" href="NbE.html#24472" class="Bound">U</a> <a id="24474" class="Symbol">:</a> <a id="24476" href="NbE.html#3029" class="Datatype">Type</a><a id="24480" class="Symbol">}</a> <a id="24482" class="Symbol">(</a><a id="24483" href="NbE.html#24483" class="Bound">x</a> <a id="24485" class="Symbol">:</a> <a id="24487" href="NbE.html#24350" class="Bound">Î£</a> <a id="24489" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="24491" href="NbE.html#24358" class="Bound">S</a> <a id="24493" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="24495" href="NbE.html#24472" class="Bound">U</a><a id="24496" class="Symbol">)</a> <a id="24498" class="Symbol">â</a> <a id="24500" href="NbE.html#15268" class="Function">exts</a> <a id="24505" href="NbE.html#24372" class="Bound">Ï</a> <a id="24507" class="Symbol">(</a><a id="24508" href="NbE.html#14229" class="Function">ext</a> <a id="24512" href="NbE.html#24376" class="Bound">Ï</a> <a id="24514" href="NbE.html#24483" class="Bound">x</a><a id="24515" class="Symbol">)</a> <a id="24517" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="24519" href="NbE.html#15268" class="Function">exts</a> <a id="24524" href="NbE.html#24385" class="Bound">Ïâ²</a> <a id="24527" href="NbE.html#24483" class="Bound">x</a> <a id="24529" href="NbE.html#14333" class="Function Operator">[</a> <a id="24531" href="NbE.html#14229" class="Function">ext</a> <a id="24535" href="NbE.html#24380" class="Bound">Ïâ²</a> <a id="24538" href="NbE.html#14333" class="Function Operator">]Ê³</a>
    <a id="24545" href="NbE.html#24465" class="Function">H</a> <a id="24547" href="NbE.html#4481" class="InductiveConstructor">ð</a> <a id="24549" class="Symbol">=</a> <a id="24551" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
    <a id="24560" href="NbE.html#24465" class="Function">H</a> <a id="24562" class="Symbol">(</a><a id="24563" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="24565" href="NbE.html#24565" class="Bound">x</a><a id="24566" class="Symbol">)</a> <a id="24568" class="Keyword">rewrite</a> <a id="24576" href="NbE.html#24389" class="Bound">pf</a> <a id="24579" class="Symbol">{</a><a id="24580" class="Argument">x</a> <a id="24582" class="Symbol">=</a> <a id="24584" href="NbE.html#24565" class="Bound">x</a><a id="24585" class="Symbol">}</a>
                  <a id="24605" class="Symbol">|</a> <a id="24607" href="NbE.html#23367" class="Function">compose-rename</a> <a id="24622" class="Symbol">{</a><a id="24623" class="Argument">t</a> <a id="24625" class="Symbol">=</a> <a id="24627" href="NbE.html#24385" class="Bound">Ïâ²</a> <a id="24630" href="NbE.html#24565" class="Bound">x</a><a id="24631" class="Symbol">}</a> <a id="24633" class="Symbol">{</a><a id="24634" href="NbE.html#13126" class="Function">â¥Ê³</a> <a id="24637" class="Symbol">{</a><a id="24638" class="Argument">T</a> <a id="24640" class="Symbol">=</a> <a id="24642" href="NbE.html#24358" class="Bound">S</a><a id="24643" class="Symbol">}}</a> <a id="24646" class="Symbol">{</a><a id="24647" href="NbE.html#24380" class="Bound">Ïâ²</a><a id="24649" class="Symbol">}</a>
                  <a id="24669" class="Symbol">|</a> <a id="24671" href="NbE.html#23367" class="Function">compose-rename</a> <a id="24686" class="Symbol">{</a><a id="24687" class="Argument">t</a> <a id="24689" class="Symbol">=</a> <a id="24691" href="NbE.html#24385" class="Bound">Ïâ²</a> <a id="24694" href="NbE.html#24565" class="Bound">x</a><a id="24695" class="Symbol">}</a> <a id="24697" class="Symbol">{</a><a id="24698" href="NbE.html#14229" class="Function">ext</a> <a id="24702" href="NbE.html#24380" class="Bound">Ïâ²</a> <a id="24705" class="Symbol">{</a><a id="24706" href="NbE.html#24358" class="Bound">S</a><a id="24707" class="Symbol">}}</a> <a id="24710" class="Symbol">{</a><a id="24711" href="NbE.html#13126" class="Function">â¥Ê³</a><a id="24713" class="Symbol">}</a> <a id="24715" class="Symbol">=</a> <a id="24717" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="24722" href="NbE.html#23938" class="Function">commute-subst-rename</a> <a id="24743" class="Symbol">{</a><a id="24744" class="Argument">t</a> <a id="24746" class="Symbol">=</a> <a id="24748" href="NbE.html#24748" class="Bound">r</a> <a id="24750" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="24752" href="NbE.html#24752" class="Bound">s</a><a id="24753" class="Symbol">}</a> <a id="24755" class="Symbol">{</a><a id="24756" href="NbE.html#24756" class="Bound">Ï</a><a id="24757" class="Symbol">}</a> <a id="24759" class="Symbol">{</a><a id="24760" href="NbE.html#24760" class="Bound">Ï</a><a id="24761" class="Symbol">}</a> <a id="24763" class="Symbol">{</a><a id="24764" href="NbE.html#24764" class="Bound">Ïâ²</a><a id="24766" class="Symbol">}</a> <a id="24768" class="Symbol">{</a><a id="24769" href="NbE.html#24769" class="Bound">Ïâ²</a><a id="24771" class="Symbol">}</a> <a id="24773" href="NbE.html#24773" class="Bound">pf</a>
  <a id="24778" class="Keyword">rewrite</a> <a id="24786" href="NbE.html#23938" class="Function">commute-subst-rename</a> <a id="24807" class="Symbol">{</a><a id="24808" class="Argument">t</a> <a id="24810" class="Symbol">=</a> <a id="24812" href="NbE.html#24748" class="Bound">r</a><a id="24813" class="Symbol">}</a> <a id="24815" class="Symbol">{</a><a id="24816" href="NbE.html#24756" class="Bound">Ï</a><a id="24817" class="Symbol">}</a> <a id="24819" class="Symbol">{</a><a id="24820" href="NbE.html#24760" class="Bound">Ï</a><a id="24821" class="Symbol">}</a> <a id="24823" class="Symbol">{</a><a id="24824" href="NbE.html#24764" class="Bound">Ïâ²</a><a id="24826" class="Symbol">}</a> <a id="24828" class="Symbol">{</a><a id="24829" href="NbE.html#24769" class="Bound">Ïâ²</a><a id="24831" class="Symbol">}</a> <a id="24833" href="NbE.html#24773" class="Bound">pf</a>
        <a id="24844" class="Symbol">|</a> <a id="24846" href="NbE.html#23938" class="Function">commute-subst-rename</a> <a id="24867" class="Symbol">{</a><a id="24868" class="Argument">t</a> <a id="24870" class="Symbol">=</a> <a id="24872" href="NbE.html#24752" class="Bound">s</a><a id="24873" class="Symbol">}</a> <a id="24875" class="Symbol">{</a><a id="24876" href="NbE.html#24756" class="Bound">Ï</a><a id="24877" class="Symbol">}</a> <a id="24879" class="Symbol">{</a><a id="24880" href="NbE.html#24760" class="Bound">Ï</a><a id="24881" class="Symbol">}</a> <a id="24883" class="Symbol">{</a><a id="24884" href="NbE.html#24764" class="Bound">Ïâ²</a><a id="24886" class="Symbol">}</a> <a id="24888" class="Symbol">{</a><a id="24889" href="NbE.html#24769" class="Bound">Ïâ²</a><a id="24891" class="Symbol">}</a> <a id="24893" href="NbE.html#24773" class="Bound">pf</a> <a id="24896" class="Symbol">=</a> <a id="24898" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="sub-ð-shift"></a><a id="24904" href="NbE.html#24904" class="Function">sub-ð-shift</a> <a id="24916" class="Symbol">:</a> <a id="24918" class="Symbol">â</a> <a id="24920" class="Symbol">{</a><a id="24921" href="NbE.html#24921" class="Bound">Î</a> <a id="24923" href="NbE.html#24923" class="Bound">Î</a> <a id="24925" class="Symbol">:</a> <a id="24927" href="NbE.html#3822" class="Datatype">Ctx</a><a id="24930" class="Symbol">}</a> <a id="24932" class="Symbol">{</a><a id="24933" href="NbE.html#24933" class="Bound">S</a> <a id="24935" href="NbE.html#24935" class="Bound">T</a> <a id="24937" class="Symbol">:</a> <a id="24939" href="NbE.html#3029" class="Datatype">Type</a><a id="24943" class="Symbol">}</a> <a id="24945" class="Symbol">{</a><a id="24946" href="NbE.html#24946" class="Bound">Ï</a> <a id="24948" class="Symbol">:</a> <a id="24950" href="NbE.html#11534" class="Function">Sub</a> <a id="24954" href="NbE.html#24921" class="Bound">Î</a> <a id="24956" class="Symbol">(</a><a id="24957" href="NbE.html#24923" class="Bound">Î</a> <a id="24959" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="24961" href="NbE.html#24933" class="Bound">S</a><a id="24962" class="Symbol">)}</a> <a id="24965" class="Symbol">{</a><a id="24966" href="NbE.html#24966" class="Bound">x</a> <a id="24968" class="Symbol">:</a> <a id="24970" href="NbE.html#24923" class="Bound">Î</a> <a id="24972" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="24974" href="NbE.html#24935" class="Bound">T</a><a id="24975" class="Symbol">}</a>
            <a id="24989" class="Symbol">â</a> <a id="24991" href="NbE.html#24946" class="Bound">Ï</a> <a id="24993" class="Symbol">(</a><a id="24994" href="NbE.html#4547" class="InductiveConstructor Operator">ð_</a> <a id="24997" class="Symbol">{</a><a id="24998" class="Argument">T</a> <a id="25000" class="Symbol">=</a> <a id="25002" href="NbE.html#24935" class="Bound">T</a><a id="25003" class="Symbol">}</a> <a id="25005" href="NbE.html#24966" class="Bound">x</a><a id="25006" class="Symbol">)</a> <a id="25008" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="25010" class="Symbol">(</a><a id="25011" href="NbE.html#15933" class="Function">â¥</a> <a id="25013" href="NbE.html#15989" class="Function Operator">â</a> <a id="25015" href="NbE.html#24946" class="Bound">Ï</a><a id="25016" class="Symbol">)</a> <a id="25018" href="NbE.html#24966" class="Bound">x</a>
<a id="25020" href="NbE.html#24904" class="Function">sub-ð-shift</a> <a id="25032" class="Symbol">=</a> <a id="25034" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="exts-seq"></a><a id="25040" href="NbE.html#25040" class="Function">exts-seq</a> <a id="25049" class="Symbol">:</a> <a id="25051" class="Symbol">â</a> <a id="25053" class="Symbol">{</a><a id="25054" href="NbE.html#25054" class="Bound">Î</a> <a id="25056" href="NbE.html#25056" class="Bound">Î</a> <a id="25058" href="NbE.html#25058" class="Bound">Î£</a> <a id="25060" class="Symbol">:</a> <a id="25062" href="NbE.html#3822" class="Datatype">Ctx</a><a id="25065" class="Symbol">}</a> <a id="25067" class="Symbol">{</a><a id="25068" href="NbE.html#25068" class="Bound">Ï</a> <a id="25070" class="Symbol">:</a> <a id="25072" href="NbE.html#11534" class="Function">Sub</a> <a id="25076" href="NbE.html#25054" class="Bound">Î</a> <a id="25078" href="NbE.html#25056" class="Bound">Î</a><a id="25079" class="Symbol">}</a> <a id="25081" class="Symbol">{</a><a id="25082" href="NbE.html#25082" class="Bound">Ï</a> <a id="25084" class="Symbol">:</a> <a id="25086" href="NbE.html#11534" class="Function">Sub</a> <a id="25090" href="NbE.html#25056" class="Bound">Î</a> <a id="25092" href="NbE.html#25058" class="Bound">Î£</a><a id="25093" class="Symbol">}</a> <a id="25095" class="Symbol">{</a><a id="25096" href="NbE.html#25096" class="Bound">S</a> <a id="25098" class="Symbol">:</a> <a id="25100" href="NbE.html#3029" class="Datatype">Type</a><a id="25104" class="Symbol">}</a>
         <a id="25115" class="Symbol">â</a> <a id="25117" class="Symbol">â</a> <a id="25119" class="Symbol">{</a><a id="25120" href="NbE.html#25120" class="Bound">T</a> <a id="25122" class="Symbol">:</a> <a id="25124" href="NbE.html#3029" class="Datatype">Type</a><a id="25128" class="Symbol">}</a> <a id="25130" class="Symbol">â</a> <a id="25132" class="Symbol">(</a><a id="25133" href="NbE.html#15268" class="Function">exts</a> <a id="25138" href="NbE.html#25082" class="Bound">Ï</a> <a id="25140" href="NbE.html#15989" class="Function Operator">â</a> <a id="25142" href="NbE.html#15268" class="Function">exts</a> <a id="25147" href="NbE.html#25068" class="Bound">Ï</a><a id="25148" class="Symbol">)</a> <a id="25150" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="25152" href="NbE.html#15268" class="Function">exts</a> <a id="25157" class="Symbol">(</a><a id="25158" href="NbE.html#25082" class="Bound">Ï</a> <a id="25160" href="NbE.html#15989" class="Function Operator">â</a> <a id="25162" href="NbE.html#25068" class="Bound">Ï</a><a id="25163" class="Symbol">)</a> <a id="25165" class="Symbol">{</a><a id="25166" href="NbE.html#25096" class="Bound">S</a><a id="25167" class="Symbol">}</a> <a id="25169" class="Symbol">{</a><a id="25170" href="NbE.html#25120" class="Bound">T</a><a id="25171" class="Symbol">}</a>
<a id="25173" href="NbE.html#25040" class="Function">exts-seq</a> <a id="25182" class="Symbol">{</a><a id="25183" class="Argument">Î£</a> <a id="25185" class="Symbol">=</a> <a id="25187" href="NbE.html#25187" class="Bound">Î£</a><a id="25188" class="Symbol">}</a> <a id="25190" class="Symbol">{</a><a id="25191" href="NbE.html#25191" class="Bound">Ï</a><a id="25192" class="Symbol">}</a> <a id="25194" class="Symbol">{</a><a id="25195" href="NbE.html#25195" class="Bound">Ï</a><a id="25196" class="Symbol">}</a> <a id="25198" class="Symbol">{</a><a id="25199" href="NbE.html#25199" class="Bound">S</a><a id="25200" class="Symbol">}</a> <a id="25202" class="Symbol">{</a><a id="25203" href="NbE.html#25203" class="Bound">T</a><a id="25204" class="Symbol">}</a> <a id="25206" class="Symbol">=</a> <a id="25208" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="25223" href="NbE.html#25237" class="Function">lemma</a> <a id="25229" class="Keyword">where</a>
  <a id="25237" href="NbE.html#25237" class="Function">lemma</a> <a id="25243" class="Symbol">:</a> <a id="25245" class="Symbol">â</a> <a id="25247" class="Symbol">(</a><a id="25248" href="NbE.html#25248" class="Bound">x</a> <a id="25250" class="Symbol">:</a> <a id="25252" href="NbE.html#25187" class="Bound">Î£</a> <a id="25254" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="25256" href="NbE.html#25199" class="Bound">S</a> <a id="25258" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="25260" href="NbE.html#25203" class="Bound">T</a><a id="25261" class="Symbol">)</a> <a id="25263" class="Symbol">â</a> <a id="25265" class="Symbol">(</a><a id="25266" href="NbE.html#15268" class="Function">exts</a> <a id="25271" href="NbE.html#25195" class="Bound">Ï</a> <a id="25273" href="NbE.html#15989" class="Function Operator">â</a> <a id="25275" href="NbE.html#15268" class="Function">exts</a> <a id="25280" href="NbE.html#25191" class="Bound">Ï</a><a id="25281" class="Symbol">)</a> <a id="25283" href="NbE.html#25248" class="Bound">x</a> <a id="25285" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="25287" href="NbE.html#15268" class="Function">exts</a> <a id="25292" class="Symbol">(</a><a id="25293" href="NbE.html#25195" class="Bound">Ï</a> <a id="25295" href="NbE.html#15989" class="Function Operator">â</a> <a id="25297" href="NbE.html#25191" class="Bound">Ï</a><a id="25298" class="Symbol">)</a> <a id="25300" href="NbE.html#25248" class="Bound">x</a>
  <a id="25304" href="NbE.html#25237" class="Function">lemma</a> <a id="25310" href="NbE.html#4481" class="InductiveConstructor">ð</a>  <a id="25313" class="Symbol">=</a> <a id="25315" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="25322" href="NbE.html#25237" class="Function">lemma</a> <a id="25328" class="Symbol">(</a><a id="25329" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="25331" href="NbE.html#25331" class="Bound">x</a><a id="25332" class="Symbol">)</a> <a id="25334" class="Keyword">rewrite</a> <a id="25342" href="NbE.html#24904" class="Function">sub-ð-shift</a> <a id="25354" class="Symbol">{</a><a id="25355" class="Argument">S</a> <a id="25357" class="Symbol">=</a> <a id="25359" href="NbE.html#25199" class="Bound">S</a><a id="25360" class="Symbol">}</a> <a id="25362" class="Symbol">{</a><a id="25363" class="Argument">Ï</a> <a id="25365" class="Symbol">=</a> <a id="25367" href="NbE.html#15268" class="Function">exts</a> <a id="25372" href="NbE.html#25195" class="Bound">Ï</a> <a id="25374" href="NbE.html#15989" class="Function Operator">â</a> <a id="25376" href="NbE.html#15268" class="Function">exts</a> <a id="25381" href="NbE.html#25191" class="Bound">Ï</a><a id="25382" class="Symbol">}</a> <a id="25384" class="Symbol">{</a><a id="25385" href="NbE.html#25331" class="Bound">x</a><a id="25386" class="Symbol">}</a> <a id="25388" class="Symbol">=</a>
    <a id="25394" href="NbE.html#23938" class="Function">commute-subst-rename</a> <a id="25415" class="Symbol">{</a><a id="25416" class="Argument">t</a> <a id="25418" class="Symbol">=</a> <a id="25420" href="NbE.html#25195" class="Bound">Ï</a> <a id="25422" href="NbE.html#25331" class="Bound">x</a><a id="25423" class="Symbol">}</a> <a id="25425" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>--->
<pre class="Agda"><a id="sub-sub"></a><a id="25448" href="NbE.html#25448" class="Function">sub-sub</a> <a id="25456" class="Symbol">:</a> <a id="25458" class="Symbol">â</a> <a id="25460" class="Symbol">{</a><a id="25461" href="NbE.html#25461" class="Bound">Î</a> <a id="25463" href="NbE.html#25463" class="Bound">Î</a> <a id="25465" href="NbE.html#25465" class="Bound">Î£</a> <a id="25467" class="Symbol">:</a> <a id="25469" href="NbE.html#3822" class="Datatype">Ctx</a><a id="25472" class="Symbol">}</a> <a id="25474" class="Symbol">{</a><a id="25475" href="NbE.html#25475" class="Bound">T</a> <a id="25477" class="Symbol">:</a> <a id="25479" href="NbE.html#3029" class="Datatype">Type</a><a id="25483" class="Symbol">}</a> <a id="25485" class="Symbol">{</a><a id="25486" href="NbE.html#25486" class="Bound">Ï</a> <a id="25488" class="Symbol">:</a> <a id="25490" href="NbE.html#11534" class="Function">Sub</a> <a id="25494" href="NbE.html#25461" class="Bound">Î</a> <a id="25496" href="NbE.html#25463" class="Bound">Î</a><a id="25497" class="Symbol">}</a> <a id="25499" class="Symbol">{</a><a id="25500" href="NbE.html#25500" class="Bound">Ï</a> <a id="25502" class="Symbol">:</a> <a id="25504" href="NbE.html#11534" class="Function">Sub</a> <a id="25508" href="NbE.html#25463" class="Bound">Î</a> <a id="25510" href="NbE.html#25465" class="Bound">Î£</a><a id="25511" class="Symbol">}</a> <a id="25513" class="Symbol">{</a><a id="25514" href="NbE.html#25514" class="Bound">t</a> <a id="25516" class="Symbol">:</a> <a id="25518" href="NbE.html#25465" class="Bound">Î£</a> <a id="25520" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="25522" href="NbE.html#25475" class="Bound">T</a><a id="25523" class="Symbol">}</a>
        <a id="25533" class="Symbol">â</a> <a id="25535" href="NbE.html#25514" class="Bound">t</a> <a id="25537" href="NbE.html#15385" class="Function Operator">[</a> <a id="25539" href="NbE.html#25500" class="Bound">Ï</a> <a id="25541" href="NbE.html#15385" class="Function Operator">]</a> <a id="25543" href="NbE.html#15385" class="Function Operator">[</a> <a id="25545" href="NbE.html#25486" class="Bound">Ï</a> <a id="25547" href="NbE.html#15385" class="Function Operator">]</a> <a id="25549" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="25551" href="NbE.html#25514" class="Bound">t</a> <a id="25553" href="NbE.html#15385" class="Function Operator">[</a> <a id="25555" href="NbE.html#25500" class="Bound">Ï</a> <a id="25557" href="NbE.html#15989" class="Function Operator">â</a> <a id="25559" href="NbE.html#25486" class="Bound">Ï</a> <a id="25561" href="NbE.html#15385" class="Function Operator">]</a>
</pre>
<!---
<pre class="Agda"><a id="25582" href="NbE.html#25448" class="Function">sub-sub</a> <a id="25590" class="Symbol">{</a><a id="25591" class="Argument">t</a> <a id="25593" class="Symbol">=</a> <a id="25595" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="25599" class="Symbol">}</a> <a id="25601" class="Symbol">=</a> <a id="25603" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="25608" href="NbE.html#25448" class="Function">sub-sub</a> <a id="25616" class="Symbol">{</a><a id="25617" class="Argument">t</a> <a id="25619" class="Symbol">=</a> <a id="25621" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="25623" href="NbE.html#25623" class="Bound">x</a><a id="25624" class="Symbol">}</a> <a id="25626" class="Symbol">=</a> <a id="25628" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="25633" href="NbE.html#25448" class="Function">sub-sub</a> <a id="25641" class="Symbol">{</a><a id="25642" class="Argument">Ï</a> <a id="25644" class="Symbol">=</a> <a id="25646" href="NbE.html#25646" class="Bound">Ï</a><a id="25647" class="Symbol">}</a> <a id="25649" class="Symbol">{</a><a id="25650" href="NbE.html#25650" class="Bound">Ï</a><a id="25651" class="Symbol">}</a> <a id="25653" class="Symbol">{</a><a id="25654" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="25656" href="NbE.html#25656" class="Bound">t</a><a id="25657" class="Symbol">}</a> <a id="25659" class="Symbol">=</a>
  <a id="25663" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
    <a id="25673" class="Symbol">(</a><a id="25674" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="25676" href="NbE.html#25656" class="Bound">t</a><a id="25677" class="Symbol">)</a> <a id="25679" href="NbE.html#15385" class="Function Operator">[</a> <a id="25681" href="NbE.html#25650" class="Bound">Ï</a> <a id="25683" href="NbE.html#15385" class="Function Operator">]</a> <a id="25685" href="NbE.html#15385" class="Function Operator">[</a> <a id="25687" href="NbE.html#25646" class="Bound">Ï</a> <a id="25689" href="NbE.html#15385" class="Function Operator">]</a>
  <a id="25693" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">â¡â¨â©</a>
    <a id="25701" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="25703" href="NbE.html#25656" class="Bound">t</a> <a id="25705" href="NbE.html#15385" class="Function Operator">[</a> <a id="25707" href="NbE.html#15268" class="Function">exts</a> <a id="25712" href="NbE.html#25650" class="Bound">Ï</a> <a id="25714" href="NbE.html#15385" class="Function Operator">]</a> <a id="25716" href="NbE.html#15385" class="Function Operator">[</a> <a id="25718" href="NbE.html#15268" class="Function">exts</a> <a id="25723" href="NbE.html#25646" class="Bound">Ï</a> <a id="25725" href="NbE.html#15385" class="Function Operator">]</a>
  <a id="25729" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="25732" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="25737" href="NbE.html#5870" class="InductiveConstructor Operator">Æ_</a> <a id="25740" class="Symbol">(</a><a id="25741" href="NbE.html#25448" class="Function">sub-sub</a> <a id="25749" class="Symbol">{</a><a id="25750" class="Argument">Ï</a> <a id="25752" class="Symbol">=</a> <a id="25754" href="NbE.html#15268" class="Function">exts</a> <a id="25759" href="NbE.html#25646" class="Bound">Ï</a><a id="25760" class="Symbol">}</a> <a id="25762" class="Symbol">{</a><a id="25763" href="NbE.html#15268" class="Function">exts</a> <a id="25768" href="NbE.html#25650" class="Bound">Ï</a><a id="25769" class="Symbol">}</a> <a id="25771" class="Symbol">{</a><a id="25772" href="NbE.html#25656" class="Bound">t</a><a id="25773" class="Symbol">})</a> <a id="25776" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
    <a id="25782" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="25784" href="NbE.html#25656" class="Bound">t</a> <a id="25786" href="NbE.html#15385" class="Function Operator">[</a> <a id="25788" href="NbE.html#15268" class="Function">exts</a> <a id="25793" href="NbE.html#25650" class="Bound">Ï</a> <a id="25795" href="NbE.html#15989" class="Function Operator">â</a> <a id="25797" href="NbE.html#15268" class="Function">exts</a> <a id="25802" href="NbE.html#25646" class="Bound">Ï</a> <a id="25804" href="NbE.html#15385" class="Function Operator">]</a>
  <a id="25808" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="25811" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="25816" href="NbE.html#5870" class="InductiveConstructor Operator">Æ_</a> <a id="25819" class="Symbol">(</a><a id="25820" href="NbE.html#19370" class="Function">cong-sub</a> <a id="25829" class="Symbol">{</a><a id="25830" class="Argument">t</a> <a id="25832" class="Symbol">=</a> <a id="25834" href="NbE.html#25656" class="Bound">t</a><a id="25835" class="Symbol">}</a> <a id="25837" href="NbE.html#25040" class="Function">exts-seq</a> <a id="25846" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="25850" class="Symbol">)</a> <a id="25852" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
    <a id="25858" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="25860" href="NbE.html#25656" class="Bound">t</a> <a id="25862" href="NbE.html#15385" class="Function Operator">[</a> <a id="25864" href="NbE.html#15268" class="Function">exts</a> <a id="25869" class="Symbol">(</a><a id="25870" href="NbE.html#25650" class="Bound">Ï</a> <a id="25872" href="NbE.html#15989" class="Function Operator">â</a> <a id="25874" href="NbE.html#25646" class="Bound">Ï</a><a id="25875" class="Symbol">)</a> <a id="25877" href="NbE.html#15385" class="Function Operator">]</a>
  <a id="25881" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">â</a>
<a id="25883" href="NbE.html#25448" class="Function">sub-sub</a> <a id="25891" class="Symbol">{</a><a id="25892" class="Argument">Ï</a> <a id="25894" class="Symbol">=</a> <a id="25896" href="NbE.html#25896" class="Bound">Ï</a><a id="25897" class="Symbol">}</a> <a id="25899" class="Symbol">{</a><a id="25900" href="NbE.html#25900" class="Bound">Ï</a><a id="25901" class="Symbol">}</a> <a id="25903" class="Symbol">{</a><a id="25904" href="NbE.html#25904" class="Bound">r</a> <a id="25906" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="25908" href="NbE.html#25908" class="Bound">s</a><a id="25909" class="Symbol">}</a>
  <a id="25913" class="Keyword">rewrite</a> <a id="25921" href="NbE.html#25448" class="Function">sub-sub</a> <a id="25929" class="Symbol">{</a><a id="25930" class="Argument">Ï</a> <a id="25932" class="Symbol">=</a> <a id="25934" href="NbE.html#25896" class="Bound">Ï</a><a id="25935" class="Symbol">}</a> <a id="25937" class="Symbol">{</a><a id="25938" href="NbE.html#25900" class="Bound">Ï</a><a id="25939" class="Symbol">}</a> <a id="25941" class="Symbol">{</a><a id="25942" href="NbE.html#25904" class="Bound">r</a><a id="25943" class="Symbol">}</a> <a id="25945" class="Symbol">|</a> <a id="25947" href="NbE.html#25448" class="Function">sub-sub</a> <a id="25955" class="Symbol">{</a><a id="25956" class="Argument">Ï</a> <a id="25958" class="Symbol">=</a> <a id="25960" href="NbE.html#25896" class="Bound">Ï</a><a id="25961" class="Symbol">}</a> <a id="25963" class="Symbol">{</a><a id="25964" href="NbE.html#25900" class="Bound">Ï</a><a id="25965" class="Symbol">}</a> <a id="25967" class="Symbol">{</a><a id="25968" href="NbE.html#25908" class="Bound">s</a><a id="25969" class="Symbol">}</a> <a id="25971" class="Symbol">=</a> <a id="25973" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="sub-assoc"></a><a id="25979" href="NbE.html#25979" class="Function">sub-assoc</a> <a id="25989" class="Symbol">:</a> <a id="25991" class="Symbol">â</a> <a id="25993" class="Symbol">{</a><a id="25994" href="NbE.html#25994" class="Bound">Î</a> <a id="25996" href="NbE.html#25996" class="Bound">Î</a> <a id="25998" href="NbE.html#25998" class="Bound">Î£</a> <a id="26000" href="NbE.html#26000" class="Bound">Î¦</a> <a id="26002" class="Symbol">:</a> <a id="26004" href="NbE.html#3822" class="Datatype">Ctx</a><a id="26007" class="Symbol">}</a> <a id="26009" class="Symbol">{</a><a id="26010" href="NbE.html#26010" class="Bound">Ï</a> <a id="26012" class="Symbol">:</a> <a id="26014" href="NbE.html#11534" class="Function">Sub</a> <a id="26018" href="NbE.html#25996" class="Bound">Î</a> <a id="26020" href="NbE.html#25994" class="Bound">Î</a><a id="26021" class="Symbol">}</a> <a id="26023" class="Symbol">{</a><a id="26024" href="NbE.html#26024" class="Bound">Ï</a> <a id="26026" class="Symbol">:</a> <a id="26028" href="NbE.html#11534" class="Function">Sub</a> <a id="26032" href="NbE.html#25998" class="Bound">Î£</a> <a id="26034" href="NbE.html#25996" class="Bound">Î</a><a id="26035" class="Symbol">}</a> <a id="26037" class="Symbol">{</a><a id="26038" href="NbE.html#26038" class="Bound">Î¸</a> <a id="26040" class="Symbol">:</a> <a id="26042" href="NbE.html#11534" class="Function">Sub</a> <a id="26046" href="NbE.html#26000" class="Bound">Î¦</a> <a id="26048" href="NbE.html#25998" class="Bound">Î£</a><a id="26049" class="Symbol">}</a>
          <a id="26061" class="Symbol">â</a> <a id="26063" class="Symbol">â</a> <a id="26065" class="Symbol">{</a><a id="26066" href="NbE.html#26066" class="Bound">T</a> <a id="26068" class="Symbol">:</a> <a id="26070" href="NbE.html#3029" class="Datatype">Type</a><a id="26074" class="Symbol">}</a> <a id="26076" class="Symbol">â</a> <a id="26078" class="Symbol">(</a><a id="26079" href="NbE.html#26010" class="Bound">Ï</a> <a id="26081" href="NbE.html#15989" class="Function Operator">â</a> <a id="26083" href="NbE.html#26024" class="Bound">Ï</a><a id="26084" class="Symbol">)</a> <a id="26086" href="NbE.html#15989" class="Function Operator">â</a> <a id="26088" href="NbE.html#26038" class="Bound">Î¸</a> <a id="26090" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="26092" class="Symbol">(</a><a id="26093" href="NbE.html#26010" class="Bound">Ï</a> <a id="26095" href="NbE.html#15989" class="Function Operator">â</a> <a id="26097" href="NbE.html#26024" class="Bound">Ï</a> <a id="26099" href="NbE.html#15989" class="Function Operator">â</a> <a id="26101" href="NbE.html#26038" class="Bound">Î¸</a><a id="26102" class="Symbol">)</a> <a id="26104" class="Symbol">{</a><a id="26105" href="NbE.html#26066" class="Bound">T</a><a id="26106" class="Symbol">}</a>
<a id="26108" href="NbE.html#25979" class="Function">sub-assoc</a> <a id="26118" class="Symbol">{</a><a id="26119" href="NbE.html#26119" class="Bound">Î</a><a id="26120" class="Symbol">}</a> <a id="26122" class="Symbol">{</a><a id="26123" class="Argument">Ï</a> <a id="26125" class="Symbol">=</a> <a id="26127" href="NbE.html#26127" class="Bound">Ï</a><a id="26128" class="Symbol">}</a> <a id="26130" class="Symbol">{</a><a id="26131" href="NbE.html#26131" class="Bound">Ï</a><a id="26132" class="Symbol">}</a> <a id="26134" class="Symbol">{</a><a id="26135" href="NbE.html#26135" class="Bound">Î¸</a><a id="26136" class="Symbol">}</a> <a id="26138" class="Symbol">{</a><a id="26139" href="NbE.html#26139" class="Bound">T</a><a id="26140" class="Symbol">}</a> <a id="26142" class="Symbol">=</a> <a id="26144" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="26159" href="NbE.html#26173" class="Function">lemma</a> <a id="26165" class="Keyword">where</a>
  <a id="26173" href="NbE.html#26173" class="Function">lemma</a> <a id="26179" class="Symbol">:</a> <a id="26181" class="Symbol">â</a> <a id="26183" class="Symbol">(</a><a id="26184" href="NbE.html#26184" class="Bound">x</a> <a id="26186" class="Symbol">:</a> <a id="26188" href="NbE.html#26119" class="Bound">Î</a> <a id="26190" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="26192" href="NbE.html#26139" class="Bound">T</a><a id="26193" class="Symbol">)</a> <a id="26195" class="Symbol">â</a> <a id="26197" class="Symbol">((</a><a id="26199" href="NbE.html#26127" class="Bound">Ï</a> <a id="26201" href="NbE.html#15989" class="Function Operator">â</a> <a id="26203" href="NbE.html#26131" class="Bound">Ï</a><a id="26204" class="Symbol">)</a> <a id="26206" href="NbE.html#15989" class="Function Operator">â</a> <a id="26208" href="NbE.html#26135" class="Bound">Î¸</a><a id="26209" class="Symbol">)</a> <a id="26211" href="NbE.html#26184" class="Bound">x</a> <a id="26213" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="26215" class="Symbol">(</a><a id="26216" href="NbE.html#26127" class="Bound">Ï</a> <a id="26218" href="NbE.html#15989" class="Function Operator">â</a> <a id="26220" href="NbE.html#26131" class="Bound">Ï</a> <a id="26222" href="NbE.html#15989" class="Function Operator">â</a> <a id="26224" href="NbE.html#26135" class="Bound">Î¸</a><a id="26225" class="Symbol">)</a> <a id="26227" href="NbE.html#26184" class="Bound">x</a>
  <a id="26231" href="NbE.html#26173" class="Function">lemma</a> <a id="26237" href="NbE.html#26237" class="Bound">x</a> <a id="26239" class="Keyword">rewrite</a> <a id="26247" href="NbE.html#25448" class="Function">sub-sub</a> <a id="26255" class="Symbol">{</a><a id="26256" class="Argument">Ï</a> <a id="26258" class="Symbol">=</a> <a id="26260" href="NbE.html#26135" class="Bound">Î¸</a><a id="26261" class="Symbol">}</a> <a id="26263" class="Symbol">{</a><a id="26264" href="NbE.html#26131" class="Bound">Ï</a><a id="26265" class="Symbol">}</a> <a id="26267" class="Symbol">{</a><a id="26268" class="Argument">t</a> <a id="26270" class="Symbol">=</a> <a id="26272" href="NbE.html#26127" class="Bound">Ï</a> <a id="26274" href="NbE.html#26237" class="Bound">x</a><a id="26275" class="Symbol">}</a> <a id="26277" class="Symbol">=</a> <a id="26279" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="subst-zero-exts-cons"></a><a id="26285" href="NbE.html#26285" class="Function">subst-zero-exts-cons</a> <a id="26306" class="Symbol">:</a> <a id="26308" class="Symbol">â</a> <a id="26310" class="Symbol">{</a><a id="26311" href="NbE.html#26311" class="Bound">Î</a> <a id="26313" href="NbE.html#26313" class="Bound">Î</a> <a id="26315" class="Symbol">:</a> <a id="26317" href="NbE.html#3822" class="Datatype">Ctx</a><a id="26320" class="Symbol">}</a> <a id="26322" class="Symbol">{</a><a id="26323" href="NbE.html#26323" class="Bound">S</a> <a id="26325" href="NbE.html#26325" class="Bound">T</a> <a id="26327" class="Symbol">:</a> <a id="26329" href="NbE.html#3029" class="Datatype">Type</a><a id="26333" class="Symbol">}</a> <a id="26335" class="Symbol">{</a><a id="26336" href="NbE.html#26336" class="Bound">Ï</a> <a id="26338" class="Symbol">:</a> <a id="26340" href="NbE.html#11534" class="Function">Sub</a> <a id="26344" href="NbE.html#26311" class="Bound">Î</a> <a id="26346" href="NbE.html#26313" class="Bound">Î</a><a id="26347" class="Symbol">}</a> <a id="26349" class="Symbol">{</a><a id="26350" href="NbE.html#26350" class="Bound">s</a> <a id="26352" class="Symbol">:</a> <a id="26354" href="NbE.html#26311" class="Bound">Î</a> <a id="26356" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="26358" href="NbE.html#26323" class="Bound">S</a><a id="26359" class="Symbol">}</a>
                     <a id="26382" class="Symbol">â</a> <a id="26384" href="NbE.html#15268" class="Function">exts</a> <a id="26389" href="NbE.html#26336" class="Bound">Ï</a> <a id="26391" href="NbE.html#15989" class="Function Operator">â</a> <a id="26393" class="Symbol">(</a><a id="26394" href="NbE.html#15894" class="Function">id</a> <a id="26397" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26399" href="NbE.html#26350" class="Bound">s</a><a id="26400" class="Symbol">)</a> <a id="26402" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="26404" class="Symbol">(</a><a id="26405" href="NbE.html#26336" class="Bound">Ï</a> <a id="26407" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26409" href="NbE.html#26350" class="Bound">s</a><a id="26410" class="Symbol">)</a> <a id="26412" class="Symbol">{</a><a id="26413" href="NbE.html#26325" class="Bound">T</a><a id="26414" class="Symbol">}</a>
<a id="26416" href="NbE.html#26285" class="Function">subst-zero-exts-cons</a> <a id="26437" class="Symbol">{</a><a id="26438" class="Argument">S</a> <a id="26440" class="Symbol">=</a> <a id="26442" href="NbE.html#26442" class="Bound">S</a><a id="26443" class="Symbol">}</a> <a id="26445" class="Symbol">{</a><a id="26446" href="NbE.html#26446" class="Bound">T</a><a id="26447" class="Symbol">}</a> <a id="26449" class="Symbol">{</a><a id="26450" href="NbE.html#26450" class="Bound">Ï</a><a id="26451" class="Symbol">}</a> <a id="26453" class="Symbol">{</a><a id="26454" href="NbE.html#26454" class="Bound">s</a><a id="26455" class="Symbol">}</a> <a id="26457" class="Symbol">=</a>
  <a id="26461" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
    <a id="26471" href="NbE.html#15268" class="Function">exts</a> <a id="26476" href="NbE.html#26450" class="Bound">Ï</a> <a id="26478" href="NbE.html#15989" class="Function Operator">â</a> <a id="26480" class="Symbol">(</a><a id="26481" href="NbE.html#15894" class="Function">id</a> <a id="26484" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26486" href="NbE.html#26454" class="Bound">s</a><a id="26487" class="Symbol">)</a>
  <a id="26491" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="26494" href="NbE.html#20366" class="Function">cong-seq</a> <a id="26503" href="NbE.html#21971" class="Function">exts-cons-shift</a> <a id="26519" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="26524" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
    <a id="26530" class="Symbol">((</a><a id="26532" href="NbE.html#26450" class="Bound">Ï</a> <a id="26534" href="NbE.html#15989" class="Function Operator">â</a> <a id="26536" href="NbE.html#15933" class="Function">â¥</a><a id="26537" class="Symbol">)</a> <a id="26539" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26541" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="26543" href="NbE.html#4481" class="InductiveConstructor">ð</a><a id="26544" class="Symbol">)</a> <a id="26546" href="NbE.html#15989" class="Function Operator">â</a> <a id="26548" class="Symbol">(</a><a id="26549" href="NbE.html#15894" class="Function">id</a> <a id="26552" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26554" href="NbE.html#26454" class="Bound">s</a><a id="26555" class="Symbol">)</a>
  <a id="26559" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="26562" href="NbE.html#17849" class="Function">sub-dist</a> <a id="26571" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
    <a id="26577" class="Symbol">((</a><a id="26579" href="NbE.html#26450" class="Bound">Ï</a> <a id="26581" href="NbE.html#15989" class="Function Operator">â</a> <a id="26583" href="NbE.html#15933" class="Function">â¥</a><a id="26584" class="Symbol">)</a> <a id="26586" href="NbE.html#15989" class="Function Operator">â</a> <a id="26588" class="Symbol">(</a><a id="26589" href="NbE.html#15894" class="Function">id</a> <a id="26592" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26594" href="NbE.html#26454" class="Bound">s</a><a id="26595" class="Symbol">))</a> <a id="26598" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26600" href="NbE.html#26454" class="Bound">s</a>
  <a id="26604" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="26607" href="NbE.html#19979" class="Function">cong-cons</a> <a id="26617" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="26622" class="Symbol">(</a><a id="26623" href="NbE.html#25979" class="Function">sub-assoc</a> <a id="26633" class="Symbol">{</a><a id="26634" class="Argument">Ï</a> <a id="26636" class="Symbol">=</a> <a id="26638" href="NbE.html#26450" class="Bound">Ï</a><a id="26639" class="Symbol">})</a> <a id="26642" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
    <a id="26648" class="Symbol">(</a><a id="26649" href="NbE.html#26450" class="Bound">Ï</a> <a id="26651" href="NbE.html#15989" class="Function Operator">â</a> <a id="26653" href="NbE.html#15933" class="Function">â¥</a> <a id="26655" href="NbE.html#15989" class="Function Operator">â</a> <a id="26657" class="Symbol">(</a><a id="26658" href="NbE.html#15894" class="Function">id</a> <a id="26661" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26663" href="NbE.html#26454" class="Bound">s</a><a id="26664" class="Symbol">))</a> <a id="26667" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26669" href="NbE.html#26454" class="Bound">s</a>
  <a id="26673" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="26676" href="NbE.html#19979" class="Function">cong-cons</a> <a id="26686" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="26691" class="Symbol">(</a><a id="26692" href="NbE.html#20366" class="Function">cong-seq</a> <a id="26701" class="Symbol">{</a><a id="26702" class="Argument">Ï</a> <a id="26704" class="Symbol">=</a> <a id="26706" href="NbE.html#26450" class="Bound">Ï</a><a id="26707" class="Symbol">}</a> <a id="26709" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="26714" class="Symbol">(</a><a id="26715" href="NbE.html#17731" class="Function">sub-tail</a> <a id="26724" class="Symbol">{</a><a id="26725" class="Argument">s</a> <a id="26727" class="Symbol">=</a> <a id="26729" href="NbE.html#26454" class="Bound">s</a><a id="26730" class="Symbol">}</a> <a id="26732" class="Symbol">{</a><a id="26733" class="Argument">Ï</a> <a id="26735" class="Symbol">=</a> <a id="26737" href="NbE.html#15894" class="Function">id</a><a id="26739" class="Symbol">}))</a> <a id="26743" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
    <a id="26749" class="Symbol">(</a><a id="26750" href="NbE.html#26450" class="Bound">Ï</a> <a id="26752" href="NbE.html#15989" class="Function Operator">â</a> <a id="26754" href="NbE.html#15894" class="Function">id</a><a id="26756" class="Symbol">)</a> <a id="26758" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26760" href="NbE.html#26454" class="Bound">s</a>
  <a id="26764" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="26767" href="NbE.html#19979" class="Function">cong-cons</a> <a id="26777" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="26782" class="Symbol">(</a><a id="26783" href="NbE.html#22938" class="Function">sub-idR</a> <a id="26791" class="Symbol">{</a><a id="26792" class="Argument">Ï</a> <a id="26794" class="Symbol">=</a> <a id="26796" href="NbE.html#26450" class="Bound">Ï</a><a id="26797" class="Symbol">})</a> <a id="26800" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
    <a id="26806" href="NbE.html#26450" class="Bound">Ï</a> <a id="26808" href="NbE.html#16436" class="Function Operator">â·</a> <a id="26810" href="NbE.html#26454" class="Bound">s</a>
  <a id="26814" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">â</a>
</pre>--->
<h4 id="definitional-equality">Definitional Equality</h4>
<p>There is still one language construct left to define â equality. To
explain why an embedding of equality in Agda is needed, we can begin
discussing normalization by evaluation in more detail.</p>
<p>Normalization by evaluation is an algorithm for normalization, the
process of transforming a term into its normal form. The normal form of
a term is <em>unique</em>, being the term with all possible reductions
(i.e.Â âcomputationsâ) applied to it. For any normalization algorithm
<code>nf</code> such that <code>nf(t)</code> is the normal form of a
term <code>Î â¢ t : T</code>, we would expect the following properties to
hold.</p>
<ul>
<li><p><code>Î â¢ nf(t) : T</code> (well-typedness of normal form)</p>
<p>A normalization algorithm should still produce a term that is
well-typed under the context <code>Î</code> (and with the same
type)</p></li>
<li><p><code>â¦ nf(t) â§ = â¦ t â§</code> (preservation of meaning)</p>
<p>The <code>â¦ t â§</code> notation here indicates the
<em>denotation</em> of <code>t</code>, which is equivalent to its
meaning (in some meta-language).</p>
<p>We want an algorithm for normalization by evaluation to ensure that
the normal form of a term that is obtained is <em>semantically
equal</em> to the original term. Put simply, this means that the two
terms must have the same meaning.</p></li>
<li><p><code>nf(nf(t)) = nf(t)</code> (idempotency)</p>
<p>This property refers to the ânormalizationâ part of the algorithm â
it should actually produce a term that has been fully normalized,
i.e.Â it cannot undergo any more normalization.</p></li>
</ul>
<p>Equality of functions is undecidable, so the last property is
especially tricky to prove for any algorithm in general. Instead, we
will want to use Î²Î·-equivalence, or <em>definitional equality</em>. In
STLC, we have that two terms are definitionally equal if and only if
they have the same meaning. By proving that
<code>Î â¢ nf(t) = t : T</code>, that the normal form of a term is
definitionally equal to the original term, we will be proving that the
normal form of a term preserves the meaning of the original term.</p>
<p>To actually define Î²Î·-equivalence, we need to first define operations
for Î²-reductions and Î·-expansions.</p>
<p>A Î²-reduction will be the application of a substitution
<code>t[s/x]</code> that substitutes the term <code>s</code> for the
variable <code>x</code> in the term <code>t</code>. In Agda, this
substitution will be the identity substitution with the term
<code>s</code> added as the first term in the substitution. For
convenience, we will use <code>t [ s ]â</code> (as we are replacing the
zeroth term in the identity substitution).</p>
<pre class="Agda"><a id="_[_]â"></a><a id="29262" href="NbE.html#29262" class="Function Operator">_[_]â</a> <a id="29268" class="Symbol">:</a> <a id="29270" class="Symbol">â</a> <a id="29272" class="Symbol">{</a><a id="29273" href="NbE.html#29273" class="Bound">Î</a> <a id="29275" class="Symbol">:</a> <a id="29277" href="NbE.html#3822" class="Datatype">Ctx</a><a id="29280" class="Symbol">}</a> <a id="29282" class="Symbol">{</a><a id="29283" href="NbE.html#29283" class="Bound">S</a> <a id="29285" href="NbE.html#29285" class="Bound">T</a> <a id="29287" class="Symbol">:</a> <a id="29289" href="NbE.html#3029" class="Datatype">Type</a><a id="29293" class="Symbol">}</a>
  <a id="29297" class="Symbol">â</a> <a id="29299" href="NbE.html#29273" class="Bound">Î</a> <a id="29301" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="29303" href="NbE.html#29283" class="Bound">S</a> <a id="29305" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="29307" href="NbE.html#29285" class="Bound">T</a>
  <a id="29311" class="Symbol">â</a> <a id="29313" href="NbE.html#29273" class="Bound">Î</a> <a id="29315" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="29317" href="NbE.html#29283" class="Bound">S</a>
    <a id="29323" class="Comment">---------</a>
  <a id="29335" class="Symbol">â</a> <a id="29337" href="NbE.html#29273" class="Bound">Î</a> <a id="29339" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="29341" href="NbE.html#29285" class="Bound">T</a>
<a id="29343" href="NbE.html#29262" class="Function Operator">_[_]â</a> <a id="29349" class="Symbol">{</a><a id="29350" href="NbE.html#29350" class="Bound">Î</a><a id="29351" class="Symbol">}</a> <a id="29353" class="Symbol">{</a><a id="29354" href="NbE.html#29354" class="Bound">S</a><a id="29355" class="Symbol">}</a> <a id="29357" href="NbE.html#29357" class="Bound">t</a> <a id="29359" href="NbE.html#29359" class="Bound">s</a> <a id="29361" class="Symbol">=</a> <a id="29363" href="NbE.html#29357" class="Bound">t</a> <a id="29365" href="NbE.html#15385" class="Function Operator">[</a> <a id="29367" href="NbE.html#15894" class="Function">id</a> <a id="29370" href="NbE.html#16436" class="Function Operator">â·</a> <a id="29372" href="NbE.html#29359" class="Bound">s</a> <a id="29374" href="NbE.html#15385" class="Function Operator">]</a>
</pre>
<!---
<pre class="Agda"><a id="29391" class="Keyword">infix</a> <a id="29397" class="Number">8</a> <a id="29399" href="NbE.html#29262" class="Function Operator">_[_]â</a>
</pre>--->
<p>Î·-expansion for a functional term <code>Î â¢ t : S â T</code> will be
an abstraction <code>Î â¢ Î»x . t x : S â T</code> containing the
application of a variable <code>Î, x:S â¢ x : S</code> to the term
<code>t</code>. The term <code>t</code> needs to have a shifting
substitution applied to it as we are using an intrinsically-typed
representation (in changing the context from <code>Î</code> to
<code>Î, x:S</code>, the expression <code>t</code> itself also
changes).</p>
<pre class="Agda"><a id="Î·-expand"></a><a id="29802" href="NbE.html#29802" class="Function">Î·-expand</a> <a id="29811" class="Symbol">:</a> <a id="29813" class="Symbol">â</a> <a id="29815" class="Symbol">{</a><a id="29816" href="NbE.html#29816" class="Bound">Î</a> <a id="29818" class="Symbol">:</a> <a id="29820" href="NbE.html#3822" class="Datatype">Ctx</a><a id="29823" class="Symbol">}</a> <a id="29825" class="Symbol">{</a><a id="29826" href="NbE.html#29826" class="Bound">S</a> <a id="29828" href="NbE.html#29828" class="Bound">T</a> <a id="29830" class="Symbol">:</a> <a id="29832" href="NbE.html#3029" class="Datatype">Type</a><a id="29836" class="Symbol">}</a>
         <a id="29847" class="Symbol">â</a> <a id="29849" href="NbE.html#29816" class="Bound">Î</a> <a id="29851" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="29853" href="NbE.html#29826" class="Bound">S</a> <a id="29855" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="29857" href="NbE.html#29828" class="Bound">T</a>
         <a id="29868" class="Symbol">â</a> <a id="29870" href="NbE.html#29816" class="Bound">Î</a> <a id="29872" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="29874" href="NbE.html#29826" class="Bound">S</a> <a id="29876" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="29878" href="NbE.html#29828" class="Bound">T</a>
<a id="29880" href="NbE.html#29802" class="Function">Î·-expand</a> <a id="29889" class="Symbol">{</a><a id="29890" class="Argument">S</a> <a id="29892" class="Symbol">=</a> <a id="29894" href="NbE.html#29894" class="Bound">S</a><a id="29895" class="Symbol">}</a> <a id="29897" href="NbE.html#29897" class="Bound">t</a> <a id="29899" class="Symbol">=</a> <a id="29901" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="29903" class="Symbol">(</a><a id="29904" href="NbE.html#29894" class="Bound">S</a> <a id="29906" href="NbE.html#17198" class="Function Operator">â¥â¢</a> <a id="29909" href="NbE.html#29897" class="Bound">t</a><a id="29910" class="Symbol">)</a> <a id="29912" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="29914" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="29916" href="NbE.html#4481" class="InductiveConstructor">ð</a>
</pre>
<p>With these defined, we can actually introduce definitional equality
in Agda. We use <code>t == tâ²</code> in Agda instead of
<code>Î â¢ t = tâ² : T</code>, though we will refer to two terms that are
definitionally equal with the latter.</p>
<pre class="Agda"><a id="30144" class="Keyword">data</a> <a id="_==_"></a><a id="30149" href="NbE.html#30149" class="Datatype Operator">_==_</a> <a id="30154" class="Symbol">:</a> <a id="30156" class="Symbol">â</a> <a id="30158" class="Symbol">{</a><a id="30159" href="NbE.html#30159" class="Bound">Î</a> <a id="30161" class="Symbol">:</a> <a id="30163" href="NbE.html#3822" class="Datatype">Ctx</a><a id="30166" class="Symbol">}</a> <a id="30168" class="Symbol">{</a><a id="30169" href="NbE.html#30169" class="Bound">T</a> <a id="30171" class="Symbol">:</a> <a id="30173" href="NbE.html#3029" class="Datatype">Type</a><a id="30177" class="Symbol">}</a> <a id="30179" class="Symbol">â</a> <a id="30181" href="NbE.html#30159" class="Bound">Î</a> <a id="30183" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="30185" href="NbE.html#30169" class="Bound">T</a> <a id="30187" class="Symbol">â</a> <a id="30189" href="NbE.html#30159" class="Bound">Î</a> <a id="30191" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="30193" href="NbE.html#30169" class="Bound">T</a> <a id="30195" class="Symbol">â</a> <a id="30197" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="30201" class="Keyword">where</a>
  <a id="30209" class="Comment">-- computation rule: beta reduction</a>
  <a id="_==_.Î²"></a><a id="30247" href="NbE.html#30247" class="InductiveConstructor">Î²</a> <a id="30249" class="Symbol">:</a> <a id="30251" class="Symbol">â</a> <a id="30253" class="Symbol">{</a><a id="30254" href="NbE.html#30254" class="Bound">Î</a> <a id="30256" class="Symbol">:</a> <a id="30258" href="NbE.html#3822" class="Datatype">Ctx</a><a id="30261" class="Symbol">}</a> <a id="30263" class="Symbol">{</a><a id="30264" href="NbE.html#30264" class="Bound">S</a> <a id="30266" href="NbE.html#30266" class="Bound">T</a> <a id="30268" class="Symbol">:</a> <a id="30270" href="NbE.html#3029" class="Datatype">Type</a><a id="30274" class="Symbol">}</a>
          <a id="30286" class="Symbol">{</a><a id="30287" href="NbE.html#30287" class="Bound">t</a> <a id="30289" class="Symbol">:</a> <a id="30291" href="NbE.html#30254" class="Bound">Î</a> <a id="30293" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="30295" href="NbE.html#30264" class="Bound">S</a> <a id="30297" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="30299" href="NbE.html#30266" class="Bound">T</a><a id="30300" class="Symbol">}</a>
          <a id="30312" class="Symbol">{</a><a id="30313" href="NbE.html#30313" class="Bound">s</a> <a id="30315" class="Symbol">:</a> <a id="30317" href="NbE.html#30254" class="Bound">Î</a> <a id="30319" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="30321" href="NbE.html#30264" class="Bound">S</a><a id="30322" class="Symbol">}</a>
          <a id="30334" class="Comment">----------------------</a>
        <a id="30365" class="Symbol">â</a> <a id="30367" class="Symbol">(</a><a id="30368" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="30370" href="NbE.html#30287" class="Bound">t</a><a id="30371" class="Symbol">)</a> <a id="30373" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="30375" href="NbE.html#30313" class="Bound">s</a> <a id="30377" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="30380" href="NbE.html#30287" class="Bound">t</a> <a id="30382" href="NbE.html#29262" class="Function Operator">[</a> <a id="30384" href="NbE.html#30313" class="Bound">s</a> <a id="30386" href="NbE.html#29262" class="Function Operator">]â</a>

  <a id="30392" class="Comment">-- Î·-expansion / function extensionality, i.e. Î â¢ t = Î â¢ Î»x. t x : S â T</a>
  <a id="_==_.Î·"></a><a id="30469" href="NbE.html#30469" class="InductiveConstructor">Î·</a> <a id="30471" class="Symbol">:</a> <a id="30473" class="Symbol">â</a> <a id="30475" class="Symbol">{</a><a id="30476" href="NbE.html#30476" class="Bound">Î</a> <a id="30478" class="Symbol">:</a> <a id="30480" href="NbE.html#3822" class="Datatype">Ctx</a><a id="30483" class="Symbol">}</a> <a id="30485" class="Symbol">{</a><a id="30486" href="NbE.html#30486" class="Bound">S</a> <a id="30488" href="NbE.html#30488" class="Bound">T</a> <a id="30490" class="Symbol">:</a> <a id="30492" href="NbE.html#3029" class="Datatype">Type</a><a id="30496" class="Symbol">}</a>
        <a id="30506" class="Symbol">{</a><a id="30507" href="NbE.html#30507" class="Bound">t</a> <a id="30509" class="Symbol">:</a> <a id="30511" href="NbE.html#30476" class="Bound">Î</a> <a id="30513" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="30515" href="NbE.html#30486" class="Bound">S</a> <a id="30517" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="30519" href="NbE.html#30488" class="Bound">T</a><a id="30520" class="Symbol">}</a>
        <a id="30530" class="Comment">----------------------</a>
      <a id="30559" class="Symbol">â</a> <a id="30561" href="NbE.html#30507" class="Bound">t</a> <a id="30563" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="30566" href="NbE.html#29802" class="Function">Î·-expand</a> <a id="30575" href="NbE.html#30507" class="Bound">t</a>

  <a id="30580" class="Comment">-- compatibility rules</a>
  <a id="_==_.abs-compatible"></a><a id="30605" href="NbE.html#30605" class="InductiveConstructor">abs-compatible</a> <a id="30620" class="Symbol">:</a> <a id="30622" class="Symbol">â</a> <a id="30624" class="Symbol">{</a><a id="30625" href="NbE.html#30625" class="Bound">Î</a> <a id="30627" class="Symbol">:</a> <a id="30629" href="NbE.html#3822" class="Datatype">Ctx</a><a id="30632" class="Symbol">}</a> <a id="30634" class="Symbol">{</a><a id="30635" href="NbE.html#30635" class="Bound">S</a> <a id="30637" href="NbE.html#30637" class="Bound">T</a> <a id="30639" class="Symbol">:</a> <a id="30641" href="NbE.html#3029" class="Datatype">Type</a><a id="30645" class="Symbol">}</a> <a id="30647" class="Symbol">{</a><a id="30648" href="NbE.html#30648" class="Bound">t</a> <a id="30650" href="NbE.html#30650" class="Bound">tâ²</a> <a id="30653" class="Symbol">:</a> <a id="30655" href="NbE.html#30625" class="Bound">Î</a> <a id="30657" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="30659" href="NbE.html#30635" class="Bound">S</a> <a id="30661" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="30663" href="NbE.html#30637" class="Bound">T</a><a id="30664" class="Symbol">}</a>
                   <a id="30685" class="Symbol">â</a> <a id="30687" href="NbE.html#30648" class="Bound">t</a> <a id="30689" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="30692" href="NbE.html#30650" class="Bound">tâ²</a>
                     <a id="30716" class="Comment">-----------</a>
                   <a id="30747" class="Symbol">â</a> <a id="30749" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="30751" href="NbE.html#30648" class="Bound">t</a> <a id="30753" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="30756" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="30758" href="NbE.html#30650" class="Bound">tâ²</a>

  <a id="_==_.app-compatible"></a><a id="30764" href="NbE.html#30764" class="InductiveConstructor">app-compatible</a> <a id="30779" class="Symbol">:</a> <a id="30781" class="Symbol">â</a> <a id="30783" class="Symbol">{</a><a id="30784" href="NbE.html#30784" class="Bound">Î</a> <a id="30786" class="Symbol">:</a> <a id="30788" href="NbE.html#3822" class="Datatype">Ctx</a><a id="30791" class="Symbol">}</a> <a id="30793" class="Symbol">{</a><a id="30794" href="NbE.html#30794" class="Bound">S</a> <a id="30796" href="NbE.html#30796" class="Bound">T</a> <a id="30798" class="Symbol">:</a> <a id="30800" href="NbE.html#3029" class="Datatype">Type</a><a id="30804" class="Symbol">}</a>
                     <a id="30827" class="Symbol">{</a><a id="30828" href="NbE.html#30828" class="Bound">r</a> <a id="30830" href="NbE.html#30830" class="Bound">râ²</a> <a id="30833" class="Symbol">:</a> <a id="30835" href="NbE.html#30784" class="Bound">Î</a> <a id="30837" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="30839" href="NbE.html#30794" class="Bound">S</a> <a id="30841" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="30843" href="NbE.html#30796" class="Bound">T</a><a id="30844" class="Symbol">}</a> <a id="30846" class="Symbol">{</a><a id="30847" href="NbE.html#30847" class="Bound">s</a> <a id="30849" href="NbE.html#30849" class="Bound">sâ²</a> <a id="30852" class="Symbol">:</a> <a id="30854" href="NbE.html#30784" class="Bound">Î</a> <a id="30856" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="30858" href="NbE.html#30794" class="Bound">S</a><a id="30859" class="Symbol">}</a>
                   <a id="30880" class="Symbol">â</a> <a id="30882" href="NbE.html#30828" class="Bound">r</a> <a id="30884" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="30887" href="NbE.html#30830" class="Bound">râ²</a>
                   <a id="30909" class="Symbol">â</a> <a id="30911" href="NbE.html#30847" class="Bound">s</a> <a id="30913" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="30916" href="NbE.html#30849" class="Bound">sâ²</a>
                     <a id="30940" class="Comment">----------------</a>
                   <a id="30976" class="Symbol">â</a> <a id="30978" href="NbE.html#30828" class="Bound">r</a> <a id="30980" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="30982" href="NbE.html#30847" class="Bound">s</a> <a id="30984" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="30987" href="NbE.html#30830" class="Bound">râ²</a> <a id="30990" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="30992" href="NbE.html#30849" class="Bound">sâ²</a>

  <a id="30998" class="Comment">-- equivalence rules</a>
  <a id="_==_.reflâ¼â¼"></a><a id="31021" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a> <a id="31028" class="Symbol">:</a> <a id="31030" class="Symbol">â</a> <a id="31032" class="Symbol">{</a><a id="31033" href="NbE.html#31033" class="Bound">Î</a> <a id="31035" class="Symbol">:</a> <a id="31037" href="NbE.html#3822" class="Datatype">Ctx</a><a id="31040" class="Symbol">}</a> <a id="31042" class="Symbol">{</a><a id="31043" href="NbE.html#31043" class="Bound">T</a> <a id="31045" class="Symbol">:</a> <a id="31047" href="NbE.html#3029" class="Datatype">Type</a><a id="31051" class="Symbol">}</a> <a id="31053" class="Symbol">{</a><a id="31054" href="NbE.html#31054" class="Bound">t</a> <a id="31056" class="Symbol">:</a> <a id="31058" href="NbE.html#31033" class="Bound">Î</a> <a id="31060" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="31062" href="NbE.html#31043" class="Bound">T</a><a id="31063" class="Symbol">}</a>
           <a id="31076" class="Comment">------</a>
         <a id="31092" class="Symbol">â</a> <a id="31094" href="NbE.html#31054" class="Bound">t</a> <a id="31096" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="31099" href="NbE.html#31054" class="Bound">t</a>

  <a id="_==_.symâ¼â¼"></a><a id="31104" href="NbE.html#31104" class="InductiveConstructor">symâ¼â¼</a> <a id="31110" class="Symbol">:</a> <a id="31112" class="Symbol">â</a> <a id="31114" class="Symbol">{</a><a id="31115" href="NbE.html#31115" class="Bound">Î</a> <a id="31117" class="Symbol">:</a> <a id="31119" href="NbE.html#3822" class="Datatype">Ctx</a><a id="31122" class="Symbol">}</a> <a id="31124" class="Symbol">{</a><a id="31125" href="NbE.html#31125" class="Bound">T</a> <a id="31127" class="Symbol">:</a> <a id="31129" href="NbE.html#3029" class="Datatype">Type</a><a id="31133" class="Symbol">}</a> <a id="31135" class="Symbol">{</a><a id="31136" href="NbE.html#31136" class="Bound">t</a> <a id="31138" href="NbE.html#31138" class="Bound">tâ²</a> <a id="31141" class="Symbol">:</a> <a id="31143" href="NbE.html#31115" class="Bound">Î</a> <a id="31145" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="31147" href="NbE.html#31125" class="Bound">T</a><a id="31148" class="Symbol">}</a>
        <a id="31158" class="Symbol">â</a> <a id="31160" href="NbE.html#31136" class="Bound">t</a> <a id="31162" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="31165" href="NbE.html#31138" class="Bound">tâ²</a>
          <a id="31178" class="Comment">-------</a>
        <a id="31194" class="Symbol">â</a> <a id="31196" href="NbE.html#31138" class="Bound">tâ²</a> <a id="31199" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="31202" href="NbE.html#31136" class="Bound">t</a>

  <a id="_==_.transâ¼â¼"></a><a id="31207" href="NbE.html#31207" class="InductiveConstructor">transâ¼â¼</a> <a id="31215" class="Symbol">:</a> <a id="31217" class="Symbol">â</a> <a id="31219" class="Symbol">{</a><a id="31220" href="NbE.html#31220" class="Bound">Î</a> <a id="31222" class="Symbol">:</a> <a id="31224" href="NbE.html#3822" class="Datatype">Ctx</a><a id="31227" class="Symbol">}</a> <a id="31229" class="Symbol">{</a><a id="31230" href="NbE.html#31230" class="Bound">T</a> <a id="31232" class="Symbol">:</a> <a id="31234" href="NbE.html#3029" class="Datatype">Type</a><a id="31238" class="Symbol">}</a> <a id="31240" class="Symbol">{</a><a id="31241" href="NbE.html#31241" class="Bound">tâ</a> <a id="31244" href="NbE.html#31244" class="Bound">tâ</a> <a id="31247" href="NbE.html#31247" class="Bound">tâ</a> <a id="31250" class="Symbol">:</a> <a id="31252" href="NbE.html#31220" class="Bound">Î</a> <a id="31254" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="31256" href="NbE.html#31230" class="Bound">T</a><a id="31257" class="Symbol">}</a>
          <a id="31269" class="Symbol">â</a> <a id="31271" href="NbE.html#31241" class="Bound">tâ</a> <a id="31274" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="31277" href="NbE.html#31244" class="Bound">tâ</a>
          <a id="31290" class="Symbol">â</a> <a id="31292" href="NbE.html#31244" class="Bound">tâ</a> <a id="31295" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="31298" href="NbE.html#31247" class="Bound">tâ</a>
            <a id="31313" class="Comment">--------</a>
          <a id="31332" class="Symbol">â</a> <a id="31334" href="NbE.html#31241" class="Bound">tâ</a> <a id="31337" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="31340" href="NbE.html#31247" class="Bound">tâ</a>
</pre>
<!---
<pre class="Agda"><a id="31358" class="Keyword">infix</a> <a id="31364" class="Number">3</a> <a id="31366" href="NbE.html#30149" class="Datatype Operator">_==_</a>
</pre>--->
<p>For the readability of some of the proofs that will follow, it will
be helpful to have equational reasoning defined with respect to
definitional equality. Its definition is almost identical to Agdaâs own
equational reasoning for propositional equality, so it is left out in
the rendering.</p>
<!---
<pre class="Agda"><a id="31685" class="Keyword">module</a> <a id="==-Reasoning"></a><a id="31692" href="NbE.html#31692" class="Module">==-Reasoning</a> <a id="31705" class="Keyword">where</a>

  <a id="31714" class="Keyword">infix</a>  <a id="31721" class="Number">1</a> <a id="31723" href="NbE.html#31770" class="Function Operator">begin==_</a>
  <a id="31734" class="Keyword">infixr</a> <a id="31741" class="Number">2</a> <a id="31743" href="NbE.html#31903" class="Function Operator">_==â¨_â©_</a>
  <a id="31753" class="Keyword">infix</a>  <a id="31760" class="Number">3</a> <a id="31762" href="NbE.html#32111" class="Function Operator">_==â</a>

  <a id="==-Reasoning.begin==_"></a><a id="31770" href="NbE.html#31770" class="Function Operator">begin==_</a> <a id="31779" class="Symbol">:</a> <a id="31781" class="Symbol">â</a> <a id="31783" class="Symbol">{</a><a id="31784" href="NbE.html#31784" class="Bound">Î</a> <a id="31786" class="Symbol">:</a> <a id="31788" href="NbE.html#3822" class="Datatype">Ctx</a><a id="31791" class="Symbol">}</a> <a id="31793" class="Symbol">{</a><a id="31794" href="NbE.html#31794" class="Bound">T</a> <a id="31796" class="Symbol">:</a> <a id="31798" href="NbE.html#3029" class="Datatype">Type</a><a id="31802" class="Symbol">}</a> <a id="31804" class="Symbol">{</a><a id="31805" href="NbE.html#31805" class="Bound">t</a> <a id="31807" href="NbE.html#31807" class="Bound">tâ²</a> <a id="31810" class="Symbol">:</a> <a id="31812" href="NbE.html#31784" class="Bound">Î</a> <a id="31814" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="31816" href="NbE.html#31794" class="Bound">T</a><a id="31817" class="Symbol">}</a>
           <a id="31830" class="Symbol">â</a> <a id="31832" href="NbE.html#31805" class="Bound">t</a> <a id="31834" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="31837" href="NbE.html#31807" class="Bound">tâ²</a>
             <a id="31853" class="Comment">-------</a>
           <a id="31872" class="Symbol">â</a> <a id="31874" href="NbE.html#31805" class="Bound">t</a> <a id="31876" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="31879" href="NbE.html#31807" class="Bound">tâ²</a>
  <a id="31884" href="NbE.html#31770" class="Function Operator">begin==</a> <a id="31892" href="NbE.html#31892" class="Bound">pf</a> <a id="31895" class="Symbol">=</a> <a id="31897" href="NbE.html#31892" class="Bound">pf</a>

  <a id="==-Reasoning._==â¨_â©_"></a><a id="31903" href="NbE.html#31903" class="Function Operator">_==â¨_â©_</a> <a id="31911" class="Symbol">:</a> <a id="31913" class="Symbol">â</a> <a id="31915" class="Symbol">{</a><a id="31916" href="NbE.html#31916" class="Bound">Î</a> <a id="31918" class="Symbol">:</a> <a id="31920" href="NbE.html#3822" class="Datatype">Ctx</a><a id="31923" class="Symbol">}</a> <a id="31925" class="Symbol">{</a><a id="31926" href="NbE.html#31926" class="Bound">T</a> <a id="31928" class="Symbol">:</a> <a id="31930" href="NbE.html#3029" class="Datatype">Type</a><a id="31934" class="Symbol">}</a> <a id="31936" class="Symbol">{</a><a id="31937" href="NbE.html#31937" class="Bound">tâ</a> <a id="31940" href="NbE.html#31940" class="Bound">tâ</a> <a id="31943" class="Symbol">:</a> <a id="31945" href="NbE.html#31916" class="Bound">Î</a> <a id="31947" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="31949" href="NbE.html#31926" class="Bound">T</a><a id="31950" class="Symbol">}</a>
          <a id="31962" class="Symbol">â</a> <a id="31964" class="Symbol">(</a><a id="31965" href="NbE.html#31965" class="Bound">tâ</a> <a id="31968" class="Symbol">:</a> <a id="31970" href="NbE.html#31916" class="Bound">Î</a> <a id="31972" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="31974" href="NbE.html#31926" class="Bound">T</a><a id="31975" class="Symbol">)</a>
          <a id="31987" class="Symbol">â</a> <a id="31989" href="NbE.html#31965" class="Bound">tâ</a> <a id="31992" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="31995" href="NbE.html#31937" class="Bound">tâ</a>
          <a id="32008" class="Symbol">â</a> <a id="32010" href="NbE.html#31937" class="Bound">tâ</a> <a id="32013" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="32016" href="NbE.html#31940" class="Bound">tâ</a>
            <a id="32031" class="Comment">--------</a>
          <a id="32050" class="Symbol">â</a> <a id="32052" href="NbE.html#31965" class="Bound">tâ</a> <a id="32055" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="32058" href="NbE.html#31940" class="Bound">tâ</a>
  <a id="32063" href="NbE.html#32063" class="Bound">tâ</a> <a id="32066" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="32070" href="NbE.html#32070" class="Bound">tââ¡tâ</a> <a id="32076" href="NbE.html#31903" class="Function Operator">â©</a> <a id="32078" href="NbE.html#32078" class="Bound">tââ¡tâ</a>  <a id="32085" class="Symbol">=</a>  <a id="32088" href="NbE.html#31207" class="InductiveConstructor">transâ¼â¼</a> <a id="32096" href="NbE.html#32070" class="Bound">tââ¡tâ</a> <a id="32102" href="NbE.html#32078" class="Bound">tââ¡tâ</a>

  <a id="==-Reasoning._==â"></a><a id="32111" href="NbE.html#32111" class="Function Operator">_==â</a> <a id="32116" class="Symbol">:</a> <a id="32118" class="Symbol">â</a> <a id="32120" class="Symbol">{</a><a id="32121" href="NbE.html#32121" class="Bound">Î</a> <a id="32123" class="Symbol">:</a> <a id="32125" href="NbE.html#3822" class="Datatype">Ctx</a><a id="32128" class="Symbol">}</a> <a id="32130" class="Symbol">{</a><a id="32131" href="NbE.html#32131" class="Bound">T</a> <a id="32133" class="Symbol">:</a> <a id="32135" href="NbE.html#3029" class="Datatype">Type</a><a id="32139" class="Symbol">}</a> <a id="32141" class="Symbol">â</a> <a id="32143" class="Symbol">(</a><a id="32144" href="NbE.html#32144" class="Bound">t</a> <a id="32146" class="Symbol">:</a> <a id="32148" href="NbE.html#32121" class="Bound">Î</a> <a id="32150" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="32152" href="NbE.html#32131" class="Bound">T</a><a id="32153" class="Symbol">)</a>
         <a id="32164" class="Comment">------</a>
       <a id="32178" class="Symbol">â</a> <a id="32180" href="NbE.html#32144" class="Bound">t</a> <a id="32182" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="32185" href="NbE.html#32144" class="Bound">t</a>
  <a id="32189" href="NbE.html#32189" class="Bound">t</a> <a id="32191" href="NbE.html#32111" class="Function Operator">==â</a>  <a id="32196" class="Symbol">=</a>  <a id="32199" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a>
</pre>--->
<pre class="Agda"><a id="32224" class="Keyword">open</a> <a id="32229" href="NbE.html#31692" class="Module">==-Reasoning</a> <a id="32242" class="Keyword">public</a>
</pre>
<p>Propositional equality implies definitional equality, a fact that
will be helpful to include here for later use.</p>
<pre class="Agda"><a id="â¡â=="></a><a id="32376" href="NbE.html#32376" class="Function">â¡â==</a> <a id="32381" class="Symbol">:</a> <a id="32383" class="Symbol">â</a> <a id="32385" class="Symbol">{</a><a id="32386" href="NbE.html#32386" class="Bound">Î</a> <a id="32388" class="Symbol">:</a> <a id="32390" href="NbE.html#3822" class="Datatype">Ctx</a><a id="32393" class="Symbol">}</a> <a id="32395" class="Symbol">{</a><a id="32396" href="NbE.html#32396" class="Bound">T</a> <a id="32398" class="Symbol">:</a> <a id="32400" href="NbE.html#3029" class="Datatype">Type</a><a id="32404" class="Symbol">}</a> <a id="32406" class="Symbol">{</a><a id="32407" href="NbE.html#32407" class="Bound">t</a> <a id="32409" href="NbE.html#32409" class="Bound">tâ²</a> <a id="32412" class="Symbol">:</a> <a id="32414" href="NbE.html#32386" class="Bound">Î</a> <a id="32416" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="32418" href="NbE.html#32396" class="Bound">T</a><a id="32419" class="Symbol">}</a>
     <a id="32426" class="Symbol">â</a> <a id="32428" href="NbE.html#32407" class="Bound">t</a> <a id="32430" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="32432" href="NbE.html#32409" class="Bound">tâ²</a>
       <a id="32442" class="Comment">-------</a>
     <a id="32455" class="Symbol">â</a> <a id="32457" href="NbE.html#32407" class="Bound">t</a> <a id="32459" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="32462" href="NbE.html#32409" class="Bound">tâ²</a>
<a id="32465" href="NbE.html#32376" class="Function">â¡â==</a> <a id="32470" href="NbE.html#32470" class="Bound">pf</a> <a id="32473" class="Keyword">rewrite</a> <a id="32481" href="NbE.html#32470" class="Bound">pf</a> <a id="32484" class="Symbol">=</a> <a id="32486" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a>
</pre>
<h3 id="evaluation">Evaluation</h3>
<p>The evaluation, or interpretation, <code>â¦ t â§</code> of a well-typed
term <code>Î â¢ t : T</code> assigns a meaning to <code>t</code> by
equating it to a semantic object in our meta language, using an
interpretation of the context <code>Î</code> (an <em>environment</em>)
under which the term <code>t</code> is well-typed.</p>
<p>For types, we can interpret <code>ð</code> as Agdaâs own unit type,
<code>â¤</code>, and functions as Agda functions, with their meaning
defined inductively.</p>
<pre><code>â¦ ð â§ = â¤
â¦ S â T â§ = â¦ S â§ â â¦ T â§</code></pre>
<p>An empty context is interpreted as the unit type (an âemptyâ
environment), and an extension to a context is defined inductively, with
the extension itself being the interpretation of the type the context is
extended with.</p>
<pre><code>â¦ â â§ = â¤
â¦ Î , S â§ = â¦ Î â§ Ã â¦ S â§</code></pre>
<p>We will use the lowercase Greek letter of a context to refer to its
environment (e.g.Â <code>Î³</code> is an environment for
<code>Î</code>).</p>
<p>The interpretation of a variable expects an environment, and is
essentially a lookup into the environment for the variableâs value:</p>
<pre><code>â¦ Î â x:T â§ (Î³ â â¦ Î â§) â â¦ T â§
â¦ Î , T â x:T â§ (Î³ , a) = a
â¦ Î , y:S â x:T â§ (Î³ , _) = â¦ Î â x:T â§ Î³</code></pre>
<p>The interpretation of a typed term expects an environment as well,
evaluating the term by using the environment for the variables that the
term is using.</p>
<pre><code>â¦ Î â¢ t : T â§ (Î³ â â¦Îâ§) â â¦ T â§
â¦ Î â¢ unit : ð â§ Î³       = tt
â¦ Î â¢ x : T â§ Î³          = â¦ Î â x:T â§ Î³
â¦ Î â¢ Î»x . t : S â T â§ Î³ = Î» a â â¦ Î , x:S â¢ t : T â§ (Î³ , a)
â¦ Î â¢ r s : T â§ Î³        = (â¦ Î â¢ r : S â T â§ Î³) (â¦ Î â¢ s : S â§ Î³)</code></pre>
<p>Before moving forward, we introduce the record we will use to
represent interpretations of types and contexts. For now, we will only
include the interpretation of a context as an environment, as our
interpretation of types will change subtly to better fit our algorithm
for normalization by evaluation â this is also why we have only
discussed evaluation at a high level.</p>
<pre class="Agda"><a id="34380" class="Keyword">record</a> <a id="Interpretation"></a><a id="34387" href="NbE.html#34387" class="Record">Interpretation</a> <a id="34402" class="Symbol">(</a><a id="34403" href="NbE.html#34403" class="Bound">D</a> <a id="34405" class="Symbol">:</a> <a id="34407" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="34410" class="Symbol">)</a> <a id="34412" class="Symbol">:</a> <a id="34414" href="Agda.Primitive.html#326" class="Primitive">Setâ</a> <a id="34419" class="Keyword">where</a>
  <a id="34427" class="Keyword">field</a>
    <a id="Interpretation.â¦_â§"></a><a id="34437" href="NbE.html#34437" class="Field Operator">â¦_â§</a> <a id="34441" class="Symbol">:</a> <a id="34443" href="NbE.html#34403" class="Bound">D</a> <a id="34445" class="Symbol">â</a> <a id="34447" href="Agda.Primitive.html#326" class="Primitive">Set</a>

<a id="34452" class="Keyword">open</a> <a id="34457" href="NbE.html#34387" class="Module">Interpretation</a> <a id="34472" class="Symbol">â¦...â¦</a> <a id="34478" class="Keyword">public</a>

<a id="34486" class="Keyword">instance</a>
    <a id="â¦Îâ§"></a><a id="34499" href="NbE.html#34499" class="Function">â¦Îâ§</a> <a id="34503" class="Symbol">:</a> <a id="34505" class="Symbol">â¦</a> <a id="34507" href="NbE.html#34507" class="Bound">_</a> <a id="34509" class="Symbol">:</a> <a id="34511" href="NbE.html#34387" class="Record">Interpretation</a> <a id="34526" href="NbE.html#3029" class="Datatype">Type</a> <a id="34531" class="Symbol">â¦</a> <a id="34533" class="Symbol">â</a> <a id="34535" href="NbE.html#34387" class="Record">Interpretation</a> <a id="34550" href="NbE.html#3822" class="Datatype">Ctx</a>
    <a id="34558" href="NbE.html#34437" class="Field Operator">Interpretation.â¦</a> <a id="34575" href="NbE.html#34499" class="Function">â¦Îâ§</a> <a id="34579" href="NbE.html#34437" class="Field Operator">â§</a> <a id="34581" href="NbE.html#3840" class="InductiveConstructor">â</a> <a id="34583" class="Symbol">=</a> <a id="34585" href="Agda.Builtin.Unit.html#164" class="Record">â¤</a>
    <a id="34591" href="NbE.html#34437" class="Field Operator">Interpretation.â¦</a> <a id="34608" href="NbE.html#34499" class="Function">â¦Îâ§</a> <a id="34612" href="NbE.html#34437" class="Field Operator">â§</a> <a id="34614" class="Symbol">(</a><a id="34615" href="NbE.html#34615" class="Bound">Î</a> <a id="34617" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="34619" href="NbE.html#34619" class="Bound">T</a><a id="34620" class="Symbol">)</a> <a id="34622" class="Symbol">=</a> <a id="34624" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="34626" href="NbE.html#34615" class="Bound">Î</a> <a id="34628" href="NbE.html#34437" class="Field Operator">â§</a> <a id="34630" href="Data.Product.html#1167" class="Function Operator">Ã</a> <a id="34632" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="34634" href="NbE.html#34619" class="Bound">T</a> <a id="34636" href="NbE.html#34437" class="Field Operator">â§</a>
</pre>
<h3 id="normalization-by-evaluation">Normalization by Evaluation</h3>
<p>The key idea behind normalization by evaluation is that we have
inherently performed some normalization of the term <code>t</code> in
its evaluation â if <code>t</code> was an application <code>r s</code>,
we are actually performing that application and reducing the term.
Normalization by evaluation as an algorithm takes advantage of this
fact.</p>
<p>An issue with this view is that evaluation is not actually giving us
the normal form of a term, but rather its meaning as a semantic object
in our meta language. An algorithm for normalization by evaluation would
need a way to to convert a semantic object in our meta language back
into a term in the object language.</p>
<p>One way to achieve this is to evaluate (i.e.Â normalize) the parts of
the expression that actually <em>can</em> be evaluated (such as function
application), while leaving the parts that cannot intact. Under this
view, normalization by evaluation becomes the evaluation of an
expression with unknowns (i.e.Â variables) to another, possibly
simplified, expression with unknowns.</p>
<p>To get this behavior, we make a subtle change to the âmeaningâ of a
term in the meta language â instead of terms of type <code>ð</code>
mapping to Agdaâs unit type, they will now evaluate to terms in their
normal form.</p>
<p>This is a subtle distinction with a significant impact on the
algorithm we will define. We can now easily convert back to the object
language, because <em>technically</em> we never left it to begin with:
functions in Agda can be translated simply abstractions in the STLC, and
for terms of type <code>ð</code>, we already have the term!</p>
<p>In Agda, we do not yet have a concept of normal form. We can define
terms in their normal form (normal terms) mutually with terms that are
blocked on evaluation because they are unknown (neutral terms).</p>
<pre class="Agda"><a id="36422" class="Keyword">data</a> <a id="Nf"></a><a id="36427" href="NbE.html#36427" class="Datatype">Nf</a> <a id="36430" class="Symbol">:</a> <a id="36432" class="Symbol">(</a><a id="36433" href="NbE.html#36433" class="Bound">T</a> <a id="36435" class="Symbol">:</a> <a id="36437" href="NbE.html#3029" class="Datatype">Type</a><a id="36441" class="Symbol">)</a> <a id="36443" class="Symbol">â</a> <a id="36445" class="Symbol">(</a><a id="36446" href="NbE.html#36446" class="Bound">Î</a> <a id="36448" class="Symbol">:</a> <a id="36450" href="NbE.html#3822" class="Datatype">Ctx</a><a id="36453" class="Symbol">)</a> <a id="36455" class="Symbol">â</a> <a id="36457" href="NbE.html#36446" class="Bound">Î</a> <a id="36459" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="36461" href="NbE.html#36433" class="Bound">T</a> <a id="36463" class="Symbol">â</a> <a id="36465" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="36469" class="Comment">-- Normal terms</a>
<a id="36485" class="Keyword">data</a> <a id="Ne"></a><a id="36490" href="NbE.html#36490" class="Datatype">Ne</a> <a id="36493" class="Symbol">(</a><a id="36494" href="NbE.html#36494" class="Bound">T</a> <a id="36496" class="Symbol">:</a> <a id="36498" href="NbE.html#3029" class="Datatype">Type</a><a id="36502" class="Symbol">)</a> <a id="36504" class="Symbol">(</a><a id="36505" href="NbE.html#36505" class="Bound">Î</a> <a id="36507" class="Symbol">:</a> <a id="36509" href="NbE.html#3822" class="Datatype">Ctx</a><a id="36512" class="Symbol">)</a> <a id="36514" class="Symbol">:</a> <a id="36516" href="NbE.html#36505" class="Bound">Î</a> <a id="36518" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="36520" href="NbE.html#36494" class="Bound">T</a> <a id="36522" class="Symbol">â</a> <a id="36524" href="Agda.Primitive.html#326" class="Primitive">Set</a>     <a id="36532" class="Comment">-- Neutral terms</a>
</pre>
<p>The rules for these will follow shortly â but with this definition we
can change the interpretation of a term of type <code>ð</code> to what
we would want it to be to define a suitable algorithm for normalization
by evaluation:</p>
<pre><code>â¦ ð â§ = Nf ð</code></pre>
<p>Note that our data type for normal terms is indexed both by a type
and a context, yet here the interpretation of a type is only indexed by
the type itself. We will get to this later, but it is for this reason
that we have again not written an implementation out in Agda yet. For
now, we can give an initial sketch of the algorithm, using a
<em>reflection</em> function <code>âáµ</code> that maps neutral terms of
type <code>T</code> to semantic objects in <code>â¦ T â§</code>, and a
<em>reification</em> function <code>âáµ</code> for mapping a semantic
object in <code>â¦ T â§</code> to normal forms of type <code>T</code>:</p>
<p>Putting all of these pieces together, we can present (in pseudocode)
what an algorithm for normalization by evaluation would do.</p>
<pre><code>â¦ ð â§ = Nf ð
â¦ S â T â§ = â¦ S â§ â â¦ T â§

âáµ â Ne T â â¦ T â§
âáµâ¿â±áµ ð = ð
âË¢  â áµ ð (a â â¦ S â§) = âáµ (ð ð) , ð = âË¢ a

âáµ â â¦ T â§ â Nf T
âáµâ¿â±áµ ð = ð
âË¢  â áµ f = Î»x. âáµ (f(a)) , where a = âáµ x and x is &quot;fresh&quot;

âá¶áµË£ â â¦ Î â§
ââ = tt
âÎ,x:S = âÎ , âáµ x

nf(t) = âáµ (â¦ t â§ âÎ)</code></pre>
<p>In summary, the algorithm proceeds as follows:</p>
<ol type="1">
<li><p>reflect the variables of the context <code>Î</code>
(<code>âÎ</code>)</p></li>
<li><p>interpret the value of the term using the environment of
reflected variables (<code>â¦ t â§ âÎ</code>)</p></li>
<li><p>âreifyâ the interpreted value of the term
(<code>âáµ (â¦ t â§ âÎ)</code>), returning it to a term in normal
form</p></li>
</ol>
<p>The âfreshnessâ condition in this sketch is a key part of why we have
not started defining a more concrete version of the algorithm, but with
this sketch we can see how our new interpretation of the type
<code>ð</code> has benefitted us: we are able to evaluate a term while
leaving its unknowns âuntouchedâ: reflection of an unknown term of type
<code>ð</code> yields the unknown itself, while we always Î·-expand at
reification to continue evaluation. Once we have finished evaluating the
term, we are easily able to convert it back into our object
language.</p>
<p>As an initial step in formally defining this algorithm, we can now
introduce the rules for normal and neutral terms in Agda. Going forward,
we will be using <code>ð</code> (for âunknownâ) to refer to neutral
terms and <code>ð</code> (for âvalueâ) to refer to normal terms.</p>
<p>Neutral terms are normal terms in their blocked form. Variables are
the âbase caseâ for blocked terms, with application of an unknown
function to a normal term also being blocked.</p>
<pre class="Agda"><a id="39083" class="Keyword">data</a> <a id="39088" href="NbE.html#36490" class="Datatype">Ne</a> <a id="39091" href="NbE.html#39091" class="Bound">T</a> <a id="39093" href="NbE.html#39093" class="Bound">Î</a> <a id="39095" class="Keyword">where</a>
  <a id="Ne.ne-var"></a><a id="39103" href="NbE.html#39103" class="InductiveConstructor">ne-var</a> <a id="39110" class="Symbol">:</a> <a id="39112" class="Symbol">(</a><a id="39113" href="NbE.html#39113" class="Bound">x</a> <a id="39115" class="Symbol">:</a> <a id="39117" href="NbE.html#39093" class="Bound">Î</a> <a id="39119" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="39121" href="NbE.html#39091" class="Bound">T</a><a id="39122" class="Symbol">)</a>
           <a id="39135" class="Comment">------------</a>
         <a id="39157" class="Symbol">â</a> <a id="39159" href="NbE.html#36490" class="Datatype">Ne</a> <a id="39162" href="NbE.html#39091" class="Bound">T</a> <a id="39164" href="NbE.html#39093" class="Bound">Î</a> <a id="39166" class="Symbol">(</a><a id="39167" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="39169" href="NbE.html#39113" class="Bound">x</a><a id="39170" class="Symbol">)</a>

  <a id="Ne.ne-app"></a><a id="39175" href="NbE.html#39175" class="InductiveConstructor">ne-app</a> <a id="39182" class="Symbol">:</a> <a id="39184" class="Symbol">â</a> <a id="39186" class="Symbol">{</a><a id="39187" href="NbE.html#39187" class="Bound">S</a> <a id="39189" class="Symbol">:</a> <a id="39191" href="NbE.html#3029" class="Datatype">Type</a><a id="39195" class="Symbol">}</a> <a id="39197" class="Symbol">{</a><a id="39198" href="NbE.html#39198" class="Bound">ð</a> <a id="39200" class="Symbol">:</a> <a id="39202" href="NbE.html#39093" class="Bound">Î</a> <a id="39204" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="39206" href="NbE.html#39187" class="Bound">S</a> <a id="39208" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="39210" href="NbE.html#39091" class="Bound">T</a><a id="39211" class="Symbol">}</a> <a id="39213" class="Symbol">{</a><a id="39214" href="NbE.html#39214" class="Bound">ð</a> <a id="39216" class="Symbol">:</a> <a id="39218" href="NbE.html#39093" class="Bound">Î</a> <a id="39220" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="39222" href="NbE.html#39187" class="Bound">S</a><a id="39223" class="Symbol">}</a>
         <a id="39234" class="Symbol">â</a> <a id="39236" href="NbE.html#36490" class="Datatype">Ne</a> <a id="39239" class="Symbol">(</a><a id="39240" href="NbE.html#39187" class="Bound">S</a> <a id="39242" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="39244" href="NbE.html#39091" class="Bound">T</a><a id="39245" class="Symbol">)</a> <a id="39247" href="NbE.html#39093" class="Bound">Î</a> <a id="39249" href="NbE.html#39198" class="Bound">ð</a>
         <a id="39260" class="Symbol">â</a> <a id="39262" href="NbE.html#36427" class="Datatype">Nf</a> <a id="39265" href="NbE.html#39187" class="Bound">S</a> <a id="39267" href="NbE.html#39093" class="Bound">Î</a> <a id="39269" href="NbE.html#39214" class="Bound">ð</a>
           <a id="39282" class="Comment">--------------</a>
         <a id="39306" class="Symbol">â</a> <a id="39308" href="NbE.html#36490" class="Datatype">Ne</a> <a id="39311" href="NbE.html#39091" class="Bound">T</a> <a id="39313" href="NbE.html#39093" class="Bound">Î</a> <a id="39315" class="Symbol">(</a><a id="39316" href="NbE.html#39198" class="Bound">ð</a> <a id="39318" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="39320" href="NbE.html#39214" class="Bound">ð</a><a id="39321" class="Symbol">)</a>
</pre>
<p>Normal terms are terms in their normal form. <code>unit</code> is a
normal term, as is an abstraction whose body is itself normalized. Any
neutral term is also a normal term.</p>
<pre class="Agda"><a id="39501" class="Keyword">data</a> <a id="39506" href="NbE.html#36427" class="Datatype">Nf</a> <a id="39509" class="Keyword">where</a>
  <a id="Nf.nf-unit"></a><a id="39517" href="NbE.html#39517" class="InductiveConstructor">nf-unit</a> <a id="39525" class="Symbol">:</a> <a id="39527" class="Symbol">â</a> <a id="39529" class="Symbol">{</a><a id="39530" href="NbE.html#39530" class="Bound">Î</a> <a id="39532" class="Symbol">:</a> <a id="39534" href="NbE.html#3822" class="Datatype">Ctx</a><a id="39537" class="Symbol">}</a> <a id="39539" class="Symbol">â</a> <a id="39541" href="NbE.html#36427" class="Datatype">Nf</a> <a id="39544" href="NbE.html#3058" class="InductiveConstructor">ð</a> <a id="39546" href="NbE.html#39530" class="Bound">Î</a> <a id="39548" href="NbE.html#5763" class="InductiveConstructor">unit</a>

  <a id="Nf.nf-abs"></a><a id="39556" href="NbE.html#39556" class="InductiveConstructor">nf-abs</a> <a id="39563" class="Symbol">:</a> <a id="39565" class="Symbol">â</a> <a id="39567" class="Symbol">{</a><a id="39568" href="NbE.html#39568" class="Bound">S</a> <a id="39570" href="NbE.html#39570" class="Bound">T</a> <a id="39572" class="Symbol">:</a> <a id="39574" href="NbE.html#3029" class="Datatype">Type</a><a id="39578" class="Symbol">}</a> <a id="39580" class="Symbol">{</a><a id="39581" href="NbE.html#39581" class="Bound">Î</a> <a id="39583" class="Symbol">:</a> <a id="39585" href="NbE.html#3822" class="Datatype">Ctx</a><a id="39588" class="Symbol">}</a> <a id="39590" class="Symbol">{</a><a id="39591" href="NbE.html#39591" class="Bound">ð</a> <a id="39593" class="Symbol">:</a> <a id="39595" href="NbE.html#39581" class="Bound">Î</a> <a id="39597" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="39599" href="NbE.html#39568" class="Bound">S</a> <a id="39601" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="39603" href="NbE.html#39570" class="Bound">T</a><a id="39604" class="Symbol">}</a>
         <a id="39615" class="Symbol">â</a> <a id="39617" href="NbE.html#36427" class="Datatype">Nf</a> <a id="39620" href="NbE.html#39570" class="Bound">T</a> <a id="39622" class="Symbol">(</a><a id="39623" href="NbE.html#39581" class="Bound">Î</a> <a id="39625" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="39627" href="NbE.html#39568" class="Bound">S</a><a id="39628" class="Symbol">)</a> <a id="39630" href="NbE.html#39591" class="Bound">ð</a>
           <a id="39643" class="Comment">------------------</a>
         <a id="39671" class="Symbol">â</a> <a id="39673" href="NbE.html#36427" class="Datatype">Nf</a> <a id="39676" class="Symbol">(</a><a id="39677" href="NbE.html#39568" class="Bound">S</a> <a id="39679" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="39681" href="NbE.html#39570" class="Bound">T</a><a id="39682" class="Symbol">)</a> <a id="39684" href="NbE.html#39581" class="Bound">Î</a> <a id="39686" class="Symbol">(</a><a id="39687" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="39689" href="NbE.html#39591" class="Bound">ð</a><a id="39690" class="Symbol">)</a>

  <a id="Nf.nf-neutral"></a><a id="39695" href="NbE.html#39695" class="InductiveConstructor">nf-neutral</a> <a id="39706" class="Symbol">:</a> <a id="39708" class="Symbol">â</a> <a id="39710" class="Symbol">{</a><a id="39711" href="NbE.html#39711" class="Bound">T</a> <a id="39713" class="Symbol">:</a> <a id="39715" href="NbE.html#3029" class="Datatype">Type</a><a id="39719" class="Symbol">}</a> <a id="39721" class="Symbol">{</a><a id="39722" href="NbE.html#39722" class="Bound">Î</a> <a id="39724" class="Symbol">:</a> <a id="39726" href="NbE.html#3822" class="Datatype">Ctx</a><a id="39729" class="Symbol">}</a> <a id="39731" class="Symbol">{</a><a id="39732" href="NbE.html#39732" class="Bound">ð</a> <a id="39734" class="Symbol">:</a> <a id="39736" href="NbE.html#39722" class="Bound">Î</a> <a id="39738" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="39740" href="NbE.html#39711" class="Bound">T</a><a id="39741" class="Symbol">}</a>
             <a id="39756" class="Symbol">â</a> <a id="39758" href="NbE.html#36490" class="Datatype">Ne</a> <a id="39761" href="NbE.html#39711" class="Bound">T</a> <a id="39763" href="NbE.html#39722" class="Bound">Î</a> <a id="39765" href="NbE.html#39732" class="Bound">ð</a>
               <a id="39782" class="Comment">--------</a>
             <a id="39804" class="Symbol">â</a> <a id="39806" href="NbE.html#36427" class="Datatype">Nf</a> <a id="39809" href="NbE.html#39711" class="Bound">T</a> <a id="39811" href="NbE.html#39722" class="Bound">Î</a> <a id="39813" href="NbE.html#39732" class="Bound">ð</a>
</pre>
<p>Now, we can discuss the issue of the freshness condition used when
reifying at function type. We are using a de Brujin index
representation, so âfreshnessâ is given to us freely by extending the
context. However, there is no context anywhere in our definition of
reification, so what context do we extend with the fresh variable? This
is actually an intentional decision for reification, because of a
problem that is more subtle: after we reflect the variable, it may later
be reified in a different context than it was created. Consider the
reification of a semantic object <code>f</code> with type
<code>(S â T) â U</code>:</p>
<pre><code>ââ½Ë¢  â áµâ¾  â áµ f = Î»x. âË¢  â áµ (f(a)) , where a = âáµ x</code></pre>
<p>The inner reification evaluates further:</p>
<pre><code>âË¢  â áµ (f(a)) = Î»y. âáµ (f(a)(b)) , where b = âË¢ y</code></pre>
<p>This example showcases the problem: when we reflected <code>x</code>
into our meta language, we had to (presumably) use some context
<code>Î</code> to produce the Agda expression <code>a</code> with the
type <code>Nf T Î</code>. But later, when we reify <code>f(a)(b)</code>,
we will produce a term that is possibly using the variable
<code>x</code>, but the term is now in a different context:
<code>Î, y:S</code>.</p>
<p>This suggests that we need to generalize our reflection of terms in
the object language over all contexts, so that at reification we can use
a different context than the one that was used at reflection.</p>
<p>We introduce <em>liftable</em> normal and neutral terms to address
this. These are normal/neutral terms that are generalized over
contexts.</p>
<p>While they will be generalized over contexts, this means that a
liftable neutral or normal term may not be well-typed when lifted to
some contexts. It will be the case that the liftable terms we will use
in our algirhtm will only be able to be lifted at reification to a
context that is an extension of the context used when the liftable term
was reflected (and with the example above, the reason is clear: our
algorithm would otherwise never produce a term that is well-typed).</p>
<p>Because we cannot apply <em>any</em> context to a liftable
normal/neutral term, we will need a placeholder value for some
contexts.</p>
<pre class="Agda"><a id="41875" class="Comment">-- Liftable neutral term</a>
<a id="Ne^"></a><a id="41900" href="NbE.html#41900" class="Function">Ne^</a> <a id="41904" class="Symbol">:</a> <a id="41906" href="NbE.html#3029" class="Datatype">Type</a> <a id="41911" class="Symbol">â</a> <a id="41913" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="41917" href="NbE.html#41900" class="Function">Ne^</a> <a id="41921" href="NbE.html#41921" class="Bound">T</a> <a id="41923" class="Symbol">=</a> <a id="41925" class="Symbol">â</a> <a id="41927" class="Symbol">(</a><a id="41928" href="NbE.html#41928" class="Bound">Î</a> <a id="41930" class="Symbol">:</a> <a id="41932" href="NbE.html#3822" class="Datatype">Ctx</a><a id="41935" class="Symbol">)</a> <a id="41937" class="Symbol">â</a> <a id="41939" href="Data.Product.html#1806" class="Function">â[</a> <a id="41942" href="NbE.html#41942" class="Bound">t</a> <a id="41944" href="Data.Product.html#1806" class="Function">]</a> <a id="41946" href="NbE.html#36490" class="Datatype">Ne</a> <a id="41949" href="NbE.html#41921" class="Bound">T</a> <a id="41951" href="NbE.html#41928" class="Bound">Î</a> <a id="41953" href="NbE.html#41942" class="Bound">t</a> <a id="41955" href="Data.Sum.Base.html#734" class="Datatype Operator">â</a> <a id="41957" href="Agda.Builtin.Unit.html#164" class="Record">â¤</a>

<a id="41960" class="Comment">-- Liftable normal term</a>
<a id="Nf^"></a><a id="41984" href="NbE.html#41984" class="Function">Nf^</a> <a id="41988" class="Symbol">:</a> <a id="41990" href="NbE.html#3029" class="Datatype">Type</a> <a id="41995" class="Symbol">â</a> <a id="41997" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="42001" href="NbE.html#41984" class="Function">Nf^</a> <a id="42005" href="NbE.html#42005" class="Bound">T</a> <a id="42007" class="Symbol">=</a> <a id="42009" class="Symbol">â</a> <a id="42011" class="Symbol">(</a><a id="42012" href="NbE.html#42012" class="Bound">Î</a> <a id="42014" class="Symbol">:</a> <a id="42016" href="NbE.html#3822" class="Datatype">Ctx</a><a id="42019" class="Symbol">)</a> <a id="42021" class="Symbol">â</a> <a id="42023" href="Data.Product.html#1806" class="Function">â[</a> <a id="42026" href="NbE.html#42026" class="Bound">t</a> <a id="42028" href="Data.Product.html#1806" class="Function">]</a> <a id="42030" href="NbE.html#36427" class="Datatype">Nf</a> <a id="42033" href="NbE.html#42005" class="Bound">T</a> <a id="42035" href="NbE.html#42012" class="Bound">Î</a> <a id="42037" href="NbE.html#42026" class="Bound">t</a>
</pre>
<p>For convenience, we only use this placeholder for liftable neutral
terms. This is possible because of how the algorithm for normalization
by evaluation is designed â reification always Î·-expands at function
type, so there will only ever be a need to use a placeholder value at
our base type <code>ð</code>. In the case of liftable normals, we can
fallback to using <code>unit</code> (which is a valid normal term)
instead of using our placeholder value.</p>
<p>We allow ourselves this convenience because in proving the soundness
of normalization by evaluation, we will be proving that neither the
placeholder value nor the fallback of <code>unit</code> will actually be
used.</p>
<p>Going forward, we will use <code>ðÌ</code> and <code>ðÌ</code> as the
metavariables for liftable normal terms and neutral terms respectively,
and will append the symbol <code>^</code> for the âliftableâ counterpart
of a language construct. For example, we define the overloaded
application <code>(ðÌ ðÌ)(Î) = ðÌ(Î) ðÌ(Î)</code> of liftable terms as
<code>Â·^</code>.</p>
<pre class="Agda"><a id="_Â·^_"></a><a id="43003" href="NbE.html#43003" class="Function Operator">_Â·^_</a> <a id="43008" class="Symbol">:</a> <a id="43010" class="Symbol">â</a> <a id="43012" class="Symbol">{</a><a id="43013" href="NbE.html#43013" class="Bound">S</a> <a id="43015" href="NbE.html#43015" class="Bound">T</a> <a id="43017" class="Symbol">:</a> <a id="43019" href="NbE.html#3029" class="Datatype">Type</a><a id="43023" class="Symbol">}</a> <a id="43025" class="Symbol">â</a> <a id="43027" href="NbE.html#41900" class="Function">Ne^</a> <a id="43031" class="Symbol">(</a><a id="43032" href="NbE.html#43013" class="Bound">S</a> <a id="43034" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="43036" href="NbE.html#43015" class="Bound">T</a><a id="43037" class="Symbol">)</a> <a id="43039" class="Symbol">â</a> <a id="43041" href="NbE.html#41984" class="Function">Nf^</a> <a id="43045" href="NbE.html#43013" class="Bound">S</a> <a id="43047" class="Symbol">â</a> <a id="43049" href="NbE.html#41900" class="Function">Ne^</a> <a id="43053" href="NbE.html#43015" class="Bound">T</a>
<a id="43055" class="Symbol">(</a><a id="43056" href="NbE.html#43056" class="Bound">ðÌ</a> <a id="43059" href="NbE.html#43003" class="Function Operator">Â·^</a> <a id="43062" href="NbE.html#43062" class="Bound">ðÌ</a><a id="43064" class="Symbol">)</a> <a id="43066" href="NbE.html#43066" class="Bound">Î</a> <a id="43068" class="Keyword">with</a> <a id="43073" href="NbE.html#43056" class="Bound">ðÌ</a> <a id="43076" href="NbE.html#43066" class="Bound">Î</a>
<a id="43078" class="Symbol">...</a>           <a id="43092" class="Symbol">|</a> <a id="43094" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="43099" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="43101" href="NbE.html#43101" class="Bound">ð</a> <a id="43103" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="43105" href="NbE.html#43105" class="Bound">pf-ð</a> <a id="43110" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="43112" class="Symbol">=</a>
  <a id="43116" class="Keyword">let</a> <a id="43120" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="43122" href="NbE.html#43122" class="Bound">ð</a> <a id="43124" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="43126" href="NbE.html#43126" class="Bound">pf-ð</a> <a id="43131" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="43133" class="Symbol">=</a> <a id="43135" class="Bound">ðÌ</a> <a id="43138" class="Bound">Î</a> <a id="43140" class="Keyword">in</a>
  <a id="43145" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="43150" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="43152" href="NbE.html#43101" class="Bound">ð</a> <a id="43154" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="43156" href="NbE.html#43122" class="Bound">ð</a> <a id="43158" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="43160" href="NbE.html#39175" class="InductiveConstructor">ne-app</a> <a id="43167" href="NbE.html#43105" class="Bound">pf-ð</a> <a id="43172" href="NbE.html#43126" class="Bound">pf-ð</a> <a id="43177" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
<a id="43179" class="Symbol">...</a>           <a id="43193" class="Symbol">|</a> <a id="43195" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="43200" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>           <a id="43213" class="Symbol">=</a> <a id="43215" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="43220" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
</pre>
<p>The actual interpretation of the base type <code>ð</code> will be an
extension to Agdaâs unit type that embeds liftable neutrals:
<code>â¤Ì</code> (pronounced âtop hatâ). With it defined, we can also
define the interpretation of types, along with the evaluation of terms.
These are exactly as was shown earlier in pseudocode.</p>
<pre class="Agda"><a id="43540" class="Keyword">data</a> <a id="â¤Ì"></a><a id="43545" href="NbE.html#43545" class="Datatype">â¤Ì</a> <a id="43548" class="Symbol">:</a> <a id="43550" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="43554" class="Keyword">where</a>
  <a id="â¤Ì.unit"></a><a id="43562" href="NbE.html#43562" class="InductiveConstructor">unit</a> <a id="43567" class="Symbol">:</a> <a id="43569" href="NbE.html#43545" class="Datatype">â¤Ì</a>
  <a id="â¤Ì.ne"></a><a id="43574" href="NbE.html#43574" class="InductiveConstructor">ne</a>   <a id="43579" class="Symbol">:</a> <a id="43581" href="NbE.html#41900" class="Function">Ne^</a> <a id="43585" href="NbE.html#3058" class="InductiveConstructor">ð</a> <a id="43587" class="Symbol">â</a> <a id="43589" href="NbE.html#43545" class="Datatype">â¤Ì</a>

<a id="43593" class="Keyword">instance</a>
  <a id="â¦Typeâ§"></a><a id="43604" href="NbE.html#43604" class="Function">â¦Typeâ§</a> <a id="43611" class="Symbol">:</a> <a id="43613" href="NbE.html#34387" class="Record">Interpretation</a> <a id="43628" href="NbE.html#3029" class="Datatype">Type</a>
  <a id="43635" href="NbE.html#34437" class="Field Operator">Interpretation.â¦</a> <a id="43652" href="NbE.html#43604" class="Function">â¦Typeâ§</a> <a id="43659" href="NbE.html#34437" class="Field Operator">â§</a> <a id="43661" href="NbE.html#3058" class="InductiveConstructor">ð</a> <a id="43663" class="Symbol">=</a> <a id="43665" href="NbE.html#43545" class="Datatype">â¤Ì</a>
  <a id="43670" href="NbE.html#34437" class="Field Operator">Interpretation.â¦</a> <a id="43687" href="NbE.html#43604" class="Function">â¦Typeâ§</a> <a id="43694" href="NbE.html#34437" class="Field Operator">â§</a> <a id="43696" class="Symbol">(</a><a id="43697" href="NbE.html#43697" class="Bound">S</a> <a id="43699" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="43701" href="NbE.html#43701" class="Bound">T</a><a id="43702" class="Symbol">)</a> <a id="43704" class="Symbol">=</a> <a id="43706" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="43708" href="NbE.html#43697" class="Bound">S</a> <a id="43710" href="NbE.html#34437" class="Field Operator">â§</a> <a id="43712" class="Symbol">â</a> <a id="43714" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="43716" href="NbE.html#43701" class="Bound">T</a> <a id="43718" href="NbE.html#34437" class="Field Operator">â§</a>

<a id="env-lookup"></a><a id="43721" href="NbE.html#43721" class="Function">env-lookup</a> <a id="43732" class="Symbol">:</a> <a id="43734" class="Symbol">â</a> <a id="43736" class="Symbol">{</a><a id="43737" href="NbE.html#43737" class="Bound">Î</a> <a id="43739" class="Symbol">:</a> <a id="43741" href="NbE.html#3822" class="Datatype">Ctx</a><a id="43744" class="Symbol">}</a> <a id="43746" class="Symbol">{</a><a id="43747" href="NbE.html#43747" class="Bound">T</a> <a id="43749" class="Symbol">:</a> <a id="43751" href="NbE.html#3029" class="Datatype">Type</a><a id="43755" class="Symbol">}</a> <a id="43757" class="Symbol">â</a> <a id="43759" href="NbE.html#43737" class="Bound">Î</a> <a id="43761" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="43763" href="NbE.html#43747" class="Bound">T</a> <a id="43765" class="Symbol">â</a> <a id="43767" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="43769" href="NbE.html#43737" class="Bound">Î</a> <a id="43771" href="NbE.html#34437" class="Field Operator">â§</a> <a id="43773" class="Symbol">â</a> <a id="43775" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="43777" href="NbE.html#43747" class="Bound">T</a> <a id="43779" href="NbE.html#34437" class="Field Operator">â§</a>
<a id="43781" href="NbE.html#43721" class="Function">env-lookup</a> <a id="43792" class="Symbol">{</a><a id="43793" href="NbE.html#43793" class="Bound">Î</a> <a id="43795" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="43797" href="NbE.html#43797" class="Bound">T</a><a id="43798" class="Symbol">}</a> <a id="43800" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="43806" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="43808" class="Symbol">_</a> <a id="43810" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="43812" href="NbE.html#43812" class="Bound">a</a> <a id="43814" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="43816" class="Symbol">=</a> <a id="43818" href="NbE.html#43812" class="Bound">a</a>
<a id="43820" href="NbE.html#43721" class="Function">env-lookup</a> <a id="43831" class="Symbol">{</a><a id="43832" href="NbE.html#43832" class="Bound">Î</a> <a id="43834" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="43836" href="NbE.html#43836" class="Bound">T</a><a id="43837" class="Symbol">}</a> <a id="43839" class="Symbol">(</a><a id="43840" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="43842" href="NbE.html#43842" class="Bound">x</a><a id="43843" class="Symbol">)</a> <a id="43845" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="43847" href="NbE.html#43847" class="Bound">Î³</a> <a id="43849" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="43851" class="Symbol">_</a> <a id="43853" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="43855" class="Symbol">=</a> <a id="43857" href="NbE.html#43721" class="Function">env-lookup</a> <a id="43868" href="NbE.html#43842" class="Bound">x</a> <a id="43870" href="NbE.html#43847" class="Bound">Î³</a>

<a id="â¦â¢_â§"></a><a id="43873" href="NbE.html#43873" class="Function Operator">â¦â¢_â§</a> <a id="43878" class="Symbol">:</a> <a id="43880" class="Symbol">â</a> <a id="43882" class="Symbol">{</a><a id="43883" href="NbE.html#43883" class="Bound">Î</a> <a id="43885" class="Symbol">:</a> <a id="43887" href="NbE.html#3822" class="Datatype">Ctx</a><a id="43890" class="Symbol">}</a> <a id="43892" class="Symbol">{</a><a id="43893" href="NbE.html#43893" class="Bound">T</a> <a id="43895" class="Symbol">:</a> <a id="43897" href="NbE.html#3029" class="Datatype">Type</a><a id="43901" class="Symbol">}</a> <a id="43903" class="Symbol">â</a> <a id="43905" href="NbE.html#43883" class="Bound">Î</a> <a id="43907" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="43909" href="NbE.html#43893" class="Bound">T</a> <a id="43911" class="Symbol">â</a> <a id="43913" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="43915" href="NbE.html#43883" class="Bound">Î</a> <a id="43917" href="NbE.html#34437" class="Field Operator">â§</a> <a id="43919" class="Symbol">â</a> <a id="43921" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="43923" href="NbE.html#43893" class="Bound">T</a> <a id="43925" href="NbE.html#34437" class="Field Operator">â§</a>
<a id="43927" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="43930" href="NbE.html#5763" class="InductiveConstructor">unit</a> <a id="43935" href="NbE.html#43873" class="Function Operator">â§</a> <a id="43937" class="Symbol">_</a>  <a id="43940" class="Symbol">=</a> <a id="43942" href="NbE.html#43562" class="InductiveConstructor">unit</a>
<a id="43947" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="43950" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="43952" href="NbE.html#43952" class="Bound">x</a> <a id="43954" href="NbE.html#43873" class="Function Operator">â§</a> <a id="43956" href="NbE.html#43956" class="Bound">Î³</a>   <a id="43960" class="Symbol">=</a> <a id="43962" href="NbE.html#43721" class="Function">env-lookup</a> <a id="43973" href="NbE.html#43952" class="Bound">x</a> <a id="43975" href="NbE.html#43956" class="Bound">Î³</a>
<a id="43977" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="43980" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="43982" href="NbE.html#43982" class="Bound">t</a> <a id="43984" href="NbE.html#43873" class="Function Operator">â§</a> <a id="43986" href="NbE.html#43986" class="Bound">Î³</a> <a id="43988" href="NbE.html#43988" class="Bound">a</a> <a id="43990" class="Symbol">=</a> <a id="43992" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="43995" href="NbE.html#43982" class="Bound">t</a> <a id="43997" href="NbE.html#43873" class="Function Operator">â§</a> <a id="43999" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="44001" href="NbE.html#43986" class="Bound">Î³</a> <a id="44003" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="44005" href="NbE.html#43988" class="Bound">a</a> <a id="44007" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
<a id="44009" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="44012" href="NbE.html#44012" class="Bound">r</a> <a id="44014" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="44016" href="NbE.html#44016" class="Bound">s</a> <a id="44018" href="NbE.html#43873" class="Function Operator">â§</a> <a id="44020" href="NbE.html#44020" class="Bound">Î³</a> <a id="44022" class="Symbol">=</a> <a id="44024" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="44027" href="NbE.html#44012" class="Bound">r</a> <a id="44029" href="NbE.html#43873" class="Function Operator">â§</a> <a id="44031" href="NbE.html#44020" class="Bound">Î³</a> <a id="44033" class="Symbol">(</a><a id="44034" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="44037" href="NbE.html#44016" class="Bound">s</a> <a id="44039" href="NbE.html#43873" class="Function Operator">â§</a>  <a id="44042" href="NbE.html#44020" class="Bound">Î³</a><a id="44043" class="Symbol">)</a>
</pre>
<p>To reify an Agda expressions of type <code>â¤Ì</code>, we will define a
function <code>ââ¤Ì</code>. It is here that the fallback to
<code>unit</code> happens, when the context that the embedded liftable
neutral is being lifted to results in it being undefined. This case will
be irrelevant and we will prove that it will never actually be used in
the algorithm for normalization by evaluation by proving that the
algorithm preserves the meaning of the original term (such a fallback
actually being used would make this impossible to prove).</p>
<pre class="Agda"><a id="ââ¤Ì"></a><a id="44565" href="NbE.html#44565" class="Function">ââ¤Ì</a> <a id="44569" class="Symbol">:</a> <a id="44571" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="44573" href="NbE.html#3058" class="InductiveConstructor">ð</a> <a id="44575" href="NbE.html#34437" class="Field Operator">â§</a> <a id="44577" class="Symbol">â</a> <a id="44579" href="NbE.html#41984" class="Function">Nf^</a> <a id="44583" href="NbE.html#3058" class="InductiveConstructor">ð</a>
<a id="44585" href="NbE.html#44565" class="Function">ââ¤Ì</a> <a id="44589" href="NbE.html#43562" class="InductiveConstructor">unit</a> <a id="44594" class="Symbol">=</a> <a id="44596" href="NbE.html#44610" class="Function">unit^</a> <a id="44602" class="Keyword">where</a>
  <a id="44610" href="NbE.html#44610" class="Function">unit^</a> <a id="44616" class="Symbol">=</a> <a id="44618" class="Symbol">(Î»</a> <a id="44621" href="NbE.html#44621" class="Bound">_</a> <a id="44623" class="Symbol">â</a> <a id="44625" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="44627" href="NbE.html#5763" class="InductiveConstructor">unit</a> <a id="44632" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="44634" href="NbE.html#39517" class="InductiveConstructor">nf-unit</a> <a id="44642" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a><a id="44643" class="Symbol">)</a>
<a id="44645" href="NbE.html#44565" class="Function">ââ¤Ì</a> <a id="44649" class="Symbol">(</a><a id="44650" href="NbE.html#43574" class="InductiveConstructor">ne</a> <a id="44653" href="NbE.html#44653" class="Bound">ðÌ</a><a id="44655" class="Symbol">)</a> <a id="44657" href="NbE.html#44657" class="Bound">Î</a> <a id="44659" class="Keyword">with</a> <a id="44664" href="NbE.html#44653" class="Bound">ðÌ</a> <a id="44667" href="NbE.html#44657" class="Bound">Î</a>
<a id="44669" class="Symbol">...</a>            <a id="44684" class="Symbol">|</a> <a id="44686" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="44691" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="44693" href="NbE.html#44693" class="Bound">ð</a> <a id="44695" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="44697" href="NbE.html#44697" class="Bound">pf</a> <a id="44700" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="44702" class="Symbol">=</a> <a id="44704" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="44706" href="NbE.html#44693" class="Bound">ð</a> <a id="44708" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="44710" href="NbE.html#39695" class="InductiveConstructor">nf-neutral</a> <a id="44721" href="NbE.html#44697" class="Bound">pf</a> <a id="44724" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
<a id="44726" class="Symbol">...</a>            <a id="44741" class="Symbol">|</a> <a id="44743" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="44748" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>         <a id="44759" class="Symbol">=</a> <a id="44761" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="44763" href="NbE.html#5763" class="InductiveConstructor">unit</a> <a id="44768" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="44770" href="NbE.html#39517" class="InductiveConstructor">nf-unit</a> <a id="44778" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
</pre>
<p>We are now ready to actually define reflection and reification in
Agda. These are mutually recursive, and will each be defined by
induction on the type <code>T</code>. Their definition is almost the
same as the sketch shown in pseudocode, except that the implicit
changing of contexts is now being handled by using liftable terms
instead.</p>
<pre class="Agda">
<a id="45123" class="Keyword">mutual</a>
  <a id="âáµ"></a><a id="45132" href="NbE.html#45132" class="Function">âáµ</a> <a id="45135" class="Symbol">:</a> <a id="45137" class="Symbol">{</a><a id="45138" href="NbE.html#45138" class="Bound">T</a> <a id="45140" class="Symbol">:</a> <a id="45142" href="NbE.html#3029" class="Datatype">Type</a><a id="45146" class="Symbol">}</a> <a id="45148" class="Symbol">â</a> <a id="45150" href="NbE.html#41900" class="Function">Ne^</a> <a id="45154" href="NbE.html#45138" class="Bound">T</a> <a id="45156" class="Symbol">â</a> <a id="45158" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="45160" href="NbE.html#45138" class="Bound">T</a> <a id="45162" href="NbE.html#34437" class="Field Operator">â§</a>
  <a id="45166" href="NbE.html#45132" class="Function">âáµ</a> <a id="45169" class="Symbol">{</a><a id="45170" href="NbE.html#3058" class="InductiveConstructor">ð</a><a id="45171" class="Symbol">}</a> <a id="45173" href="NbE.html#45173" class="Bound">ðÌ</a> <a id="45176" class="Symbol">=</a> <a id="45178" href="NbE.html#43574" class="InductiveConstructor">ne</a> <a id="45181" href="NbE.html#45173" class="Bound">ðÌ</a>
  <a id="45186" href="NbE.html#45132" class="Function">âáµ</a> <a id="45189" class="Symbol">{</a><a id="45190" href="NbE.html#45190" class="Bound">S</a> <a id="45192" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="45194" href="NbE.html#45194" class="Bound">T</a><a id="45195" class="Symbol">}</a> <a id="45197" href="NbE.html#45197" class="Bound">ðÌ</a> <a id="45200" href="NbE.html#45200" class="Bound">a</a> <a id="45202" class="Symbol">=</a> <a id="45204" href="NbE.html#45132" class="Function">âáµ</a> <a id="45207" class="Symbol">(</a><a id="45208" href="NbE.html#45197" class="Bound">ðÌ</a> <a id="45211" href="NbE.html#43003" class="Function Operator">Â·^</a> <a id="45214" href="NbE.html#45224" class="Function">ðÌ</a><a id="45216" class="Symbol">)</a> <a id="45218" class="Keyword">where</a> <a id="45224" href="NbE.html#45224" class="Function">ðÌ</a> <a id="45227" class="Symbol">=</a> <a id="45229" href="NbE.html#45237" class="Function">âáµ</a> <a id="45232" href="NbE.html#45200" class="Bound">a</a>

  <a id="âáµ"></a><a id="45237" href="NbE.html#45237" class="Function">âáµ</a> <a id="45240" class="Symbol">:</a> <a id="45242" class="Symbol">{</a><a id="45243" href="NbE.html#45243" class="Bound">T</a> <a id="45245" class="Symbol">:</a> <a id="45247" href="NbE.html#3029" class="Datatype">Type</a><a id="45251" class="Symbol">}</a> <a id="45253" class="Symbol">â</a> <a id="45255" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="45257" href="NbE.html#45243" class="Bound">T</a> <a id="45259" href="NbE.html#34437" class="Field Operator">â§</a> <a id="45261" class="Symbol">â</a> <a id="45263" href="NbE.html#41984" class="Function">Nf^</a> <a id="45267" href="NbE.html#45243" class="Bound">T</a>
  <a id="45271" href="NbE.html#45237" class="Function">âáµ</a> <a id="45274" class="Symbol">{</a><a id="45275" href="NbE.html#3058" class="InductiveConstructor">ð</a><a id="45276" class="Symbol">}</a> <a id="45278" class="Symbol">=</a> <a id="45280" href="NbE.html#44565" class="Function">ââ¤Ì</a>
  <a id="45286" href="NbE.html#45237" class="Function">âáµ</a> <a id="45289" class="Symbol">{</a><a id="45290" href="NbE.html#45290" class="Bound">S</a> <a id="45292" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="45294" href="NbE.html#45294" class="Bound">T</a><a id="45295" class="Symbol">}</a> <a id="45297" href="NbE.html#45297" class="Bound">f</a> <a id="45299" href="NbE.html#45299" class="Bound">Î</a> <a id="45301" class="Symbol">=</a>
    <a id="45307" class="Keyword">let</a> <a id="45311" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="45313" href="NbE.html#45313" class="Bound">ð</a> <a id="45315" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="45317" href="NbE.html#45317" class="Bound">pf</a> <a id="45320" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="45322" class="Symbol">=</a> <a id="45324" href="NbE.html#45237" class="Function">âáµ</a> <a id="45327" class="Symbol">(</a><a id="45328" href="NbE.html#45297" class="Bound">f</a> <a id="45330" href="NbE.html#45378" class="Function">a</a><a id="45331" class="Symbol">)</a> <a id="45333" class="Symbol">(</a><a id="45334" href="NbE.html#45299" class="Bound">Î</a> <a id="45336" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="45338" href="NbE.html#45290" class="Bound">S</a><a id="45339" class="Symbol">)</a> <a id="45341" class="Keyword">in</a>
    <a id="45348" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="45350" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="45352" href="NbE.html#45313" class="Bound">ð</a> <a id="45354" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="45356" href="NbE.html#39556" class="InductiveConstructor">nf-abs</a> <a id="45363" href="NbE.html#45317" class="Bound">pf</a> <a id="45366" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
    <a id="45372" class="Keyword">where</a> <a id="45378" href="NbE.html#45378" class="Function">a</a> <a id="45380" class="Symbol">=</a> <a id="45382" href="NbE.html#45132" class="Function">âáµ</a> <a id="45385" class="Symbol">(</a><a id="45386" href="NbE.html#45962" class="Function">ðÌ</a> <a id="45389" href="NbE.html#45290" class="Bound">S</a> <a id="45391" href="NbE.html#45299" class="Bound">Î</a><a id="45392" class="Symbol">)</a>
</pre>
<p>Freshness is given to us almost for free as we are using a de Brujin
representation, so a fresh variable would just be the de Brujin index
<code>ð</code>. This variable will be used in a different context from
the one in which it was created, so it will need to be renamed.</p>
<p>For this purpose we use <code>ðÌ S Î</code>, a liftable variable of
type <code>S</code> that can only be lifted to extensions of the context
<code>Î, x:S</code>. When lifted to an extension <code>Îâ²</code> of
<code>Î, x:S</code> we apply the extension renaming to the de Brujin
index <code>ð</code> to obtain its corresponding index in the extended
context.</p>
<pre class="Agda">  <a id="ðÌ"></a><a id="45962" href="NbE.html#45962" class="Function">ðÌ</a> <a id="45965" class="Symbol">:</a> <a id="45967" class="Symbol">(</a><a id="45968" href="NbE.html#45968" class="Bound">S</a> <a id="45970" class="Symbol">:</a> <a id="45972" href="NbE.html#3029" class="Datatype">Type</a><a id="45976" class="Symbol">)</a> <a id="45978" class="Symbol">â</a> <a id="45980" href="NbE.html#3822" class="Datatype">Ctx</a> <a id="45984" class="Symbol">â</a> <a id="45986" href="NbE.html#41900" class="Function">Ne^</a> <a id="45990" href="NbE.html#45968" class="Bound">S</a>
  <a id="45994" href="NbE.html#45962" class="Function">ðÌ</a> <a id="45997" href="NbE.html#45997" class="Bound">S</a> <a id="45999" href="NbE.html#45999" class="Bound">Î</a> <a id="46001" href="NbE.html#46001" class="Bound">Îâ²</a>
    <a id="46008" class="Keyword">with</a> <a id="46013" href="NbE.html#46001" class="Bound">Îâ²</a> <a id="46016" href="NbE.html#10785" class="Function Operator">â¤?</a> <a id="46019" class="Symbol">(</a><a id="46020" href="NbE.html#45999" class="Bound">Î</a> <a id="46022" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="46024" href="NbE.html#45997" class="Bound">S</a><a id="46025" class="Symbol">)</a>
  <a id="46029" class="Symbol">...</a>  <a id="46034" class="Symbol">|</a> <a id="46036" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="46039" class="Symbol">_</a>          <a id="46050" class="Symbol">=</a> <a id="46052" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="46057" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
  <a id="46062" class="Symbol">...</a>  <a id="46067" class="Symbol">|</a> <a id="46069" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="46073" href="NbE.html#46073" class="Bound">pf</a>        <a id="46083" class="Symbol">=</a> <a id="46085" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="46090" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="46092" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="46094" href="NbE.html#46115" class="Function">x</a> <a id="46096" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="46098" href="NbE.html#39103" class="InductiveConstructor">ne-var</a> <a id="46105" href="NbE.html#46115" class="Function">x</a> <a id="46107" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="46109" class="Keyword">where</a> <a id="46115" href="NbE.html#46115" class="Function">x</a> <a id="46117" class="Symbol">=</a> <a id="46119" href="NbE.html#13715" class="Function">Ï-â¤</a> <a id="46123" href="NbE.html#46073" class="Bound">pf</a> <a id="46126" href="NbE.html#4481" class="InductiveConstructor">ð</a>
</pre>
<p>We can also define the reflection of a context <code>Î</code> into an
environment, which will be the reflected environment over which a typed
term in the context <code>Î</code> will be evaluated.</p>
<pre class="Agda"><a id="âá¶áµË£"></a><a id="46316" href="NbE.html#46316" class="Function">âá¶áµË£</a> <a id="46321" class="Symbol">:</a> <a id="46323" class="Symbol">â</a> <a id="46325" class="Symbol">(</a><a id="46326" href="NbE.html#46326" class="Bound">Î</a> <a id="46328" class="Symbol">:</a> <a id="46330" href="NbE.html#3822" class="Datatype">Ctx</a><a id="46333" class="Symbol">)</a> <a id="46335" class="Symbol">â</a> <a id="46337" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="46339" href="NbE.html#46326" class="Bound">Î</a> <a id="46341" href="NbE.html#34437" class="Field Operator">â§</a>
<a id="46343" href="NbE.html#46316" class="Function">âá¶áµË£</a> <a id="46348" href="NbE.html#3840" class="InductiveConstructor">â</a>       <a id="46356" class="Symbol">=</a> <a id="46358" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
<a id="46361" href="NbE.html#46316" class="Function">âá¶áµË£</a> <a id="46366" class="Symbol">(</a><a id="46367" href="NbE.html#46367" class="Bound">Î</a> <a id="46369" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="46371" href="NbE.html#46371" class="Bound">T</a><a id="46372" class="Symbol">)</a> <a id="46374" class="Symbol">=</a> <a id="46376" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="46378" href="NbE.html#46316" class="Function">âá¶áµË£</a> <a id="46383" href="NbE.html#46367" class="Bound">Î</a>  <a id="46386" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="46388" href="NbE.html#45132" class="Function">âáµ</a> <a id="46391" class="Symbol">(</a><a id="46392" href="NbE.html#45962" class="Function">ðÌ</a> <a id="46395" href="NbE.html#46371" class="Bound">T</a> <a id="46397" href="NbE.html#46367" class="Bound">Î</a><a id="46398" class="Symbol">)</a> <a id="46400" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
</pre>
<p>Finally, the algorithm for normalization by evaluation can be written
in Agda. Its definition is again almost exactly the same as the sketch
in pseudocode, except that we now lift the reified normal term to the
original context <code>Î</code>.</p>
<pre class="Agda"><a id="nbe"></a><a id="46649" href="NbE.html#46649" class="Function">nbe</a> <a id="46653" class="Symbol">:</a> <a id="46655" class="Symbol">â</a> <a id="46657" class="Symbol">{</a><a id="46658" href="NbE.html#46658" class="Bound">Î</a> <a id="46660" class="Symbol">:</a> <a id="46662" href="NbE.html#3822" class="Datatype">Ctx</a><a id="46665" class="Symbol">}</a> <a id="46667" class="Symbol">{</a><a id="46668" href="NbE.html#46668" class="Bound">T</a> <a id="46670" class="Symbol">:</a> <a id="46672" href="NbE.html#3029" class="Datatype">Type</a><a id="46676" class="Symbol">}</a> <a id="46678" class="Symbol">â</a> <a id="46680" href="NbE.html#46658" class="Bound">Î</a> <a id="46682" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="46684" href="NbE.html#46668" class="Bound">T</a> <a id="46686" class="Symbol">â</a> <a id="46688" href="Data.Product.html#1806" class="Function">â[</a> <a id="46691" href="NbE.html#46691" class="Bound">t</a> <a id="46693" href="Data.Product.html#1806" class="Function">]</a> <a id="46695" href="NbE.html#36427" class="Datatype">Nf</a> <a id="46698" href="NbE.html#46668" class="Bound">T</a> <a id="46700" href="NbE.html#46658" class="Bound">Î</a> <a id="46702" href="NbE.html#46691" class="Bound">t</a>
<a id="46704" href="NbE.html#46649" class="Function">nbe</a> <a id="46708" class="Symbol">{</a><a id="46709" href="NbE.html#46709" class="Bound">Î</a><a id="46710" class="Symbol">}</a> <a id="46712" href="NbE.html#46712" class="Bound">t</a> <a id="46714" class="Symbol">=</a> <a id="46716" href="NbE.html#45237" class="Function">âáµ</a> <a id="46719" class="Symbol">(</a><a id="46720" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="46723" href="NbE.html#46712" class="Bound">t</a> <a id="46725" href="NbE.html#43873" class="Function Operator">â§</a> <a id="46727" class="Symbol">(</a><a id="46728" href="NbE.html#46316" class="Function">âá¶áµË£</a> <a id="46733" href="NbE.html#46709" class="Bound">Î</a><a id="46734" class="Symbol">))</a> <a id="46737" href="NbE.html#46709" class="Bound">Î</a>

<a id="nf"></a><a id="46740" href="NbE.html#46740" class="Function">nf</a> <a id="46743" class="Symbol">:</a> <a id="46745" class="Symbol">â</a> <a id="46747" class="Symbol">{</a><a id="46748" href="NbE.html#46748" class="Bound">Î</a> <a id="46750" class="Symbol">:</a> <a id="46752" href="NbE.html#3822" class="Datatype">Ctx</a><a id="46755" class="Symbol">}</a> <a id="46757" class="Symbol">{</a><a id="46758" href="NbE.html#46758" class="Bound">T</a> <a id="46760" class="Symbol">:</a> <a id="46762" href="NbE.html#3029" class="Datatype">Type</a><a id="46766" class="Symbol">}</a> <a id="46768" class="Symbol">â</a> <a id="46770" href="NbE.html#46748" class="Bound">Î</a> <a id="46772" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="46774" href="NbE.html#46758" class="Bound">T</a> <a id="46776" class="Symbol">â</a> <a id="46778" href="NbE.html#46748" class="Bound">Î</a> <a id="46780" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="46782" href="NbE.html#46758" class="Bound">T</a>
<a id="46784" href="NbE.html#46740" class="Function">nf</a> <a id="46787" href="NbE.html#46787" class="Bound">t</a> <a id="46789" class="Symbol">=</a> <a id="46791" class="Keyword">let</a> <a id="46795" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="46797" href="NbE.html#46797" class="Bound">tâ²</a> <a id="46800" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="46802" class="Symbol">_</a> <a id="46804" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="46806" class="Symbol">=</a> <a id="46808" href="NbE.html#46649" class="Function">nbe</a> <a id="46812" href="NbE.html#46787" class="Bound">t</a> <a id="46814" class="Keyword">in</a> <a id="46817" href="NbE.html#46797" class="Bound">tâ²</a>
</pre>
<p>And here is an example of the algorithm in action:</p>
<pre class="Agda"><a id="46885" class="Keyword">module</a> <a id="AlgorithmExample"></a><a id="46892" href="NbE.html#46892" class="Module">AlgorithmExample</a> <a id="46909" class="Keyword">where</a>
  <a id="46917" class="Comment">-- (Î»x. (Î»y. y) x) unit</a>
  <a id="AlgorithmExample.ex"></a><a id="46943" href="NbE.html#46943" class="Function">ex</a> <a id="46946" class="Symbol">:</a> <a id="46948" href="NbE.html#3840" class="InductiveConstructor">â</a> <a id="46950" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="46952" href="NbE.html#3058" class="InductiveConstructor">ð</a>
  <a id="46956" href="NbE.html#46943" class="Function">ex</a> <a id="46959" class="Symbol">=</a> <a id="46961" class="Symbol">(</a><a id="46962" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="46964" class="Symbol">(</a><a id="46965" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="46967" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="46969" href="NbE.html#4481" class="InductiveConstructor">ð</a><a id="46970" class="Symbol">)</a> <a id="46972" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="46974" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="46976" href="NbE.html#4481" class="InductiveConstructor">ð</a><a id="46977" class="Symbol">)</a> <a id="46979" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="46981" href="NbE.html#5763" class="InductiveConstructor">unit</a>

  <a id="46989" class="Comment">-- normal form is unit</a>
  <a id="AlgorithmExample.nf-ex"></a><a id="47014" href="NbE.html#47014" class="Function">nf-ex</a> <a id="47020" class="Symbol">:</a> <a id="47022" href="NbE.html#46740" class="Function">nf</a> <a id="47025" href="NbE.html#46943" class="Function">ex</a> <a id="47028" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="47030" href="NbE.html#5763" class="InductiveConstructor">unit</a>
  <a id="47037" href="NbE.html#47014" class="Function">nf-ex</a> <a id="47043" class="Keyword">with</a> <a id="47048" href="NbE.html#46943" class="Function">ex</a>
  <a id="47053" href="NbE.html#47014" class="Function">...</a>      <a id="47062" class="Symbol">|</a> <a id="47064" class="Symbol">_</a>  <a id="47067" class="Symbol">=</a> <a id="47069" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<h3 id="correctness">Correctness</h3>
<p>We wish for our algorithm for normalization by evaluation to be both
complete and sound. First, we need to prove the property that if two
terms are definitionally equal, then they must have the same
interpretation. This proof is omitted in the rendering as well â it is
an adaptation of the proof of soundness of reduction with respect to
denotational semantics in PLFA seen in <a href="https://plfa.github.io/Soundness/">this</a> chapter.</p>
<!---

A renaming `Î â¢ Ï : Î` relates an environment `Î³ â â¦ Î â§` to an environment
`Î´ â â¦ Î â§` iff the semantic object in `Î³` for `Ï x` is equivalent to the
semantic object in `Î´` for `x` for any variable `x` in the context `Î`:

    Î³ â© Ï ~ Î´ â â x. â¦ Î â (Ï x):T â§ Î³ â¡ â¦ Î â x:T â§ Î´

<pre class="Agda"><a id="_â©Ê³_~_"></a><a id="47820" href="NbE.html#47820" class="Function Operator">_â©Ê³_~_</a> <a id="47827" class="Symbol">:</a> <a id="47829" class="Symbol">â</a> <a id="47831" class="Symbol">{</a><a id="47832" href="NbE.html#47832" class="Bound">Î</a> <a id="47834" href="NbE.html#47834" class="Bound">Î</a> <a id="47836" class="Symbol">:</a> <a id="47838" href="NbE.html#3822" class="Datatype">Ctx</a><a id="47841" class="Symbol">}</a> <a id="47843" class="Symbol">â</a> <a id="47845" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="47847" href="NbE.html#47832" class="Bound">Î</a> <a id="47849" href="NbE.html#34437" class="Field Operator">â§</a> <a id="47851" class="Symbol">â</a> <a id="47853" href="NbE.html#12521" class="Function">Ren</a> <a id="47857" href="NbE.html#47832" class="Bound">Î</a> <a id="47859" href="NbE.html#47834" class="Bound">Î</a> <a id="47861" class="Symbol">â</a> <a id="47863" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="47865" href="NbE.html#47834" class="Bound">Î</a> <a id="47867" href="NbE.html#34437" class="Field Operator">â§</a> <a id="47869" class="Symbol">â</a> <a id="47871" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="47875" href="NbE.html#47820" class="Function Operator">_â©Ê³_~_</a> <a id="47882" class="Symbol">{</a><a id="47883" class="Argument">Î</a> <a id="47885" class="Symbol">=</a> <a id="47887" href="NbE.html#47887" class="Bound">Î</a><a id="47888" class="Symbol">}</a> <a id="47890" href="NbE.html#47890" class="Bound">Î³</a> <a id="47892" href="NbE.html#47892" class="Bound">Ï</a> <a id="47894" href="NbE.html#47894" class="Bound">Î´</a> <a id="47896" class="Symbol">=</a>
  <a id="47900" class="Symbol">â</a> <a id="47902" class="Symbol">{</a><a id="47903" href="NbE.html#47903" class="Bound">T</a> <a id="47905" class="Symbol">:</a> <a id="47907" href="NbE.html#3029" class="Datatype">Type</a><a id="47911" class="Symbol">}</a> <a id="47913" class="Symbol">(</a><a id="47914" href="NbE.html#47914" class="Bound">x</a> <a id="47916" class="Symbol">:</a> <a id="47918" href="NbE.html#47887" class="Bound">Î</a> <a id="47920" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="47922" href="NbE.html#47903" class="Bound">T</a><a id="47923" class="Symbol">)</a> <a id="47925" class="Symbol">â</a> <a id="47927" href="NbE.html#43721" class="Function">env-lookup</a> <a id="47938" class="Symbol">(</a><a id="47939" href="NbE.html#47892" class="Bound">Ï</a> <a id="47941" href="NbE.html#47914" class="Bound">x</a><a id="47942" class="Symbol">)</a> <a id="47944" href="NbE.html#47890" class="Bound">Î³</a> <a id="47946" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="47948" href="NbE.html#43721" class="Function">env-lookup</a> <a id="47959" href="NbE.html#47914" class="Bound">x</a> <a id="47961" href="NbE.html#47894" class="Bound">Î´</a>
</pre>
Any renaming that satisfies this relation preserves meaning between
environments.

<pre class="Agda"><a id="rename-preserves-meaning"></a><a id="48059" href="NbE.html#48059" class="Function">rename-preserves-meaning</a> <a id="48084" class="Symbol">:</a> <a id="48086" class="Symbol">â</a> <a id="48088" class="Symbol">{</a><a id="48089" href="NbE.html#48089" class="Bound">Î</a> <a id="48091" href="NbE.html#48091" class="Bound">Î</a> <a id="48093" class="Symbol">:</a> <a id="48095" href="NbE.html#3822" class="Datatype">Ctx</a><a id="48098" class="Symbol">}</a> <a id="48100" class="Symbol">{</a><a id="48101" href="NbE.html#48101" class="Bound">T</a> <a id="48103" class="Symbol">:</a> <a id="48105" href="NbE.html#3029" class="Datatype">Type</a><a id="48109" class="Symbol">}</a> <a id="48111" class="Symbol">{</a><a id="48112" href="NbE.html#48112" class="Bound">Î³</a> <a id="48114" class="Symbol">:</a> <a id="48116" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="48118" href="NbE.html#48089" class="Bound">Î</a> <a id="48120" href="NbE.html#34437" class="Field Operator">â§</a><a id="48121" class="Symbol">}</a> <a id="48123" class="Symbol">{</a><a id="48124" href="NbE.html#48124" class="Bound">Î´</a> <a id="48126" class="Symbol">:</a> <a id="48128" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="48130" href="NbE.html#48091" class="Bound">Î</a> <a id="48132" href="NbE.html#34437" class="Field Operator">â§</a><a id="48133" class="Symbol">}</a>
                             <a id="48164" class="Symbol">{</a><a id="48165" href="NbE.html#48165" class="Bound">t</a> <a id="48167" class="Symbol">:</a> <a id="48169" href="NbE.html#48091" class="Bound">Î</a> <a id="48171" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="48173" href="NbE.html#48101" class="Bound">T</a><a id="48174" class="Symbol">}</a> <a id="48176" class="Symbol">{</a><a id="48177" href="NbE.html#48177" class="Bound">Ï</a> <a id="48179" class="Symbol">:</a> <a id="48181" href="NbE.html#12521" class="Function">Ren</a> <a id="48185" href="NbE.html#48089" class="Bound">Î</a> <a id="48187" href="NbE.html#48091" class="Bound">Î</a><a id="48188" class="Symbol">}</a>
                         <a id="48215" class="Symbol">â</a> <a id="48217" href="NbE.html#48112" class="Bound">Î³</a> <a id="48219" href="NbE.html#47820" class="Function Operator">â©Ê³</a> <a id="48222" href="NbE.html#48177" class="Bound">Ï</a> <a id="48224" href="NbE.html#47820" class="Function Operator">~</a> <a id="48226" href="NbE.html#48124" class="Bound">Î´</a>
                         <a id="48253" class="Symbol">â</a> <a id="48255" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="48258" href="NbE.html#48165" class="Bound">t</a> <a id="48260" href="NbE.html#14333" class="Function Operator">[</a> <a id="48262" href="NbE.html#48177" class="Bound">Ï</a> <a id="48264" href="NbE.html#14333" class="Function Operator">]Ê³</a> <a id="48267" href="NbE.html#43873" class="Function Operator">â§</a> <a id="48269" href="NbE.html#48112" class="Bound">Î³</a> <a id="48271" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="48273" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="48276" href="NbE.html#48165" class="Bound">t</a> <a id="48278" href="NbE.html#43873" class="Function Operator">â§</a> <a id="48280" href="NbE.html#48124" class="Bound">Î´</a>
<a id="48282" href="NbE.html#48059" class="Function">rename-preserves-meaning</a> <a id="48307" class="Symbol">{</a><a id="48308" class="Argument">t</a> <a id="48310" class="Symbol">=</a> <a id="48312" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="48316" class="Symbol">}</a> <a id="48318" href="NbE.html#48318" class="Bound">pf</a> <a id="48321" class="Symbol">=</a> <a id="48323" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="48328" href="NbE.html#48059" class="Function">rename-preserves-meaning</a> <a id="48353" class="Symbol">{</a><a id="48354" class="Argument">t</a> <a id="48356" class="Symbol">=</a> <a id="48358" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="48360" href="NbE.html#48360" class="Bound">x</a><a id="48361" class="Symbol">}</a> <a id="48363" href="NbE.html#48363" class="Bound">pf</a> <a id="48366" class="Symbol">=</a> <a id="48368" href="NbE.html#48363" class="Bound">pf</a> <a id="48371" href="NbE.html#48360" class="Bound">x</a>
<a id="48373" href="NbE.html#48059" class="Function">rename-preserves-meaning</a> <a id="48398" class="Symbol">{</a><a id="48399" class="Argument">Î</a> <a id="48401" class="Symbol">=</a> <a id="48403" href="NbE.html#48403" class="Bound">Î</a><a id="48404" class="Symbol">}</a> <a id="48406" class="Symbol">{</a><a id="48407" href="NbE.html#48407" class="Bound">S</a> <a id="48409" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="48411" class="Symbol">_}</a> <a id="48414" class="Symbol">{</a><a id="48415" href="NbE.html#48415" class="Bound">Î³</a><a id="48416" class="Symbol">}</a> <a id="48418" class="Symbol">{</a><a id="48419" href="NbE.html#48419" class="Bound">Î´</a><a id="48420" class="Symbol">}</a> <a id="48422" class="Symbol">{</a><a id="48423" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="48425" href="NbE.html#48425" class="Bound">t</a><a id="48426" class="Symbol">}</a> <a id="48428" class="Symbol">{</a><a id="48429" href="NbE.html#48429" class="Bound">Ï</a><a id="48430" class="Symbol">}</a> <a id="48432" href="NbE.html#48432" class="Bound">pf</a> <a id="48435" class="Symbol">=</a>
  <a id="48439" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="48454" class="Symbol">Î»{</a><a id="48456" href="NbE.html#48456" class="Bound">a</a> <a id="48458" class="Symbol">â</a> <a id="48460" href="NbE.html#48059" class="Function">rename-preserves-meaning</a> <a id="48485" class="Symbol">{</a><a id="48486" class="Argument">t</a> <a id="48488" class="Symbol">=</a> <a id="48490" href="NbE.html#48425" class="Bound">t</a><a id="48491" class="Symbol">}</a> <a id="48493" class="Symbol">{</a><a id="48494" href="NbE.html#14229" class="Function">ext</a> <a id="48498" href="NbE.html#48429" class="Bound">Ï</a><a id="48499" class="Symbol">}</a> <a id="48501" class="Symbol">(</a><a id="48502" href="NbE.html#48526" class="Function">lemma</a> <a id="48508" class="Symbol">{</a><a id="48509" href="NbE.html#48456" class="Bound">a</a><a id="48510" class="Symbol">})}</a>
  <a id="48516" class="Keyword">where</a>
    <a id="48526" href="NbE.html#48526" class="Function">lemma</a> <a id="48532" class="Symbol">:</a> <a id="48534" class="Symbol">â</a> <a id="48536" class="Symbol">{</a><a id="48537" href="NbE.html#48537" class="Bound">a</a> <a id="48539" class="Symbol">:</a> <a id="48541" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="48543" href="NbE.html#48407" class="Bound">S</a> <a id="48545" href="NbE.html#34437" class="Field Operator">â§</a><a id="48546" class="Symbol">}</a> <a id="48548" class="Symbol">{</a><a id="48549" href="NbE.html#48549" class="Bound">T</a> <a id="48551" class="Symbol">:</a> <a id="48553" href="NbE.html#3029" class="Datatype">Type</a><a id="48557" class="Symbol">}</a> <a id="48559" class="Symbol">(</a><a id="48560" href="NbE.html#48560" class="Bound">x</a> <a id="48562" class="Symbol">:</a> <a id="48564" href="NbE.html#48403" class="Bound">Î</a> <a id="48566" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="48568" href="NbE.html#48407" class="Bound">S</a> <a id="48570" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="48572" href="NbE.html#48549" class="Bound">T</a><a id="48573" class="Symbol">)</a>
          <a id="48585" class="Symbol">â</a> <a id="48587" href="NbE.html#43721" class="Function">env-lookup</a> <a id="48598" class="Symbol">(</a><a id="48599" href="NbE.html#14229" class="Function">ext</a> <a id="48603" href="NbE.html#48429" class="Bound">Ï</a> <a id="48605" href="NbE.html#48560" class="Bound">x</a><a id="48606" class="Symbol">)</a> <a id="48608" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="48610" href="NbE.html#48415" class="Bound">Î³</a> <a id="48612" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="48614" href="NbE.html#48537" class="Bound">a</a> <a id="48616" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="48618" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="48620" href="NbE.html#43721" class="Function">env-lookup</a> <a id="48631" href="NbE.html#48560" class="Bound">x</a> <a id="48633" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="48635" href="NbE.html#48419" class="Bound">Î´</a> <a id="48637" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="48639" href="NbE.html#48537" class="Bound">a</a> <a id="48641" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
    <a id="48647" href="NbE.html#48526" class="Function">lemma</a> <a id="48653" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="48659" class="Symbol">=</a> <a id="48661" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
    <a id="48670" href="NbE.html#48526" class="Function">lemma</a> <a id="48676" class="Symbol">(</a><a id="48677" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="48679" href="NbE.html#48679" class="Bound">x</a><a id="48680" class="Symbol">)</a> <a id="48682" class="Symbol">=</a> <a id="48684" href="NbE.html#48432" class="Bound">pf</a> <a id="48687" href="NbE.html#48679" class="Bound">x</a>
<a id="48689" href="NbE.html#48059" class="Function">rename-preserves-meaning</a> <a id="48714" class="Symbol">{</a><a id="48715" class="Argument">t</a> <a id="48717" class="Symbol">=</a> <a id="48719" href="NbE.html#48719" class="Bound">r</a> <a id="48721" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="48723" href="NbE.html#48723" class="Bound">s</a><a id="48724" class="Symbol">}</a> <a id="48726" class="Symbol">{</a><a id="48727" href="NbE.html#48727" class="Bound">Ï</a><a id="48728" class="Symbol">}</a> <a id="48730" href="NbE.html#48730" class="Bound">pf</a>
  <a id="48735" class="Keyword">rewrite</a> <a id="48743" href="NbE.html#48059" class="Function">rename-preserves-meaning</a> <a id="48768" class="Symbol">{</a><a id="48769" class="Argument">t</a> <a id="48771" class="Symbol">=</a> <a id="48773" href="NbE.html#48719" class="Bound">r</a><a id="48774" class="Symbol">}</a> <a id="48776" class="Symbol">{</a><a id="48777" href="NbE.html#48727" class="Bound">Ï</a><a id="48778" class="Symbol">}</a> <a id="48780" href="NbE.html#48730" class="Bound">pf</a>
        <a id="48791" class="Symbol">|</a> <a id="48793" href="NbE.html#48059" class="Function">rename-preserves-meaning</a> <a id="48818" class="Symbol">{</a><a id="48819" class="Argument">t</a> <a id="48821" class="Symbol">=</a> <a id="48823" href="NbE.html#48723" class="Bound">s</a><a id="48824" class="Symbol">}</a> <a id="48826" class="Symbol">{</a><a id="48827" href="NbE.html#48727" class="Bound">Ï</a><a id="48828" class="Symbol">}</a> <a id="48830" href="NbE.html#48730" class="Bound">pf</a> <a id="48833" class="Symbol">=</a> <a id="48835" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
A substitution `Î â¢ Ï : Î` relates an environment `Î³ â â¦ Î â§` to an environment
`Î´ â â¦ Î â§` iff for every variable `x` in the context `Î`, the evaluation of
`Ï x` under the environment `Î³` is equivalent to the semantic object in `Î´`
corresponding to the variable `x`:

    Î³ â© Ï ~ Î´ â â x. â¦â¢ Ï x â§ Î³ â¡ â¦â¢ Î â x:T â§ Î´

<pre class="Agda"><a id="_â©_~_"></a><a id="49172" href="NbE.html#49172" class="Function Operator">_â©_~_</a> <a id="49178" class="Symbol">:</a> <a id="49180" class="Symbol">â</a> <a id="49182" class="Symbol">{</a><a id="49183" href="NbE.html#49183" class="Bound">Î</a> <a id="49185" href="NbE.html#49185" class="Bound">Î</a> <a id="49187" class="Symbol">:</a> <a id="49189" href="NbE.html#3822" class="Datatype">Ctx</a><a id="49192" class="Symbol">}</a> <a id="49194" class="Symbol">â</a> <a id="49196" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="49198" href="NbE.html#49183" class="Bound">Î</a> <a id="49200" href="NbE.html#34437" class="Field Operator">â§</a> <a id="49202" class="Symbol">â</a> <a id="49204" href="NbE.html#11534" class="Function">Sub</a> <a id="49208" href="NbE.html#49183" class="Bound">Î</a> <a id="49210" href="NbE.html#49185" class="Bound">Î</a> <a id="49212" class="Symbol">â</a> <a id="49214" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="49216" href="NbE.html#49185" class="Bound">Î</a> <a id="49218" href="NbE.html#34437" class="Field Operator">â§</a> <a id="49220" class="Symbol">â</a> <a id="49222" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="49226" href="NbE.html#49172" class="Function Operator">_â©_~_</a> <a id="49232" class="Symbol">{</a><a id="49233" class="Argument">Î</a> <a id="49235" class="Symbol">=</a> <a id="49237" href="NbE.html#49237" class="Bound">Î</a><a id="49238" class="Symbol">}</a> <a id="49240" href="NbE.html#49240" class="Bound">Î³</a> <a id="49242" href="NbE.html#49242" class="Bound">Ï</a> <a id="49244" href="NbE.html#49244" class="Bound">Î´</a> <a id="49246" class="Symbol">=</a> <a id="49248" class="Symbol">â</a> <a id="49250" class="Symbol">{</a><a id="49251" href="NbE.html#49251" class="Bound">T</a> <a id="49253" class="Symbol">:</a> <a id="49255" href="NbE.html#3029" class="Datatype">Type</a><a id="49259" class="Symbol">}</a> <a id="49261" class="Symbol">(</a><a id="49262" href="NbE.html#49262" class="Bound">x</a> <a id="49264" class="Symbol">:</a> <a id="49266" href="NbE.html#49237" class="Bound">Î</a> <a id="49268" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="49270" href="NbE.html#49251" class="Bound">T</a><a id="49271" class="Symbol">)</a> <a id="49273" class="Symbol">â</a> <a id="49275" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="49278" href="NbE.html#49242" class="Bound">Ï</a> <a id="49280" href="NbE.html#49262" class="Bound">x</a> <a id="49282" href="NbE.html#43873" class="Function Operator">â§</a> <a id="49284" href="NbE.html#49240" class="Bound">Î³</a> <a id="49286" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="49288" href="NbE.html#43721" class="Function">env-lookup</a> <a id="49299" href="NbE.html#49262" class="Bound">x</a> <a id="49301" href="NbE.html#49244" class="Bound">Î´</a>
</pre>
This relation allows for proving that substitutions preserve meaning, using a
lemma that the relation is closed under substitution extension.

<pre class="Agda"><a id="subst-exts"></a><a id="49459" href="NbE.html#49459" class="Function">subst-exts</a> <a id="49470" class="Symbol">:</a> <a id="49472" class="Symbol">â</a> <a id="49474" class="Symbol">{</a><a id="49475" href="NbE.html#49475" class="Bound">Î</a> <a id="49477" href="NbE.html#49477" class="Bound">Î</a> <a id="49479" class="Symbol">:</a> <a id="49481" href="NbE.html#3822" class="Datatype">Ctx</a><a id="49484" class="Symbol">}</a> <a id="49486" class="Symbol">{</a><a id="49487" href="NbE.html#49487" class="Bound">S</a> <a id="49489" class="Symbol">:</a> <a id="49491" href="NbE.html#3029" class="Datatype">Type</a><a id="49495" class="Symbol">}</a> <a id="49497" class="Symbol">{</a><a id="49498" href="NbE.html#49498" class="Bound">Î³</a> <a id="49500" class="Symbol">:</a> <a id="49502" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="49504" href="NbE.html#49475" class="Bound">Î</a> <a id="49506" href="NbE.html#34437" class="Field Operator">â§</a><a id="49507" class="Symbol">}</a> <a id="49509" class="Symbol">{</a><a id="49510" href="NbE.html#49510" class="Bound">a</a> <a id="49512" class="Symbol">:</a> <a id="49514" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="49516" href="NbE.html#49487" class="Bound">S</a> <a id="49518" href="NbE.html#34437" class="Field Operator">â§</a><a id="49519" class="Symbol">}</a> <a id="49521" class="Symbol">{</a><a id="49522" href="NbE.html#49522" class="Bound">Ï</a> <a id="49524" class="Symbol">:</a> <a id="49526" href="NbE.html#11534" class="Function">Sub</a> <a id="49530" href="NbE.html#49475" class="Bound">Î</a> <a id="49532" href="NbE.html#49477" class="Bound">Î</a><a id="49533" class="Symbol">}</a>
               <a id="49550" class="Symbol">{</a><a id="49551" href="NbE.html#49551" class="Bound">Î´</a> <a id="49553" class="Symbol">:</a> <a id="49555" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="49557" href="NbE.html#49477" class="Bound">Î</a> <a id="49559" href="NbE.html#34437" class="Field Operator">â§</a><a id="49560" class="Symbol">}</a>
           <a id="49573" class="Symbol">â</a> <a id="49575" href="NbE.html#49498" class="Bound">Î³</a> <a id="49577" href="NbE.html#49172" class="Function Operator">â©</a> <a id="49579" href="NbE.html#49522" class="Bound">Ï</a> <a id="49581" href="NbE.html#49172" class="Function Operator">~</a> <a id="49583" href="NbE.html#49551" class="Bound">Î´</a>
           <a id="49596" class="Symbol">â</a> <a id="49598" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="49600" href="NbE.html#49498" class="Bound">Î³</a> <a id="49602" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="49604" href="NbE.html#49510" class="Bound">a</a> <a id="49606" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="49608" href="NbE.html#49172" class="Function Operator">â©</a> <a id="49610" href="NbE.html#15268" class="Function">exts</a> <a id="49615" href="NbE.html#49522" class="Bound">Ï</a> <a id="49617" href="NbE.html#49172" class="Function Operator">~</a> <a id="49619" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="49621" href="NbE.html#49551" class="Bound">Î´</a> <a id="49623" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="49625" href="NbE.html#49510" class="Bound">a</a> <a id="49627" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
<a id="49629" href="NbE.html#49459" class="Function">subst-exts</a> <a id="49640" class="Symbol">_</a> <a id="49642" href="NbE.html#4481" class="InductiveConstructor">ð</a> <a id="49644" class="Symbol">=</a> <a id="49646" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="49651" href="NbE.html#49459" class="Function">subst-exts</a> <a id="49662" class="Symbol">{</a><a id="49663" class="Argument">Ï</a> <a id="49665" class="Symbol">=</a> <a id="49667" href="NbE.html#49667" class="Bound">Ï</a><a id="49668" class="Symbol">}</a> <a id="49670" href="NbE.html#49670" class="Bound">pf</a> <a id="49673" class="Symbol">(</a><a id="49674" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="49676" href="NbE.html#49676" class="Bound">x</a><a id="49677" class="Symbol">)</a> <a id="49679" class="Keyword">rewrite</a> <a id="49687" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="49691" class="Symbol">(</a><a id="49692" href="NbE.html#49670" class="Bound">pf</a> <a id="49695" href="NbE.html#49676" class="Bound">x</a><a id="49696" class="Symbol">)</a> <a id="49698" class="Symbol">=</a>
  <a id="49702" href="NbE.html#48059" class="Function">rename-preserves-meaning</a> <a id="49727" class="Symbol">{</a><a id="49728" class="Argument">t</a> <a id="49730" class="Symbol">=</a> <a id="49732" href="NbE.html#49667" class="Bound">Ï</a> <a id="49734" href="NbE.html#49676" class="Bound">x</a><a id="49735" class="Symbol">}</a> <a id="49737" class="Symbol">{</a><a id="49738" href="NbE.html#13126" class="Function">â¥Ê³</a><a id="49740" class="Symbol">}</a> <a id="49742" class="Symbol">Î»</a> <a id="49744" href="NbE.html#49744" class="Bound">_</a> <a id="49746" class="Symbol">â</a> <a id="49748" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="subst-preserves-meaning"></a><a id="49754" href="NbE.html#49754" class="Function">subst-preserves-meaning</a> <a id="49778" class="Symbol">:</a> <a id="49780" class="Symbol">â</a> <a id="49782" class="Symbol">{</a><a id="49783" href="NbE.html#49783" class="Bound">Î</a> <a id="49785" href="NbE.html#49785" class="Bound">Î</a> <a id="49787" class="Symbol">:</a> <a id="49789" href="NbE.html#3822" class="Datatype">Ctx</a><a id="49792" class="Symbol">}</a> <a id="49794" class="Symbol">{</a><a id="49795" href="NbE.html#49795" class="Bound">T</a> <a id="49797" class="Symbol">:</a> <a id="49799" href="NbE.html#3029" class="Datatype">Type</a><a id="49803" class="Symbol">}</a> <a id="49805" class="Symbol">{</a><a id="49806" href="NbE.html#49806" class="Bound">Î³</a> <a id="49808" class="Symbol">:</a> <a id="49810" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="49812" href="NbE.html#49783" class="Bound">Î</a> <a id="49814" href="NbE.html#34437" class="Field Operator">â§</a><a id="49815" class="Symbol">}</a> <a id="49817" class="Symbol">{</a><a id="49818" href="NbE.html#49818" class="Bound">Î´</a> <a id="49820" class="Symbol">:</a> <a id="49822" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="49824" href="NbE.html#49785" class="Bound">Î</a> <a id="49826" href="NbE.html#34437" class="Field Operator">â§</a><a id="49827" class="Symbol">}</a>
                            <a id="49857" class="Symbol">{</a><a id="49858" href="NbE.html#49858" class="Bound">Ï</a> <a id="49860" class="Symbol">:</a> <a id="49862" href="NbE.html#11534" class="Function">Sub</a> <a id="49866" href="NbE.html#49783" class="Bound">Î</a> <a id="49868" href="NbE.html#49785" class="Bound">Î</a><a id="49869" class="Symbol">}</a> <a id="49871" class="Symbol">{</a><a id="49872" href="NbE.html#49872" class="Bound">t</a> <a id="49874" class="Symbol">:</a> <a id="49876" href="NbE.html#49785" class="Bound">Î</a> <a id="49878" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="49880" href="NbE.html#49795" class="Bound">T</a><a id="49881" class="Symbol">}</a>
                        <a id="49907" class="Symbol">â</a> <a id="49909" href="NbE.html#49806" class="Bound">Î³</a> <a id="49911" href="NbE.html#49172" class="Function Operator">â©</a> <a id="49913" href="NbE.html#49858" class="Bound">Ï</a> <a id="49915" href="NbE.html#49172" class="Function Operator">~</a> <a id="49917" href="NbE.html#49818" class="Bound">Î´</a>
                        <a id="49943" class="Symbol">â</a> <a id="49945" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="49948" href="NbE.html#49872" class="Bound">t</a> <a id="49950" href="NbE.html#15385" class="Function Operator">[</a> <a id="49952" href="NbE.html#49858" class="Bound">Ï</a> <a id="49954" href="NbE.html#15385" class="Function Operator">]</a> <a id="49956" href="NbE.html#43873" class="Function Operator">â§</a> <a id="49958" href="NbE.html#49806" class="Bound">Î³</a> <a id="49960" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="49962" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="49965" href="NbE.html#49872" class="Bound">t</a> <a id="49967" href="NbE.html#43873" class="Function Operator">â§</a> <a id="49969" href="NbE.html#49818" class="Bound">Î´</a>
<a id="49971" href="NbE.html#49754" class="Function">subst-preserves-meaning</a> <a id="49995" class="Symbol">{</a><a id="49996" class="Argument">t</a> <a id="49998" class="Symbol">=</a> <a id="50000" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="50004" class="Symbol">}</a> <a id="50006" href="NbE.html#50006" class="Bound">x</a> <a id="50008" class="Symbol">=</a> <a id="50010" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="50015" href="NbE.html#49754" class="Function">subst-preserves-meaning</a> <a id="50039" class="Symbol">{</a><a id="50040" class="Argument">t</a> <a id="50042" class="Symbol">=</a> <a id="50044" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="50046" href="NbE.html#50046" class="Bound">x</a><a id="50047" class="Symbol">}</a> <a id="50049" href="NbE.html#50049" class="Bound">pf</a> <a id="50052" class="Symbol">=</a> <a id="50054" href="NbE.html#50049" class="Bound">pf</a> <a id="50057" href="NbE.html#50046" class="Bound">x</a>
<a id="50059" href="NbE.html#49754" class="Function">subst-preserves-meaning</a> <a id="50083" class="Symbol">{</a><a id="50084" class="Argument">T</a> <a id="50086" class="Symbol">=</a> <a id="50088" href="NbE.html#50088" class="Bound">S</a> <a id="50090" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="50092" href="NbE.html#50092" class="Bound">T</a><a id="50093" class="Symbol">}</a> <a id="50095" class="Symbol">{</a><a id="50096" href="NbE.html#50096" class="Bound">Î³</a><a id="50097" class="Symbol">}</a> <a id="50099" class="Symbol">{</a><a id="50100" href="NbE.html#50100" class="Bound">Î´</a><a id="50101" class="Symbol">}</a> <a id="50103" class="Symbol">{</a><a id="50104" href="NbE.html#50104" class="Bound">Ï</a><a id="50105" class="Symbol">}</a> <a id="50107" class="Symbol">{</a><a id="50108" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="50110" href="NbE.html#50110" class="Bound">t</a><a id="50111" class="Symbol">}</a> <a id="50113" href="NbE.html#50113" class="Bound">pf</a> <a id="50116" class="Symbol">=</a> <a id="50118" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="50133" href="NbE.html#50149" class="Function">lemma</a>
  <a id="50141" class="Keyword">where</a>
  <a id="50149" href="NbE.html#50149" class="Function">lemma</a> <a id="50155" class="Symbol">:</a> <a id="50157" class="Symbol">â</a> <a id="50159" class="Symbol">(</a><a id="50160" href="NbE.html#50160" class="Bound">a</a> <a id="50162" class="Symbol">:</a> <a id="50164" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="50166" href="NbE.html#50088" class="Bound">S</a> <a id="50168" href="NbE.html#34437" class="Field Operator">â§</a><a id="50169" class="Symbol">)</a> <a id="50171" class="Symbol">â</a> <a id="50173" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="50176" href="NbE.html#50110" class="Bound">t</a> <a id="50178" href="NbE.html#15385" class="Function Operator">[</a> <a id="50180" href="NbE.html#15268" class="Function">exts</a> <a id="50185" href="NbE.html#50104" class="Bound">Ï</a> <a id="50187" href="NbE.html#15385" class="Function Operator">]</a> <a id="50189" href="NbE.html#43873" class="Function Operator">â§</a> <a id="50191" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="50193" href="NbE.html#50096" class="Bound">Î³</a> <a id="50195" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="50197" href="NbE.html#50160" class="Bound">a</a> <a id="50199" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="50201" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="50203" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="50206" href="NbE.html#50110" class="Bound">t</a> <a id="50208" href="NbE.html#43873" class="Function Operator">â§</a> <a id="50210" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="50212" href="NbE.html#50100" class="Bound">Î´</a> <a id="50214" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="50216" href="NbE.html#50160" class="Bound">a</a> <a id="50218" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
  <a id="50222" href="NbE.html#50149" class="Function">lemma</a> <a id="50228" href="NbE.html#50228" class="Bound">a</a> <a id="50230" class="Symbol">=</a> <a id="50232" href="NbE.html#49754" class="Function">subst-preserves-meaning</a> <a id="50256" class="Symbol">{</a><a id="50257" class="Argument">Ï</a> <a id="50259" class="Symbol">=</a> <a id="50261" href="NbE.html#15268" class="Function">exts</a> <a id="50266" href="NbE.html#50104" class="Bound">Ï</a><a id="50267" class="Symbol">}</a> <a id="50269" class="Symbol">{</a><a id="50270" class="Argument">t</a> <a id="50272" class="Symbol">=</a> <a id="50274" href="NbE.html#50110" class="Bound">t</a><a id="50275" class="Symbol">}</a> <a id="50277" class="Symbol">(</a><a id="50278" href="NbE.html#49459" class="Function">subst-exts</a> <a id="50289" href="NbE.html#50113" class="Bound">pf</a><a id="50291" class="Symbol">)</a>
<a id="50293" href="NbE.html#49754" class="Function">subst-preserves-meaning</a> <a id="50317" class="Symbol">{</a><a id="50318" class="Argument">Ï</a> <a id="50320" class="Symbol">=</a> <a id="50322" href="NbE.html#50322" class="Bound">Ï</a><a id="50323" class="Symbol">}</a> <a id="50325" class="Symbol">{</a><a id="50326" href="NbE.html#50326" class="Bound">r</a> <a id="50328" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="50330" href="NbE.html#50330" class="Bound">s</a><a id="50331" class="Symbol">}</a> <a id="50333" href="NbE.html#50333" class="Bound">pf</a>
  <a id="50338" class="Keyword">rewrite</a> <a id="50346" href="NbE.html#49754" class="Function">subst-preserves-meaning</a> <a id="50370" class="Symbol">{</a><a id="50371" class="Argument">Ï</a> <a id="50373" class="Symbol">=</a> <a id="50375" href="NbE.html#50322" class="Bound">Ï</a><a id="50376" class="Symbol">}</a> <a id="50378" class="Symbol">{</a><a id="50379" href="NbE.html#50326" class="Bound">r</a><a id="50380" class="Symbol">}</a> <a id="50382" href="NbE.html#50333" class="Bound">pf</a>
        <a id="50393" class="Symbol">|</a> <a id="50395" href="NbE.html#49754" class="Function">subst-preserves-meaning</a> <a id="50419" class="Symbol">{</a><a id="50420" class="Argument">Ï</a> <a id="50422" class="Symbol">=</a> <a id="50424" href="NbE.html#50322" class="Bound">Ï</a><a id="50425" class="Symbol">}</a> <a id="50427" class="Symbol">{</a><a id="50428" href="NbE.html#50330" class="Bound">s</a><a id="50429" class="Symbol">}</a> <a id="50431" href="NbE.html#50333" class="Bound">pf</a> <a id="50434" class="Symbol">=</a> <a id="50436" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
A corollary of this is that Î²-reductions preserve meaning:

<pre class="Agda"><a id="Î²-preserves-meaning"></a><a id="50514" href="NbE.html#50514" class="Function">Î²-preserves-meaning</a> <a id="50534" class="Symbol">:</a> <a id="50536" class="Symbol">â</a> <a id="50538" class="Symbol">{</a><a id="50539" href="NbE.html#50539" class="Bound">Î</a> <a id="50541" class="Symbol">:</a> <a id="50543" href="NbE.html#3822" class="Datatype">Ctx</a><a id="50546" class="Symbol">}</a> <a id="50548" class="Symbol">{</a><a id="50549" href="NbE.html#50549" class="Bound">S</a> <a id="50551" href="NbE.html#50551" class="Bound">T</a> <a id="50553" class="Symbol">:</a> <a id="50555" href="NbE.html#3029" class="Datatype">Type</a><a id="50559" class="Symbol">}</a> <a id="50561" class="Symbol">{</a><a id="50562" href="NbE.html#50562" class="Bound">Î³</a> <a id="50564" class="Symbol">:</a> <a id="50566" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="50568" href="NbE.html#50539" class="Bound">Î</a> <a id="50570" href="NbE.html#34437" class="Field Operator">â§</a><a id="50571" class="Symbol">}</a> <a id="50573" class="Symbol">{</a><a id="50574" href="NbE.html#50574" class="Bound">s</a> <a id="50576" class="Symbol">:</a> <a id="50578" href="NbE.html#50539" class="Bound">Î</a> <a id="50580" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="50582" href="NbE.html#50549" class="Bound">S</a><a id="50583" class="Symbol">}</a>
                        <a id="50609" class="Symbol">{</a><a id="50610" href="NbE.html#50610" class="Bound">t</a> <a id="50612" class="Symbol">:</a> <a id="50614" href="NbE.html#50539" class="Bound">Î</a> <a id="50616" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="50618" href="NbE.html#50549" class="Bound">S</a> <a id="50620" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="50622" href="NbE.html#50551" class="Bound">T</a><a id="50623" class="Symbol">}</a>
                    <a id="50645" class="Symbol">â</a> <a id="50647" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="50650" href="NbE.html#50610" class="Bound">t</a> <a id="50652" href="NbE.html#43873" class="Function Operator">â§</a> <a id="50654" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="50656" href="NbE.html#50562" class="Bound">Î³</a> <a id="50658" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="50660" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="50663" href="NbE.html#50574" class="Bound">s</a> <a id="50665" href="NbE.html#43873" class="Function Operator">â§</a> <a id="50667" href="NbE.html#50562" class="Bound">Î³</a> <a id="50669" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="50671" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="50673" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="50676" href="NbE.html#50610" class="Bound">t</a> <a id="50678" href="NbE.html#29262" class="Function Operator">[</a> <a id="50680" href="NbE.html#50574" class="Bound">s</a> <a id="50682" href="NbE.html#29262" class="Function Operator">]â</a> <a id="50685" href="NbE.html#43873" class="Function Operator">â§</a> <a id="50687" href="NbE.html#50562" class="Bound">Î³</a>
<a id="50689" href="NbE.html#50514" class="Function">Î²-preserves-meaning</a> <a id="50709" class="Symbol">{</a><a id="50710" href="NbE.html#50710" class="Bound">Î</a><a id="50711" class="Symbol">}</a> <a id="50713" class="Symbol">{</a><a id="50714" href="NbE.html#50714" class="Bound">S</a><a id="50715" class="Symbol">}</a> <a id="50717" class="Symbol">{</a><a id="50718" class="Argument">Î³</a> <a id="50720" class="Symbol">=</a> <a id="50722" href="NbE.html#50722" class="Bound">Î³</a><a id="50723" class="Symbol">}</a> <a id="50725" class="Symbol">{</a><a id="50726" href="NbE.html#50726" class="Bound">s</a><a id="50727" class="Symbol">}</a> <a id="50729" class="Symbol">{</a><a id="50730" href="NbE.html#50730" class="Bound">t</a><a id="50731" class="Symbol">}</a> <a id="50733" class="Symbol">=</a>
  <a id="50737" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="50741" class="Symbol">(</a><a id="50742" href="NbE.html#49754" class="Function">subst-preserves-meaning</a> <a id="50766" class="Symbol">{</a><a id="50767" class="Argument">Î³</a> <a id="50769" class="Symbol">=</a> <a id="50771" href="NbE.html#50722" class="Bound">Î³</a><a id="50772" class="Symbol">}</a> <a id="50774" class="Symbol">{</a><a id="50775" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="50777" href="NbE.html#50722" class="Bound">Î³</a> <a id="50779" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="50781" href="NbE.html#50816" class="Function">a</a> <a id="50783" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a><a id="50784" class="Symbol">}</a> <a id="50786" class="Symbol">{</a><a id="50787" href="NbE.html#15894" class="Function">id</a> <a id="50790" href="NbE.html#16436" class="Function Operator">â·</a> <a id="50792" href="NbE.html#50726" class="Bound">s</a><a id="50793" class="Symbol">}</a> <a id="50795" class="Symbol">{</a><a id="50796" href="NbE.html#50730" class="Bound">t</a><a id="50797" class="Symbol">}</a> <a id="50799" href="NbE.html#50831" class="Function">lemma</a><a id="50804" class="Symbol">)</a>
  <a id="50808" class="Keyword">where</a>
  <a id="50816" href="NbE.html#50816" class="Function">a</a> <a id="50818" class="Symbol">=</a> <a id="50820" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="50823" href="NbE.html#50726" class="Bound">s</a> <a id="50825" href="NbE.html#43873" class="Function Operator">â§</a> <a id="50827" href="NbE.html#50722" class="Bound">Î³</a>
  <a id="50831" href="NbE.html#50831" class="Function">lemma</a> <a id="50837" class="Symbol">:</a> <a id="50839" class="Symbol">â</a> <a id="50841" class="Symbol">{</a><a id="50842" href="NbE.html#50842" class="Bound">T</a> <a id="50844" class="Symbol">:</a> <a id="50846" href="NbE.html#3029" class="Datatype">Type</a><a id="50850" class="Symbol">}</a>
        <a id="50860" class="Symbol">â</a> <a id="50862" class="Symbol">(</a><a id="50863" href="NbE.html#50863" class="Bound">x</a> <a id="50865" class="Symbol">:</a> <a id="50867" href="NbE.html#50710" class="Bound">Î</a> <a id="50869" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="50871" href="NbE.html#50714" class="Bound">S</a> <a id="50873" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="50875" href="NbE.html#50842" class="Bound">T</a><a id="50876" class="Symbol">)</a>
        <a id="50886" class="Symbol">â</a> <a id="50888" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="50891" class="Symbol">(</a><a id="50892" href="NbE.html#15894" class="Function">id</a> <a id="50895" href="NbE.html#16436" class="Function Operator">â·</a> <a id="50897" href="NbE.html#50726" class="Bound">s</a><a id="50898" class="Symbol">)</a> <a id="50900" href="NbE.html#50863" class="Bound">x</a> <a id="50902" href="NbE.html#43873" class="Function Operator">â§</a> <a id="50904" href="NbE.html#50722" class="Bound">Î³</a> <a id="50906" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="50908" href="NbE.html#43721" class="Function">env-lookup</a> <a id="50919" href="NbE.html#50863" class="Bound">x</a> <a id="50921" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="50923" href="NbE.html#50722" class="Bound">Î³</a> <a id="50925" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="50927" href="NbE.html#50816" class="Function">a</a> <a id="50929" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
  <a id="50933" href="NbE.html#50831" class="Function">lemma</a> <a id="50939" href="NbE.html#4481" class="InductiveConstructor">ð</a>     <a id="50945" class="Symbol">=</a> <a id="50947" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="50954" href="NbE.html#50831" class="Function">lemma</a> <a id="50960" class="Symbol">(</a><a id="50961" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="50963" href="NbE.html#50963" class="Bound">x</a><a id="50964" class="Symbol">)</a> <a id="50966" class="Symbol">=</a> <a id="50968" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
Another corollary is that the shifting substitution preserves meaning on an
extended environment.

<pre class="Agda"><a id="â¥-preserves-meaning"></a><a id="51085" href="NbE.html#51085" class="Function">â¥-preserves-meaning</a> <a id="51105" class="Symbol">:</a> <a id="51107" class="Symbol">â</a> <a id="51109" class="Symbol">{</a><a id="51110" href="NbE.html#51110" class="Bound">Î</a> <a id="51112" class="Symbol">:</a> <a id="51114" href="NbE.html#3822" class="Datatype">Ctx</a><a id="51117" class="Symbol">}</a> <a id="51119" class="Symbol">{</a><a id="51120" href="NbE.html#51120" class="Bound">S</a> <a id="51122" href="NbE.html#51122" class="Bound">T</a> <a id="51124" class="Symbol">:</a> <a id="51126" href="NbE.html#3029" class="Datatype">Type</a><a id="51130" class="Symbol">}</a> <a id="51132" class="Symbol">{</a><a id="51133" href="NbE.html#51133" class="Bound">t</a> <a id="51135" class="Symbol">:</a> <a id="51137" href="NbE.html#51110" class="Bound">Î</a> <a id="51139" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="51141" href="NbE.html#51122" class="Bound">T</a><a id="51142" class="Symbol">}</a> <a id="51144" class="Symbol">{</a><a id="51145" href="NbE.html#51145" class="Bound">Î³</a> <a id="51147" class="Symbol">:</a> <a id="51149" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="51151" href="NbE.html#51110" class="Bound">Î</a> <a id="51153" href="NbE.html#34437" class="Field Operator">â§</a><a id="51154" class="Symbol">}</a>
                        <a id="51180" class="Symbol">{</a><a id="51181" href="NbE.html#51181" class="Bound">a</a> <a id="51183" class="Symbol">:</a> <a id="51185" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="51187" href="NbE.html#51120" class="Bound">S</a> <a id="51189" href="NbE.html#34437" class="Field Operator">â§</a><a id="51190" class="Symbol">}</a>
                    <a id="51212" class="Symbol">â</a> <a id="51214" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="51217" href="NbE.html#51133" class="Bound">t</a> <a id="51219" href="NbE.html#43873" class="Function Operator">â§</a> <a id="51221" href="NbE.html#51145" class="Bound">Î³</a> <a id="51223" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="51225" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="51228" href="NbE.html#51133" class="Bound">t</a> <a id="51230" href="NbE.html#15385" class="Function Operator">[</a> <a id="51232" href="NbE.html#15933" class="Function">â¥</a> <a id="51234" href="NbE.html#15385" class="Function Operator">]</a> <a id="51236" href="NbE.html#43873" class="Function Operator">â§</a> <a id="51238" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="51240" href="NbE.html#51145" class="Bound">Î³</a> <a id="51242" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="51244" href="NbE.html#51181" class="Bound">a</a> <a id="51246" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
<a id="51248" href="NbE.html#51085" class="Function">â¥-preserves-meaning</a> <a id="51268" class="Symbol">{</a><a id="51269" class="Argument">t</a> <a id="51271" class="Symbol">=</a> <a id="51273" href="NbE.html#51273" class="Bound">t</a><a id="51274" class="Symbol">}</a> <a id="51276" class="Symbol">{</a><a id="51277" href="NbE.html#51277" class="Bound">Î³</a><a id="51278" class="Symbol">}</a> <a id="51280" class="Symbol">{</a><a id="51281" href="NbE.html#51281" class="Bound">a</a><a id="51282" class="Symbol">}</a> <a id="51284" class="Symbol">=</a>
  <a id="51288" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="51292" class="Symbol">(</a><a id="51293" href="NbE.html#49754" class="Function">subst-preserves-meaning</a> <a id="51317" class="Symbol">{</a><a id="51318" class="Argument">Î³</a> <a id="51320" class="Symbol">=</a> <a id="51322" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="51324" href="NbE.html#51277" class="Bound">Î³</a> <a id="51326" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="51328" href="NbE.html#51281" class="Bound">a</a> <a id="51330" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a><a id="51331" class="Symbol">}</a> <a id="51333" class="Symbol">{</a><a id="51334" href="NbE.html#51277" class="Bound">Î³</a><a id="51335" class="Symbol">}</a> <a id="51337" class="Symbol">{</a><a id="51338" href="NbE.html#15933" class="Function">â¥</a><a id="51339" class="Symbol">}</a> <a id="51341" class="Symbol">{</a><a id="51342" href="NbE.html#51273" class="Bound">t</a><a id="51343" class="Symbol">}</a> <a id="51345" class="Symbol">Î»{_</a> <a id="51349" class="Symbol">â</a> <a id="51351" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="51355" class="Symbol">})</a>
</pre>
With these lemmas, it is possible to prove that definitional equality implies
semantic equality.
--->
<pre class="Agda"><a id="==ââ¦â¡â§"></a><a id="51473" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="51480" class="Symbol">:</a> <a id="51482" class="Symbol">â</a> <a id="51484" class="Symbol">{</a><a id="51485" href="NbE.html#51485" class="Bound">Î</a> <a id="51487" class="Symbol">:</a> <a id="51489" href="NbE.html#3822" class="Datatype">Ctx</a><a id="51492" class="Symbol">}</a> <a id="51494" class="Symbol">{</a><a id="51495" href="NbE.html#51495" class="Bound">T</a> <a id="51497" class="Symbol">:</a> <a id="51499" href="NbE.html#3029" class="Datatype">Type</a><a id="51503" class="Symbol">}</a> <a id="51505" class="Symbol">{</a><a id="51506" href="NbE.html#51506" class="Bound">t</a> <a id="51508" href="NbE.html#51508" class="Bound">tâ²</a> <a id="51511" class="Symbol">:</a> <a id="51513" href="NbE.html#51485" class="Bound">Î</a> <a id="51515" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="51517" href="NbE.html#51495" class="Bound">T</a><a id="51518" class="Symbol">}</a> <a id="51520" class="Symbol">{</a><a id="51521" href="NbE.html#51521" class="Bound">Î³</a> <a id="51523" class="Symbol">:</a> <a id="51525" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="51527" href="NbE.html#51485" class="Bound">Î</a> <a id="51529" href="NbE.html#34437" class="Field Operator">â§</a><a id="51530" class="Symbol">}</a>
       <a id="51539" class="Symbol">â</a> <a id="51541" href="NbE.html#51506" class="Bound">t</a> <a id="51543" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="51546" href="NbE.html#51508" class="Bound">tâ²</a>
       <a id="51556" class="Symbol">â</a> <a id="51558" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="51561" href="NbE.html#51506" class="Bound">t</a> <a id="51563" href="NbE.html#43873" class="Function Operator">â§</a> <a id="51565" href="NbE.html#51521" class="Bound">Î³</a> <a id="51567" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="51569" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="51572" href="NbE.html#51508" class="Bound">tâ²</a> <a id="51575" href="NbE.html#43873" class="Function Operator">â§</a> <a id="51577" href="NbE.html#51521" class="Bound">Î³</a>
</pre>
<!---
<pre class="Agda"><a id="51593" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="51600" class="Symbol">{</a><a id="51601" class="Argument">Î³</a> <a id="51603" class="Symbol">=</a> <a id="51605" href="NbE.html#51605" class="Bound">Î³</a><a id="51606" class="Symbol">}</a> <a id="51608" class="Symbol">(</a><a id="51609" href="NbE.html#30247" class="InductiveConstructor">Î²</a> <a id="51611" class="Symbol">{</a><a id="51612" class="Argument">t</a> <a id="51614" class="Symbol">=</a> <a id="51616" href="NbE.html#51616" class="Bound">t</a><a id="51617" class="Symbol">}</a> <a id="51619" class="Symbol">{</a><a id="51620" class="Argument">s</a> <a id="51622" class="Symbol">=</a> <a id="51624" href="NbE.html#51624" class="Bound">s</a><a id="51625" class="Symbol">})</a> <a id="51628" class="Symbol">=</a> <a id="51630" href="NbE.html#50514" class="Function">Î²-preserves-meaning</a> <a id="51650" class="Symbol">{</a><a id="51651" class="Argument">Î³</a> <a id="51653" class="Symbol">=</a> <a id="51655" href="NbE.html#51605" class="Bound">Î³</a><a id="51656" class="Symbol">}</a> <a id="51658" class="Symbol">{</a><a id="51659" href="NbE.html#51624" class="Bound">s</a><a id="51660" class="Symbol">}</a> <a id="51662" class="Symbol">{</a><a id="51663" href="NbE.html#51616" class="Bound">t</a><a id="51664" class="Symbol">}</a>
<a id="51666" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="51673" class="Symbol">{</a><a id="51674" class="Argument">T</a> <a id="51676" class="Symbol">=</a> <a id="51678" href="NbE.html#51678" class="Bound">S</a> <a id="51680" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="51682" class="Symbol">_}</a> <a id="51685" class="Symbol">{</a><a id="51686" class="Argument">t</a> <a id="51688" class="Symbol">=</a> <a id="51690" href="NbE.html#51690" class="Bound">t</a><a id="51691" class="Symbol">}</a> <a id="51693" class="Symbol">{</a><a id="51694" class="Argument">Î³</a> <a id="51696" class="Symbol">=</a> <a id="51698" href="NbE.html#51698" class="Bound">Î³</a><a id="51699" class="Symbol">}</a> <a id="51701" href="NbE.html#30469" class="InductiveConstructor">Î·</a> <a id="51703" class="Symbol">=</a> <a id="51705" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="51720" href="NbE.html#51734" class="Function">lemma</a> <a id="51726" class="Keyword">where</a>
  <a id="51734" href="NbE.html#51734" class="Function">lemma</a> <a id="51740" class="Symbol">:</a> <a id="51742" class="Symbol">â</a> <a id="51744" class="Symbol">(</a><a id="51745" href="NbE.html#51745" class="Bound">a</a> <a id="51747" class="Symbol">:</a> <a id="51749" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="51751" href="NbE.html#51678" class="Bound">S</a> <a id="51753" href="NbE.html#34437" class="Field Operator">â§</a><a id="51754" class="Symbol">)</a> <a id="51756" class="Symbol">â</a> <a id="51758" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="51761" href="NbE.html#51690" class="Bound">t</a> <a id="51763" href="NbE.html#43873" class="Function Operator">â§</a> <a id="51765" href="NbE.html#51698" class="Bound">Î³</a> <a id="51767" href="NbE.html#51745" class="Bound">a</a> <a id="51769" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="51771" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="51774" href="NbE.html#51690" class="Bound">t</a> <a id="51776" href="NbE.html#15385" class="Function Operator">[</a> <a id="51778" href="NbE.html#15933" class="Function">â¥</a> <a id="51780" href="NbE.html#15385" class="Function Operator">]</a> <a id="51782" href="NbE.html#43873" class="Function Operator">â§</a> <a id="51784" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="51786" href="NbE.html#51698" class="Bound">Î³</a> <a id="51788" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="51790" href="NbE.html#51745" class="Bound">a</a> <a id="51792" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="51794" href="NbE.html#51745" class="Bound">a</a>
  <a id="51798" href="NbE.html#51734" class="Function">lemma</a> <a id="51804" href="NbE.html#51804" class="Bound">a</a> <a id="51806" class="Keyword">rewrite</a> <a id="51814" href="NbE.html#51085" class="Function">â¥-preserves-meaning</a> <a id="51834" class="Symbol">{</a><a id="51835" class="Argument">t</a> <a id="51837" class="Symbol">=</a> <a id="51839" href="NbE.html#51690" class="Bound">t</a><a id="51840" class="Symbol">}</a> <a id="51842" class="Symbol">{</a><a id="51843" href="NbE.html#51698" class="Bound">Î³</a><a id="51844" class="Symbol">}</a> <a id="51846" class="Symbol">{</a><a id="51847" href="NbE.html#51804" class="Bound">a</a><a id="51848" class="Symbol">}</a> <a id="51850" class="Symbol">=</a> <a id="51852" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="51857" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="51864" class="Symbol">{</a><a id="51865" class="Argument">Î³</a> <a id="51867" class="Symbol">=</a> <a id="51869" href="NbE.html#51869" class="Bound">Î³</a><a id="51870" class="Symbol">}</a> <a id="51872" class="Symbol">(</a><a id="51873" href="NbE.html#30605" class="InductiveConstructor">abs-compatible</a> <a id="51888" href="NbE.html#51888" class="Bound">t==tâ²</a><a id="51893" class="Symbol">)</a> <a id="51895" class="Symbol">=</a>
  <a id="51899" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="51914" class="Symbol">(Î»</a> <a id="51917" href="NbE.html#51917" class="Bound">a</a> <a id="51919" class="Symbol">â</a> <a id="51921" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="51928" class="Symbol">{</a><a id="51929" class="Argument">Î³</a> <a id="51931" class="Symbol">=</a> <a id="51933" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="51935" href="NbE.html#51869" class="Bound">Î³</a> <a id="51937" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="51939" href="NbE.html#51917" class="Bound">a</a> <a id="51941" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a><a id="51942" class="Symbol">}</a> <a id="51944" href="NbE.html#51888" class="Bound">t==tâ²</a><a id="51949" class="Symbol">)</a>
<a id="51951" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="51958" class="Symbol">{</a><a id="51959" class="Argument">Î³</a> <a id="51961" class="Symbol">=</a> <a id="51963" href="NbE.html#51963" class="Bound">Î³</a><a id="51964" class="Symbol">}</a> <a id="51966" class="Symbol">(</a><a id="51967" href="NbE.html#30764" class="InductiveConstructor">app-compatible</a> <a id="51982" href="NbE.html#51982" class="Bound">r==râ²</a> <a id="51988" href="NbE.html#51988" class="Bound">s==sâ²</a><a id="51993" class="Symbol">)</a>
  <a id="51997" class="Keyword">rewrite</a> <a id="52005" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="52012" class="Symbol">{</a><a id="52013" class="Argument">Î³</a> <a id="52015" class="Symbol">=</a> <a id="52017" href="NbE.html#51963" class="Bound">Î³</a><a id="52018" class="Symbol">}</a> <a id="52020" href="NbE.html#51982" class="Bound">r==râ²</a> <a id="52026" class="Symbol">|</a> <a id="52028" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="52035" class="Symbol">{</a><a id="52036" class="Argument">Î³</a> <a id="52038" class="Symbol">=</a> <a id="52040" href="NbE.html#51963" class="Bound">Î³</a><a id="52041" class="Symbol">}</a> <a id="52043" href="NbE.html#51988" class="Bound">s==sâ²</a> <a id="52049" class="Symbol">=</a> <a id="52051" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="52056" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="52063" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a> <a id="52070" class="Symbol">=</a> <a id="52072" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="52077" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="52084" class="Symbol">(</a><a id="52085" href="NbE.html#31104" class="InductiveConstructor">symâ¼â¼</a> <a id="52091" href="NbE.html#52091" class="Bound">tâ²==t</a><a id="52096" class="Symbol">)</a> <a id="52098" class="Symbol">=</a> <a id="52100" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="52104" class="Symbol">(</a><a id="52105" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="52112" href="NbE.html#52091" class="Bound">tâ²==t</a><a id="52117" class="Symbol">)</a>
<a id="52119" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="52126" class="Symbol">(</a><a id="52127" href="NbE.html#31207" class="InductiveConstructor">transâ¼â¼</a> <a id="52135" href="NbE.html#52135" class="Bound">tâ==tâ</a> <a id="52142" href="NbE.html#52142" class="Bound">tâ==tâ</a><a id="52148" class="Symbol">)</a> <a id="52150" class="Symbol">=</a> <a id="52152" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="52158" class="Symbol">(</a><a id="52159" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="52166" href="NbE.html#52135" class="Bound">tâ==tâ</a><a id="52172" class="Symbol">)</a> <a id="52174" class="Symbol">(</a><a id="52175" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="52182" href="NbE.html#52142" class="Bound">tâ==tâ</a><a id="52188" class="Symbol">)</a>
</pre>--->
<p>We consider our algorithm for normalization by evaluation complete if
two terms that are definitionally equal (and thus have the same meaning)
have the same normal form:</p>
<pre><code>Î â¢ t = tâ² : T implies nf(t) = nf(tâ²)</code></pre>
<p>Expanding out <code>nf</code> here gives us the following
theorem:</p>
<pre><code>Î â¢ t = tâ² : T â âáµ (â¦ t â§ âÎ) Î = âáµ (â¦ tâ² â§ âÎ) Î</code></pre>
<p>This follows directly from <code>Î â¢ t = tâ² : T</code> implying that
<code>â¦ t â§ = â¦ tâ² â§</code>.</p>
<pre class="Agda"><a id="completeness"></a><a id="52613" href="NbE.html#52613" class="Function">completeness</a> <a id="52626" class="Symbol">:</a> <a id="52628" class="Symbol">â</a> <a id="52630" class="Symbol">{</a><a id="52631" href="NbE.html#52631" class="Bound">Î</a> <a id="52633" class="Symbol">:</a> <a id="52635" href="NbE.html#3822" class="Datatype">Ctx</a><a id="52638" class="Symbol">}</a> <a id="52640" class="Symbol">{</a><a id="52641" href="NbE.html#52641" class="Bound">T</a> <a id="52643" class="Symbol">:</a> <a id="52645" href="NbE.html#3029" class="Datatype">Type</a><a id="52649" class="Symbol">}</a> <a id="52651" class="Symbol">{</a><a id="52652" href="NbE.html#52652" class="Bound">t</a> <a id="52654" href="NbE.html#52654" class="Bound">tâ²</a> <a id="52657" class="Symbol">:</a> <a id="52659" href="NbE.html#52631" class="Bound">Î</a> <a id="52661" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="52663" href="NbE.html#52641" class="Bound">T</a><a id="52664" class="Symbol">}</a>
             <a id="52679" class="Symbol">â</a> <a id="52681" href="NbE.html#52652" class="Bound">t</a> <a id="52683" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="52686" href="NbE.html#52654" class="Bound">tâ²</a>
             <a id="52702" class="Symbol">â</a> <a id="52704" href="NbE.html#46740" class="Function">nf</a> <a id="52707" href="NbE.html#52652" class="Bound">t</a> <a id="52709" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="52711" href="NbE.html#46740" class="Function">nf</a> <a id="52714" href="NbE.html#52654" class="Bound">tâ²</a>
<a id="52717" href="NbE.html#52613" class="Function">completeness</a> <a id="52730" class="Symbol">{</a><a id="52731" href="NbE.html#52731" class="Bound">Î</a><a id="52732" class="Symbol">}</a> <a id="52734" href="NbE.html#52734" class="Bound">t==tâ²</a> <a id="52740" class="Keyword">rewrite</a> <a id="52748" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="52755" class="Symbol">{</a><a id="52756" class="Argument">Î³</a> <a id="52758" class="Symbol">=</a> <a id="52760" href="NbE.html#46316" class="Function">âá¶áµË£</a> <a id="52765" href="NbE.html#52731" class="Bound">Î</a><a id="52766" class="Symbol">}</a> <a id="52768" href="NbE.html#52734" class="Bound">t==tâ²</a> <a id="52774" class="Symbol">=</a> <a id="52776" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<p>As for the soundness properties that we wanted from the
algorithm:</p>
<ul>
<li><p><code>Î â¢ nf(t) : T</code> (well-typedness of normal form)</p>
<p>We are using an intrinsically typed representation of terms, so this
property is given to us automatically</p></li>
<li><p><code>â¦ nf(t) â§ = â¦ t â§</code> (preservation of meaning)</p>
<p>As discussed, equality of functional terms in Agda is undecidable,
for which we have introduced definitional equality. Even proving that
<code>Î â¢ nf(t) = t : T</code> is difficult, and we will have to use a
logical relation to prove it in the following section</p></li>
<li><p><code>nf(nf(t)) = nf(t)</code> (idempotency)</p>
<p>This follows directly from the preservation of meaning and
completeness properties of the algorithm:</p>
<p>By the soundness property of preservation of meaning, we will have
<code>Î â¢ nf t = t : T</code>, which will in turn imply
<code>nf (nf t) = nf(t)</code> by the algorithmâs completeness</p></li>
</ul>
<h4 id="soundness">Soundness</h4>
<p>To prove that the algorithm for normalization by evaluation
implemented preserves the meaning of a program, we will prove that a
term is definitionally equal to its normal form:</p>
<p>Î â¢ t = nf(t) : T</p>
<p>In proving that a term is definitionally equal to its normal form, we
will have that <code>â¦ nf (t) â§ = â¦ t â§</code>, as definitional equality
implies semantic equality. This new property we wish to prove expands
to:</p>
<pre><code>Î â¢ t = âáµ a Î, where a = â¦ t â§ âÎ</code></pre>
<p>To prove this, we will establish a logical relation
<code>Î â¢ t : T â a</code> between a well-typed term
<code>Î â¢ t : T</code> and a semantic object in our meta language
<code>a â â¦ T â§</code> such that it implies
<code>Î â¢ t = âáµ a Î : T</code>. Later, we will prove that
<code>Î â¢ t : T â â¦ t â§ âÎ</code> (which will then finish our proof),
but we will focus on the logical relation itself for now.</p>
<p>For defining the relation in Agda, we will need to first define
another relation that âliftsâ definitional equality to include liftable
neutrals. If the liftable neutral can be lifted to the context
<code>Î</code>, this is just definitional equality. Otherwise, the
relation can never hold, as there is no lifted term in the context to
compare to.</p>
<pre class="Agda"><a id="_==^_"></a><a id="54848" href="NbE.html#54848" class="Function Operator">_==^_</a> <a id="54854" class="Symbol">:</a> <a id="54856" class="Symbol">{</a><a id="54857" href="NbE.html#54857" class="Bound">Î</a> <a id="54859" class="Symbol">:</a> <a id="54861" href="NbE.html#3822" class="Datatype">Ctx</a><a id="54864" class="Symbol">}</a> <a id="54866" class="Symbol">{</a><a id="54867" href="NbE.html#54867" class="Bound">T</a> <a id="54869" class="Symbol">:</a> <a id="54871" href="NbE.html#3029" class="Datatype">Type</a><a id="54875" class="Symbol">}</a> <a id="54877" class="Symbol">â</a> <a id="54879" href="NbE.html#54857" class="Bound">Î</a> <a id="54881" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="54883" href="NbE.html#54867" class="Bound">T</a> <a id="54885" class="Symbol">â</a> <a id="54887" href="NbE.html#41900" class="Function">Ne^</a> <a id="54891" href="NbE.html#54867" class="Bound">T</a> <a id="54893" class="Symbol">â</a> <a id="54895" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="54899" href="NbE.html#54848" class="Function Operator">_==^_</a> <a id="54905" class="Symbol">{</a><a id="54906" href="NbE.html#54906" class="Bound">Î</a><a id="54907" class="Symbol">}</a> <a id="54909" href="NbE.html#54909" class="Bound">t</a> <a id="54911" href="NbE.html#54911" class="Bound">ðÌ</a> <a id="54914" class="Keyword">with</a> <a id="54919" href="NbE.html#54911" class="Bound">ðÌ</a> <a id="54922" href="NbE.html#54906" class="Bound">Î</a>
<a id="54924" class="Symbol">...</a> <a id="54928" class="Symbol">|</a> <a id="54930" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="54935" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="54937" href="NbE.html#54937" class="Bound">ð</a> <a id="54939" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="54941" class="Symbol">_</a> <a id="54943" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>   <a id="54947" class="Symbol">=</a> <a id="54949" class="Bound">t</a> <a id="54951" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="54954" href="NbE.html#54937" class="Bound">ð</a>
<a id="54956" class="Symbol">...</a> <a id="54960" class="Symbol">|</a> <a id="54962" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="54967" class="Symbol">_</a>           <a id="54979" class="Symbol">=</a> <a id="54981" href="Data.Empty.html#526" class="Datatype">â¥</a>
</pre>
<!---
<pre class="Agda"><a id="54998" class="Keyword">infix</a> <a id="55004" class="Number">3</a> <a id="55006" href="NbE.html#54848" class="Function Operator">_==^_</a>
</pre>--->
<p>Formally, this relation represents the condition
<code>Î â¢ ð = ðÌ(Î) : T</code>, meaning that a term <code>ð</code> is
definitionally equal to the liftable neutral <code>ðÌ</code> lifted to
the context <code>Î</code>.</p>
<p>We also need to define a relation lifting definitional equality to
the unit type with embedded liftable neutrals. If the expression is
unit, then this is just regular definitional equality, and otherwise we
reuse definitional equality for liftable neutrals.</p>
<pre class="Agda"><a id="_==â¤Ì_"></a><a id="55464" href="NbE.html#55464" class="Function Operator">_==â¤Ì_</a> <a id="55471" class="Symbol">:</a> <a id="55473" class="Symbol">â</a> <a id="55475" class="Symbol">{</a><a id="55476" href="NbE.html#55476" class="Bound">Î</a> <a id="55478" class="Symbol">:</a> <a id="55480" href="NbE.html#3822" class="Datatype">Ctx</a><a id="55483" class="Symbol">}</a> <a id="55485" class="Symbol">â</a> <a id="55487" href="NbE.html#55476" class="Bound">Î</a> <a id="55489" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="55491" href="NbE.html#3058" class="InductiveConstructor">ð</a> <a id="55493" class="Symbol">â</a> <a id="55495" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="55497" href="NbE.html#3058" class="InductiveConstructor">ð</a> <a id="55499" href="NbE.html#34437" class="Field Operator">â§</a> <a id="55501" class="Symbol">â</a> <a id="55503" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="55507" href="NbE.html#55464" class="Function Operator">_==â¤Ì_</a> <a id="55514" class="Symbol">{</a><a id="55515" href="NbE.html#55515" class="Bound">Î</a><a id="55516" class="Symbol">}</a> <a id="55518" href="NbE.html#55518" class="Bound">t</a> <a id="55520" href="NbE.html#43562" class="InductiveConstructor">unit</a>   <a id="55527" class="Symbol">=</a> <a id="55529" href="NbE.html#55518" class="Bound">t</a> <a id="55531" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="55534" href="NbE.html#5763" class="InductiveConstructor">unit</a>
<a id="55539" href="NbE.html#55464" class="Function Operator">_==â¤Ì_</a> <a id="55546" class="Symbol">{</a><a id="55547" href="NbE.html#55547" class="Bound">Î</a><a id="55548" class="Symbol">}</a> <a id="55550" href="NbE.html#55550" class="Bound">t</a> <a id="55552" class="Symbol">(</a><a id="55553" href="NbE.html#43574" class="InductiveConstructor">ne</a> <a id="55556" href="NbE.html#55556" class="Bound">ðÌ</a><a id="55558" class="Symbol">)</a> <a id="55560" class="Symbol">=</a> <a id="55562" href="NbE.html#55550" class="Bound">t</a> <a id="55564" href="NbE.html#54848" class="Function Operator">==^</a> <a id="55568" href="NbE.html#55556" class="Bound">ðÌ</a>
</pre>
<!---
<pre class="Agda"><a id="55586" class="Keyword">infix</a> <a id="55592" class="Number">3</a> <a id="55594" href="NbE.html#55464" class="Function Operator">_==â¤Ì_</a>
</pre>--->
<p>This will represent the condition <code>Î â¢ t = ðÌ(Î) : ð</code> that
we will now see, as we are ready to begin defining the logical relation
<code>Î â¢ t : T â a</code> inductively on types. At type <code>ð</code>,
the relation is defined as:</p>
<pre><code>  Î â¢ t : ð â ðÌ â â Îâ² â¤ Î. Îâ² â¢ t = ðÌ(Îâ²) : ð</code></pre>
<p>In other words, <code>t</code> is logically related to a semantic
object <code>ðÌ â â¤Ì</code> if and only if the term is definitionally
equal to <code>ðÌ</code> when lifted to any context <code>Îâ²</code> that
is an extension of <code>Î</code>.</p>
<p>For function types, the relation is defined as:</p>
<pre><code>Î â¢ r : S â T â f â â Îâ² â¤ Î. Îâ² â¢ s : S â a â Îâ² â¢ r s : T â f(a)</code></pre>
<p>The relation is written so that it sort of expands functions,
reducing our proof that a functional term in STLC is logically related
to a function in Agda to only having to prove that given related
arguments, the functional term and the function in Agda both produce
related results. Again, this is generalized over all extensions of the
context <code>Î</code>. While our final results will only be concerned
with the context <code>Î</code>, to prove these results we will need the
relation to be strengthened in this way.</p>
<pre class="Agda"><a id="_â_"></a><a id="56698" href="NbE.html#56698" class="Function Operator">_â_</a> <a id="56702" class="Symbol">:</a> <a id="56704" class="Symbol">â</a> <a id="56706" class="Symbol">{</a><a id="56707" href="NbE.html#56707" class="Bound">Î</a> <a id="56709" class="Symbol">:</a> <a id="56711" href="NbE.html#3822" class="Datatype">Ctx</a><a id="56714" class="Symbol">}</a> <a id="56716" class="Symbol">{</a><a id="56717" href="NbE.html#56717" class="Bound">T</a> <a id="56719" class="Symbol">:</a> <a id="56721" href="NbE.html#3029" class="Datatype">Type</a><a id="56725" class="Symbol">}</a> <a id="56727" class="Symbol">â</a> <a id="56729" href="NbE.html#56707" class="Bound">Î</a> <a id="56731" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="56733" href="NbE.html#56717" class="Bound">T</a> <a id="56735" class="Symbol">â</a> <a id="56737" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="56739" href="NbE.html#56717" class="Bound">T</a> <a id="56741" href="NbE.html#34437" class="Field Operator">â§</a> <a id="56743" class="Symbol">â</a> <a id="56745" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="56749" href="NbE.html#56698" class="Function Operator">_â_</a> <a id="56753" class="Symbol">{</a><a id="56754" href="NbE.html#56754" class="Bound">Î</a><a id="56755" class="Symbol">}</a> <a id="56757" class="Symbol">{</a><a id="56758" href="NbE.html#3058" class="InductiveConstructor">ð</a><a id="56759" class="Symbol">}</a> <a id="56761" href="NbE.html#56761" class="Bound">t</a> <a id="56763" href="NbE.html#56763" class="Bound">ðÌ</a> <a id="56766" class="Symbol">=</a> <a id="56768" class="Symbol">â</a> <a id="56770" class="Symbol">{</a><a id="56771" href="NbE.html#56771" class="Bound">Îâ²</a> <a id="56774" class="Symbol">:</a> <a id="56776" href="NbE.html#3822" class="Datatype">Ctx</a><a id="56779" class="Symbol">}</a> <a id="56781" class="Symbol">â</a> <a id="56783" class="Symbol">(</a><a id="56784" href="NbE.html#56784" class="Bound">Îâ²â¤Î</a> <a id="56789" class="Symbol">:</a> <a id="56791" href="NbE.html#56771" class="Bound">Îâ²</a> <a id="56794" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="56796" href="NbE.html#56754" class="Bound">Î</a><a id="56797" class="Symbol">)</a> <a id="56799" class="Symbol">â</a> <a id="56801" href="NbE.html#56784" class="Bound">Îâ²â¤Î</a> <a id="56806" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="56809" href="NbE.html#56761" class="Bound">t</a> <a id="56811" href="NbE.html#55464" class="Function Operator">==â¤Ì</a> <a id="56816" href="NbE.html#56763" class="Bound">ðÌ</a>
<a id="56819" href="NbE.html#56698" class="Function Operator">_â_</a> <a id="56823" class="Symbol">{</a><a id="56824" href="NbE.html#56824" class="Bound">Î</a><a id="56825" class="Symbol">}</a> <a id="56827" class="Symbol">{</a><a id="56828" href="NbE.html#56828" class="Bound">S</a> <a id="56830" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="56832" href="NbE.html#56832" class="Bound">T</a><a id="56833" class="Symbol">}</a> <a id="56835" href="NbE.html#56835" class="Bound">r</a> <a id="56837" href="NbE.html#56837" class="Bound">f</a> <a id="56839" class="Symbol">=</a>
    <a id="56845" class="Symbol">â</a> <a id="56847" class="Symbol">{</a><a id="56848" href="NbE.html#56848" class="Bound">Îâ²</a> <a id="56851" class="Symbol">:</a> <a id="56853" href="NbE.html#3822" class="Datatype">Ctx</a><a id="56856" class="Symbol">}</a>
    <a id="56862" class="Symbol">â</a> <a id="56864" class="Symbol">(</a><a id="56865" href="NbE.html#56865" class="Bound">Îâ²â¤Î</a> <a id="56870" class="Symbol">:</a> <a id="56872" href="NbE.html#56848" class="Bound">Îâ²</a> <a id="56875" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="56877" href="NbE.html#56824" class="Bound">Î</a><a id="56878" class="Symbol">)</a>
    <a id="56884" class="Symbol">â</a> <a id="56886" class="Symbol">â</a> <a id="56888" class="Symbol">{</a><a id="56889" href="NbE.html#56889" class="Bound">s</a> <a id="56891" class="Symbol">:</a> <a id="56893" href="NbE.html#56848" class="Bound">Îâ²</a> <a id="56896" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="56898" href="NbE.html#56828" class="Bound">S</a><a id="56899" class="Symbol">}</a> <a id="56901" class="Symbol">{</a><a id="56902" href="NbE.html#56902" class="Bound">a</a> <a id="56904" class="Symbol">:</a> <a id="56906" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="56908" href="NbE.html#56828" class="Bound">S</a> <a id="56910" href="NbE.html#34437" class="Field Operator">â§</a><a id="56911" class="Symbol">}</a>
    <a id="56917" class="Symbol">â</a> <a id="56919" href="NbE.html#56889" class="Bound">s</a> <a id="56921" href="NbE.html#56698" class="Function Operator">â</a> <a id="56923" href="NbE.html#56902" class="Bound">a</a>
      <a id="56931" class="Comment">-------------------------</a>
    <a id="56961" class="Symbol">â</a> <a id="56963" class="Symbol">(</a><a id="56964" href="NbE.html#56865" class="Bound">Îâ²â¤Î</a> <a id="56969" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="56972" href="NbE.html#56835" class="Bound">r</a><a id="56973" class="Symbol">)</a> <a id="56975" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="56977" href="NbE.html#56889" class="Bound">s</a> <a id="56979" href="NbE.html#56698" class="Function Operator">â</a> <a id="56981" href="NbE.html#56837" class="Bound">f</a> <a id="56983" href="NbE.html#56902" class="Bound">a</a>
</pre>
<!---
<pre class="Agda"><a id="57000" class="Keyword">infix</a> <a id="57006" class="Number">4</a> <a id="57008" href="NbE.html#56698" class="Function Operator">_â_</a>
</pre>--->
<p>As the logical relation between terms and semantic objects is defined
using definitional equality, it is transitive with respect to
definitional equality. This is the first lemma we will prove using
equational reasoning for definitional equality. As for most proofs
related to the logical relation <code>â</code> between terms and
semantic objects, we prove it by induction on types, and do a case
analysis at type <code>ð</code> on the semantic object
<code>a â â¤Ì</code>. The proof makes use of a lemma whose proof has been
omitted, <code>congâ¼â¼-sub</code>: if two terms are definitionally equal
, the terms with the same substitution applied are still definitionally
equal.</p>
<pre class="Agda"><a id="congâ¼â¼-sub"></a><a id="57664" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="57675" class="Symbol">:</a> <a id="57677" class="Symbol">â</a> <a id="57679" class="Symbol">{</a><a id="57680" href="NbE.html#57680" class="Bound">Î</a> <a id="57682" href="NbE.html#57682" class="Bound">Î</a> <a id="57684" class="Symbol">:</a> <a id="57686" href="NbE.html#3822" class="Datatype">Ctx</a><a id="57689" class="Symbol">}</a> <a id="57691" class="Symbol">{</a><a id="57692" href="NbE.html#57692" class="Bound">T</a> <a id="57694" class="Symbol">:</a> <a id="57696" href="NbE.html#3029" class="Datatype">Type</a><a id="57700" class="Symbol">}</a> <a id="57702" class="Symbol">{</a><a id="57703" href="NbE.html#57703" class="Bound">t</a> <a id="57705" href="NbE.html#57705" class="Bound">tâ²</a> <a id="57708" class="Symbol">:</a> <a id="57710" href="NbE.html#57680" class="Bound">Î</a> <a id="57712" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="57714" href="NbE.html#57692" class="Bound">T</a><a id="57715" class="Symbol">}</a> <a id="57717" class="Symbol">{</a><a id="57718" href="NbE.html#57718" class="Bound">Ï</a> <a id="57720" class="Symbol">:</a> <a id="57722" href="NbE.html#11534" class="Function">Sub</a> <a id="57726" href="NbE.html#57682" class="Bound">Î</a> <a id="57728" href="NbE.html#57680" class="Bound">Î</a><a id="57729" class="Symbol">}</a>
          <a id="57741" class="Symbol">â</a> <a id="57743" href="NbE.html#57703" class="Bound">t</a> <a id="57745" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="57748" href="NbE.html#57705" class="Bound">tâ²</a>
          <a id="57761" class="Symbol">â</a> <a id="57763" href="NbE.html#57703" class="Bound">t</a> <a id="57765" href="NbE.html#15385" class="Function Operator">[</a> <a id="57767" href="NbE.html#57718" class="Bound">Ï</a> <a id="57769" href="NbE.html#15385" class="Function Operator">]</a> <a id="57771" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="57774" href="NbE.html#57705" class="Bound">tâ²</a> <a id="57777" href="NbE.html#15385" class="Function Operator">[</a> <a id="57779" href="NbE.html#57718" class="Bound">Ï</a> <a id="57781" href="NbE.html#15385" class="Function Operator">]</a>
</pre>
<!---
<pre class="Agda">
<a id="57803" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="57814" class="Symbol">{</a><a id="57815" class="Argument">Ï</a> <a id="57817" class="Symbol">=</a> <a id="57819" href="NbE.html#57819" class="Bound">Ï</a><a id="57820" class="Symbol">}</a> <a id="57822" class="Symbol">(</a><a id="57823" href="NbE.html#30247" class="InductiveConstructor">Î²</a> <a id="57825" class="Symbol">{</a><a id="57826" class="Argument">t</a> <a id="57828" class="Symbol">=</a> <a id="57830" href="NbE.html#57830" class="Bound">t</a><a id="57831" class="Symbol">}</a> <a id="57833" class="Symbol">{</a><a id="57834" href="NbE.html#57834" class="Bound">s</a><a id="57835" class="Symbol">})</a>
  <a id="57840" class="Keyword">rewrite</a> <a id="57848" href="NbE.html#25448" class="Function">sub-sub</a> <a id="57856" class="Symbol">{</a><a id="57857" class="Argument">Ï</a> <a id="57859" class="Symbol">=</a> <a id="57861" href="NbE.html#57819" class="Bound">Ï</a><a id="57862" class="Symbol">}</a> <a id="57864" class="Symbol">{</a><a id="57865" href="NbE.html#15894" class="Function">id</a> <a id="57868" href="NbE.html#16436" class="Function Operator">â·</a> <a id="57870" href="NbE.html#57834" class="Bound">s</a><a id="57871" class="Symbol">}</a> <a id="57873" class="Symbol">{</a><a id="57874" href="NbE.html#57830" class="Bound">t</a><a id="57875" class="Symbol">}</a> <a id="57877" class="Symbol">=</a>
  <a id="57881" href="NbE.html#31207" class="InductiveConstructor">transâ¼â¼</a>
    <a id="57893" href="NbE.html#30247" class="InductiveConstructor">Î²</a>
    <a id="57899" class="Symbol">(</a><a id="57900" href="NbE.html#32376" class="Function">â¡â==</a>
      <a id="57911" class="Symbol">(</a><a id="57912" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
        <a id="57926" class="Symbol">(</a><a id="57927" href="NbE.html#25448" class="Function">sub-sub</a> <a id="57935" class="Symbol">{</a><a id="57936" class="Argument">t</a> <a id="57938" class="Symbol">=</a> <a id="57940" href="NbE.html#57830" class="Bound">t</a><a id="57941" class="Symbol">})</a>
        <a id="57952" class="Symbol">(</a><a id="57953" href="NbE.html#19370" class="Function">cong-sub</a> <a id="57962" class="Symbol">{</a><a id="57963" class="Argument">t</a> <a id="57965" class="Symbol">=</a> <a id="57967" href="NbE.html#57830" class="Bound">t</a><a id="57968" class="Symbol">}</a>
          <a id="57980" class="Symbol">(</a><a id="57981" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
            <a id="57999" href="NbE.html#26285" class="Function">subst-zero-exts-cons</a>
            <a id="58032" class="Symbol">(</a><a id="58033" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="58037" href="NbE.html#17849" class="Function">sub-dist</a><a id="58045" class="Symbol">))</a>
          <a id="58058" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="58062" class="Symbol">)))</a>
<a id="58066" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58077" class="Symbol">{</a><a id="58078" href="NbE.html#58078" class="Bound">Î</a><a id="58079" class="Symbol">}</a> <a id="58081" class="Symbol">{</a><a id="58082" class="Argument">T</a> <a id="58084" class="Symbol">=</a> <a id="58086" href="NbE.html#58086" class="Bound">S</a> <a id="58088" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="58090" href="NbE.html#58090" class="Bound">T</a><a id="58091" class="Symbol">}</a> <a id="58093" class="Symbol">{</a><a id="58094" href="NbE.html#58094" class="Bound">t</a><a id="58095" class="Symbol">}</a> <a id="58097" class="Symbol">{</a><a id="58098" class="Argument">Ï</a> <a id="58100" class="Symbol">=</a> <a id="58102" href="NbE.html#58102" class="Bound">Ï</a><a id="58103" class="Symbol">}</a> <a id="58105" href="NbE.html#30469" class="InductiveConstructor">Î·</a>
  <a id="58109" class="Keyword">rewrite</a> <a id="58117" href="NbE.html#25448" class="Function">sub-sub</a> <a id="58125" class="Symbol">{</a><a id="58126" class="Argument">Ï</a> <a id="58128" class="Symbol">=</a> <a id="58130" href="NbE.html#15268" class="Function">exts</a> <a id="58135" href="NbE.html#58102" class="Bound">Ï</a><a id="58136" class="Symbol">}</a> <a id="58138" class="Symbol">{</a><a id="58139" href="NbE.html#15933" class="Function">â¥</a> <a id="58141" class="Symbol">{</a><a id="58142" class="Argument">T</a> <a id="58144" class="Symbol">=</a> <a id="58146" href="NbE.html#58086" class="Bound">S</a><a id="58147" class="Symbol">}}</a> <a id="58150" class="Symbol">{</a><a id="58151" href="NbE.html#58094" class="Bound">t</a><a id="58152" class="Symbol">}</a> <a id="58154" class="Symbol">=</a>
  <a id="58158" href="NbE.html#31207" class="InductiveConstructor">transâ¼â¼</a>
    <a id="58170" href="NbE.html#30469" class="InductiveConstructor">Î·</a>
    <a id="58176" class="Symbol">(</a><a id="58177" href="NbE.html#30605" class="InductiveConstructor">abs-compatible</a>
      <a id="58198" class="Symbol">(</a><a id="58199" href="NbE.html#30764" class="InductiveConstructor">app-compatible</a>
        <a id="58222" class="Symbol">(</a><a id="58223" href="NbE.html#32376" class="Function">â¡â==</a>
          <a id="58238" class="Symbol">(</a><a id="58239" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
            <a id="58257" class="Symbol">(</a><a id="58258" href="NbE.html#25448" class="Function">sub-sub</a> <a id="58266" class="Symbol">{</a><a id="58267" class="Argument">Ï</a> <a id="58269" class="Symbol">=</a> <a id="58271" href="NbE.html#15933" class="Function">â¥</a><a id="58272" class="Symbol">}</a> <a id="58274" class="Symbol">{</a><a id="58275" href="NbE.html#58102" class="Bound">Ï</a><a id="58276" class="Symbol">}</a> <a id="58278" class="Symbol">{</a><a id="58279" href="NbE.html#58094" class="Bound">t</a><a id="58280" class="Symbol">})</a>
            <a id="58295" class="Symbol">(</a><a id="58296" href="NbE.html#19370" class="Function">cong-sub</a> <a id="58305" class="Symbol">{</a><a id="58306" class="Argument">t</a> <a id="58308" class="Symbol">=</a> <a id="58310" href="NbE.html#58094" class="Bound">t</a><a id="58311" class="Symbol">}</a> <a id="58313" class="Symbol">(</a><a id="58314" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="58329" class="Symbol">Î»{_</a> <a id="58333" class="Symbol">â</a> <a id="58335" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="58339" href="NbE.html#21744" class="Function">rename-shift</a><a id="58351" class="Symbol">})</a> <a id="58354" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="58358" class="Symbol">)))</a>
        <a id="58370" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a><a id="58376" class="Symbol">))</a>
<a id="58379" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58390" class="Symbol">(</a><a id="58391" href="NbE.html#30605" class="InductiveConstructor">abs-compatible</a> <a id="58406" href="NbE.html#58406" class="Bound">t==tâ²</a><a id="58411" class="Symbol">)</a> <a id="58413" class="Symbol">=</a> <a id="58415" href="NbE.html#30605" class="InductiveConstructor">abs-compatible</a> <a id="58430" class="Symbol">(</a><a id="58431" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58442" href="NbE.html#58406" class="Bound">t==tâ²</a><a id="58447" class="Symbol">)</a>
<a id="58449" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58460" class="Symbol">(</a><a id="58461" href="NbE.html#30764" class="InductiveConstructor">app-compatible</a> <a id="58476" href="NbE.html#58476" class="Bound">r==râ²</a> <a id="58482" href="NbE.html#58482" class="Bound">s==sâ²</a><a id="58487" class="Symbol">)</a> <a id="58489" class="Symbol">=</a>
  <a id="58493" href="NbE.html#30764" class="InductiveConstructor">app-compatible</a> <a id="58508" class="Symbol">(</a><a id="58509" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58520" href="NbE.html#58476" class="Bound">r==râ²</a><a id="58525" class="Symbol">)</a> <a id="58527" class="Symbol">(</a><a id="58528" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58539" href="NbE.html#58482" class="Bound">s==sâ²</a><a id="58544" class="Symbol">)</a>
<a id="58546" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58557" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a> <a id="58564" class="Symbol">=</a> <a id="58566" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a>
<a id="58573" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58584" class="Symbol">(</a><a id="58585" href="NbE.html#31104" class="InductiveConstructor">symâ¼â¼</a> <a id="58591" href="NbE.html#58591" class="Bound">t==tâ²</a><a id="58596" class="Symbol">)</a> <a id="58598" class="Symbol">=</a> <a id="58600" href="NbE.html#31104" class="InductiveConstructor">symâ¼â¼</a> <a id="58606" class="Symbol">(</a><a id="58607" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58618" href="NbE.html#58591" class="Bound">t==tâ²</a><a id="58623" class="Symbol">)</a>
<a id="58625" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58636" class="Symbol">(</a><a id="58637" href="NbE.html#31207" class="InductiveConstructor">transâ¼â¼</a> <a id="58645" href="NbE.html#58645" class="Bound">tâ==tâ</a> <a id="58652" href="NbE.html#58652" class="Bound">tâ==tâ</a><a id="58658" class="Symbol">)</a> <a id="58660" class="Symbol">=</a> <a id="58662" href="NbE.html#31207" class="InductiveConstructor">transâ¼â¼</a> <a id="58670" class="Symbol">(</a><a id="58671" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58682" href="NbE.html#58645" class="Bound">tâ==tâ</a><a id="58688" class="Symbol">)</a> <a id="58690" class="Symbol">(</a><a id="58691" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58702" href="NbE.html#58652" class="Bound">tâ==tâ</a><a id="58708" class="Symbol">)</a>
</pre>--->
<pre class="Agda"><a id="==-â-trans"></a><a id="58728" href="NbE.html#58728" class="Function">==-â-trans</a> <a id="58739" class="Symbol">:</a> <a id="58741" class="Symbol">â</a> <a id="58743" class="Symbol">{</a><a id="58744" href="NbE.html#58744" class="Bound">Î</a> <a id="58746" class="Symbol">:</a> <a id="58748" href="NbE.html#3822" class="Datatype">Ctx</a><a id="58751" class="Symbol">}</a> <a id="58753" class="Symbol">{</a><a id="58754" href="NbE.html#58754" class="Bound">T</a> <a id="58756" class="Symbol">:</a> <a id="58758" href="NbE.html#3029" class="Datatype">Type</a><a id="58762" class="Symbol">}</a> <a id="58764" class="Symbol">{</a><a id="58765" href="NbE.html#58765" class="Bound">t</a> <a id="58767" href="NbE.html#58767" class="Bound">tâ²</a> <a id="58770" class="Symbol">:</a> <a id="58772" href="NbE.html#58744" class="Bound">Î</a> <a id="58774" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="58776" href="NbE.html#58754" class="Bound">T</a><a id="58777" class="Symbol">}</a> <a id="58779" class="Symbol">{</a><a id="58780" href="NbE.html#58780" class="Bound">a</a> <a id="58782" class="Symbol">:</a> <a id="58784" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="58786" href="NbE.html#58754" class="Bound">T</a> <a id="58788" href="NbE.html#34437" class="Field Operator">â§</a><a id="58789" class="Symbol">}</a>
           <a id="58802" class="Symbol">â</a> <a id="58804" href="NbE.html#58765" class="Bound">t</a> <a id="58806" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="58809" href="NbE.html#58767" class="Bound">tâ²</a>
           <a id="58823" class="Symbol">â</a> <a id="58825" href="NbE.html#58765" class="Bound">t</a> <a id="58827" href="NbE.html#56698" class="Function Operator">â</a> <a id="58829" href="NbE.html#58780" class="Bound">a</a>
             <a id="58844" class="Comment">-------</a>
           <a id="58863" class="Symbol">â</a> <a id="58865" href="NbE.html#58767" class="Bound">tâ²</a> <a id="58868" href="NbE.html#56698" class="Function Operator">â</a> <a id="58870" href="NbE.html#58780" class="Bound">a</a>
<a id="58872" href="NbE.html#58728" class="Function">==-â-trans</a> <a id="58883" class="Symbol">{</a><a id="58884" class="Argument">T</a> <a id="58886" class="Symbol">=</a> <a id="58888" href="NbE.html#3058" class="InductiveConstructor">ð</a><a id="58889" class="Symbol">}</a> <a id="58891" class="Symbol">{</a><a id="58892" href="NbE.html#58892" class="Bound">t</a><a id="58893" class="Symbol">}</a> <a id="58895" class="Symbol">{</a><a id="58896" href="NbE.html#58896" class="Bound">tâ²</a><a id="58898" class="Symbol">}</a> <a id="58900" class="Symbol">{</a><a id="58901" href="NbE.html#43562" class="InductiveConstructor">unit</a><a id="58905" class="Symbol">}</a> <a id="58907" href="NbE.html#58907" class="Bound">t==tâ²</a> <a id="58913" href="NbE.html#58913" class="Bound">pf</a> <a id="58916" href="NbE.html#58916" class="Bound">Îâ²â¤Î</a> <a id="58921" class="Symbol">=</a>
  <a id="58925" href="NbE.html#31770" class="Function Operator">begin==</a>
    <a id="58937" href="NbE.html#58916" class="Bound">Îâ²â¤Î</a> <a id="58942" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="58945" href="NbE.html#58896" class="Bound">tâ²</a>
  <a id="58950" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="58954" href="NbE.html#31104" class="InductiveConstructor">symâ¼â¼</a> <a id="58960" class="Symbol">(</a><a id="58961" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="58972" href="NbE.html#58907" class="Bound">t==tâ²</a><a id="58977" class="Symbol">)</a> <a id="58979" href="NbE.html#31903" class="Function Operator">â©</a>
    <a id="58985" href="NbE.html#58916" class="Bound">Îâ²â¤Î</a> <a id="58990" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="58993" href="NbE.html#58892" class="Bound">t</a>
  <a id="58997" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="59001" href="NbE.html#58913" class="Bound">pf</a> <a id="59004" href="NbE.html#58916" class="Bound">Îâ²â¤Î</a> <a id="59009" href="NbE.html#31903" class="Function Operator">â©</a>
    <a id="59015" href="NbE.html#5763" class="InductiveConstructor">unit</a>
  <a id="59022" href="NbE.html#32111" class="Function Operator">==â</a>
<a id="59026" href="NbE.html#58728" class="Function">==-â-trans</a> <a id="59037" class="Symbol">{</a><a id="59038" class="Argument">T</a> <a id="59040" class="Symbol">=</a> <a id="59042" href="NbE.html#3058" class="InductiveConstructor">ð</a><a id="59043" class="Symbol">}</a> <a id="59045" class="Symbol">{</a><a id="59046" href="NbE.html#59046" class="Bound">t</a><a id="59047" class="Symbol">}</a> <a id="59049" class="Symbol">{</a><a id="59050" href="NbE.html#59050" class="Bound">tâ²</a><a id="59052" class="Symbol">}</a> <a id="59054" class="Symbol">{</a><a id="59055" href="NbE.html#43574" class="InductiveConstructor">ne</a> <a id="59058" href="NbE.html#59058" class="Bound">ðÌ</a><a id="59060" class="Symbol">}</a> <a id="59062" href="NbE.html#59062" class="Bound">t==tâ²</a> <a id="59068" href="NbE.html#59068" class="Bound">pf</a> <a id="59071" class="Symbol">{</a><a id="59072" href="NbE.html#59072" class="Bound">Îâ²</a><a id="59074" class="Symbol">}</a> <a id="59076" href="NbE.html#59076" class="Bound">Îâ²â¤Î</a>
  <a id="59083" class="Keyword">with</a> <a id="59088" href="NbE.html#59058" class="Bound">ðÌ</a> <a id="59091" href="NbE.html#59072" class="Bound">Îâ²</a>          <a id="59103" class="Symbol">|</a> <a id="59105" href="NbE.html#59068" class="Bound">pf</a> <a id="59108" href="NbE.html#59076" class="Bound">Îâ²â¤Î</a>
<a id="59113" class="Symbol">...</a> <a id="59117" class="Symbol">|</a> <a id="59119" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="59124" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="59126" href="NbE.html#59126" class="Bound">ð</a> <a id="59128" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="59130" class="Symbol">_</a> <a id="59132" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="59134" class="Symbol">|</a> <a id="59136" href="NbE.html#59136" class="Bound">t==ð</a>    <a id="59144" class="Symbol">=</a>
  <a id="59148" href="NbE.html#31770" class="Function Operator">begin==</a>
    <a id="59160" class="Bound">Îâ²â¤Î</a> <a id="59165" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="59168" class="Bound">tâ²</a>
  <a id="59173" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="59177" href="NbE.html#31104" class="InductiveConstructor">symâ¼â¼</a> <a id="59183" class="Symbol">(</a><a id="59184" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="59195" class="Bound">t==tâ²</a><a id="59200" class="Symbol">)</a> <a id="59202" href="NbE.html#31903" class="Function Operator">â©</a>
    <a id="59208" class="Bound">Îâ²â¤Î</a> <a id="59213" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="59216" class="Bound">t</a>
  <a id="59220" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="59224" href="NbE.html#59136" class="Bound">t==ð</a> <a id="59229" href="NbE.html#31903" class="Function Operator">â©</a>
    <a id="59235" href="NbE.html#59126" class="Bound">ð</a>
  <a id="59239" href="NbE.html#32111" class="Function Operator">==â</a>
<a id="59243" href="NbE.html#58728" class="Function">==-â-trans</a> <a id="59254" class="Symbol">{</a><a id="59255" class="Argument">T</a> <a id="59257" class="Symbol">=</a> <a id="59259" href="NbE.html#59259" class="Bound">S</a> <a id="59261" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="59263" href="NbE.html#59263" class="Bound">T</a><a id="59264" class="Symbol">}</a> <a id="59266" class="Symbol">{</a><a id="59267" href="NbE.html#59267" class="Bound">r</a><a id="59268" class="Symbol">}</a> <a id="59270" class="Symbol">{</a><a id="59271" href="NbE.html#59271" class="Bound">râ²</a><a id="59273" class="Symbol">}</a> <a id="59275" href="NbE.html#59275" class="Bound">r==râ²</a> <a id="59281" href="NbE.html#59281" class="Bound">pf</a> <a id="59284" href="NbE.html#59284" class="Bound">Îâ²â¤Î</a> <a id="59289" href="NbE.html#59289" class="Bound">sâa</a> <a id="59293" class="Symbol">=</a>
  <a id="59297" href="NbE.html#58728" class="Function">==-â-trans</a> <a id="59308" href="NbE.html#59337" class="Function">rÂ·s==râ²Â·s</a> <a id="59318" href="NbE.html#59394" class="Function">rÂ·sâfa</a>
  <a id="59327" class="Keyword">where</a>
    <a id="59337" href="NbE.html#59337" class="Function">rÂ·s==râ²Â·s</a> <a id="59347" class="Symbol">=</a> <a id="59349" href="NbE.html#30764" class="InductiveConstructor">app-compatible</a> <a id="59364" class="Symbol">(</a><a id="59365" href="NbE.html#57664" class="Function">congâ¼â¼-sub</a> <a id="59376" href="NbE.html#59275" class="Bound">r==râ²</a><a id="59381" class="Symbol">)</a> <a id="59383" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a>
    <a id="59394" href="NbE.html#59394" class="Function">rÂ·sâfa</a> <a id="59401" class="Symbol">=</a> <a id="59403" href="NbE.html#59281" class="Bound">pf</a> <a id="59406" href="NbE.html#59284" class="Bound">Îâ²â¤Î</a> <a id="59411" href="NbE.html#59289" class="Bound">sâa</a>
</pre>
<p>Additionally, because we have defined the relation so that its
implication holds for all extensions of a context, we can âweakenâ the
logical relation <code>Î â¢ t : T â a</code> for all <code>Îâ² â¤ Î</code>,
having that <code>Îâ² â¢ t : T â a</code> holds as well. For this proof,
we use another lemma whose proof has also been omitted,
<code>compose-weaken</code>: weakening a term <code>t</code> twice is
equivalent to weakening it once with a composed weakening
substitution.</p>
<!---
<pre class="Agda"><a id="compose-Ï-â¤"></a><a id="59856" href="NbE.html#59856" class="Function">compose-Ï-â¤</a> <a id="59868" class="Symbol">:</a> <a id="59870" class="Symbol">â</a> <a id="59872" class="Symbol">{</a><a id="59873" href="NbE.html#59873" class="Bound">Îâ³</a> <a id="59876" href="NbE.html#59876" class="Bound">Îâ²</a> <a id="59879" href="NbE.html#59879" class="Bound">Î</a> <a id="59881" class="Symbol">:</a> <a id="59883" href="NbE.html#3822" class="Datatype">Ctx</a><a id="59886" class="Symbol">}</a> <a id="59888" class="Symbol">{</a><a id="59889" href="NbE.html#59889" class="Bound">T</a> <a id="59891" class="Symbol">:</a> <a id="59893" href="NbE.html#3029" class="Datatype">Type</a><a id="59897" class="Symbol">}</a>
            <a id="59911" class="Symbol">â</a> <a id="59913" class="Symbol">(</a><a id="59914" href="NbE.html#59914" class="Bound">Îâ³â¤Îâ²</a> <a id="59920" class="Symbol">:</a> <a id="59922" href="NbE.html#59873" class="Bound">Îâ³</a> <a id="59925" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="59927" href="NbE.html#59876" class="Bound">Îâ²</a><a id="59929" class="Symbol">)</a>
            <a id="59943" class="Symbol">â</a> <a id="59945" class="Symbol">(</a><a id="59946" href="NbE.html#59946" class="Bound">Îâ²â¤Î</a> <a id="59951" class="Symbol">:</a> <a id="59953" href="NbE.html#59876" class="Bound">Îâ²</a> <a id="59956" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="59958" href="NbE.html#59879" class="Bound">Î</a><a id="59959" class="Symbol">)</a>
            <a id="59973" class="Symbol">â</a> <a id="59975" class="Symbol">(</a><a id="59976" href="NbE.html#59976" class="Bound">x</a> <a id="59978" class="Symbol">:</a> <a id="59980" href="NbE.html#59879" class="Bound">Î</a> <a id="59982" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="59984" href="NbE.html#59889" class="Bound">T</a><a id="59985" class="Symbol">)</a>
            <a id="59999" class="Symbol">â</a> <a id="60001" href="NbE.html#13715" class="Function">Ï-â¤</a> <a id="60005" href="NbE.html#59914" class="Bound">Îâ³â¤Îâ²</a> <a id="60011" class="Symbol">(</a><a id="60012" href="NbE.html#13715" class="Function">Ï-â¤</a> <a id="60016" href="NbE.html#59946" class="Bound">Îâ²â¤Î</a> <a id="60021" href="NbE.html#59976" class="Bound">x</a><a id="60022" class="Symbol">)</a> <a id="60024" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="60026" href="NbE.html#13715" class="Function">Ï-â¤</a> <a id="60030" class="Symbol">(</a><a id="60031" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="60039" href="NbE.html#59914" class="Bound">Îâ³â¤Îâ²</a> <a id="60045" href="NbE.html#59946" class="Bound">Îâ²â¤Î</a><a id="60049" class="Symbol">)</a> <a id="60051" href="NbE.html#59976" class="Bound">x</a>
<a id="60053" href="NbE.html#59856" class="Function">compose-Ï-â¤</a> <a id="60065" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="60070" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="60075" class="Symbol">_</a>                    <a id="60096" class="Symbol">=</a> <a id="60098" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="60103" href="NbE.html#59856" class="Function">compose-Ï-â¤</a> <a id="60115" class="Symbol">(</a><a id="60116" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="60122" class="Symbol">_)</a> <a id="60125" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="60130" class="Symbol">_</a>               <a id="60146" class="Symbol">=</a> <a id="60148" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="60153" href="NbE.html#59856" class="Function">compose-Ï-â¤</a> <a id="60165" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="60170" class="Symbol">(</a><a id="60171" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="60177" class="Symbol">_)</a> <a id="60180" class="Symbol">_</a>               <a id="60196" class="Symbol">=</a> <a id="60198" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="60203" href="NbE.html#59856" class="Function">compose-Ï-â¤</a> <a id="60215" class="Symbol">(</a><a id="60216" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="60222" href="NbE.html#60222" class="Bound">Îâ³â¤Îâ²</a><a id="60227" class="Symbol">)</a> <a id="60229" class="Symbol">(</a><a id="60230" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="60236" href="NbE.html#60236" class="Bound">Îâ²â¤Î</a><a id="60240" class="Symbol">)</a> <a id="60242" href="NbE.html#60242" class="Bound">x</a>
  <a id="60246" class="Keyword">rewrite</a> <a id="60254" href="NbE.html#59856" class="Function">compose-Ï-â¤</a> <a id="60266" href="NbE.html#60222" class="Bound">Îâ³â¤Îâ²</a><a id="60271" class="Symbol">(</a><a id="60272" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="60278" href="NbE.html#60236" class="Bound">Îâ²â¤Î</a><a id="60282" class="Symbol">)</a> <a id="60284" href="NbE.html#60242" class="Bound">x</a>  <a id="60287" class="Symbol">=</a> <a id="60289" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

</pre>--->
<pre class="Agda"><a id="compose-weaken"></a><a id="60313" href="NbE.html#60313" class="Function">compose-weaken</a> <a id="60328" class="Symbol">:</a> <a id="60330" class="Symbol">â</a> <a id="60332" class="Symbol">{</a><a id="60333" href="NbE.html#60333" class="Bound">Îâ³</a> <a id="60336" href="NbE.html#60336" class="Bound">Îâ²</a> <a id="60339" href="NbE.html#60339" class="Bound">Î</a> <a id="60341" class="Symbol">:</a> <a id="60343" href="NbE.html#3822" class="Datatype">Ctx</a><a id="60346" class="Symbol">}</a> <a id="60348" class="Symbol">{</a><a id="60349" href="NbE.html#60349" class="Bound">T</a> <a id="60351" class="Symbol">:</a> <a id="60353" href="NbE.html#3029" class="Datatype">Type</a><a id="60357" class="Symbol">}</a>
               <a id="60374" class="Symbol">â</a> <a id="60376" class="Symbol">(</a><a id="60377" href="NbE.html#60377" class="Bound">Îâ³â¤Îâ²</a> <a id="60383" class="Symbol">:</a> <a id="60385" href="NbE.html#60333" class="Bound">Îâ³</a> <a id="60388" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="60390" href="NbE.html#60336" class="Bound">Îâ²</a><a id="60392" class="Symbol">)</a>
               <a id="60409" class="Symbol">â</a> <a id="60411" class="Symbol">(</a><a id="60412" href="NbE.html#60412" class="Bound">Îâ²â¤Î</a> <a id="60417" class="Symbol">:</a> <a id="60419" href="NbE.html#60336" class="Bound">Îâ²</a> <a id="60422" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="60424" href="NbE.html#60339" class="Bound">Î</a><a id="60425" class="Symbol">)</a>
               <a id="60442" class="Symbol">â</a> <a id="60444" class="Symbol">(</a><a id="60445" href="NbE.html#60445" class="Bound">t</a> <a id="60447" class="Symbol">:</a> <a id="60449" href="NbE.html#60339" class="Bound">Î</a> <a id="60451" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="60453" href="NbE.html#60349" class="Bound">T</a><a id="60454" class="Symbol">)</a>
               <a id="60471" class="Symbol">â</a> <a id="60473" href="NbE.html#60377" class="Bound">Îâ³â¤Îâ²</a> <a id="60479" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="60482" href="NbE.html#60412" class="Bound">Îâ²â¤Î</a> <a id="60487" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="60490" href="NbE.html#60445" class="Bound">t</a> <a id="60492" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="60494" class="Symbol">(</a><a id="60495" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="60503" href="NbE.html#60377" class="Bound">Îâ³â¤Îâ²</a> <a id="60509" href="NbE.html#60412" class="Bound">Îâ²â¤Î</a><a id="60513" class="Symbol">)</a> <a id="60515" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="60518" href="NbE.html#60445" class="Bound">t</a>
</pre>
<!---
<pre class="Agda"><a id="60539" href="NbE.html#60313" class="Function">compose-weaken</a> <a id="60554" href="NbE.html#60554" class="Bound">Îâ³â¤Îâ²</a> <a id="60560" href="NbE.html#60560" class="Bound">Îâ²â¤Î</a> <a id="60565" href="NbE.html#60565" class="Bound">t</a>
  <a id="60569" class="Keyword">rewrite</a> <a id="60577" href="NbE.html#25448" class="Function">sub-sub</a> <a id="60585" class="Symbol">{</a><a id="60586" class="Argument">Ï</a> <a id="60588" class="Symbol">=</a> <a id="60590" href="NbE.html#16898" class="Function">weaken</a> <a id="60597" href="NbE.html#60554" class="Bound">Îâ³â¤Îâ²</a><a id="60602" class="Symbol">}</a> <a id="60604" class="Symbol">{</a><a id="60605" href="NbE.html#16898" class="Function">weaken</a> <a id="60612" href="NbE.html#60560" class="Bound">Îâ²â¤Î</a><a id="60616" class="Symbol">}</a> <a id="60618" class="Symbol">{</a><a id="60619" href="NbE.html#60565" class="Bound">t</a><a id="60620" class="Symbol">}</a> <a id="60622" class="Symbol">=</a>
    <a id="60628" href="NbE.html#19370" class="Function">cong-sub</a> <a id="60637" class="Symbol">{</a><a id="60638" class="Argument">t</a> <a id="60640" class="Symbol">=</a> <a id="60642" href="NbE.html#60565" class="Bound">t</a><a id="60643" class="Symbol">}</a>
      <a id="60651" class="Symbol">(</a><a id="60652" href="NbE.html#2640" class="Postulate">extensionality</a> <a id="60667" class="Symbol">Î»{</a><a id="60669" href="NbE.html#60669" class="Bound">x</a> <a id="60671" class="Symbol">â</a> <a id="60673" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="60678" href="NbE.html#5793" class="InductiveConstructor Operator">#_</a> <a id="60681" class="Symbol">(</a><a id="60682" href="NbE.html#59856" class="Function">compose-Ï-â¤</a> <a id="60694" href="NbE.html#60554" class="Bound">Îâ³â¤Îâ²</a> <a id="60700" href="NbE.html#60560" class="Bound">Îâ²â¤Î</a> <a id="60705" href="NbE.html#60669" class="Bound">x</a><a id="60706" class="Symbol">)})</a>
      <a id="60716" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>--->
<pre class="Agda"><a id="â-weaken"></a><a id="60739" href="NbE.html#60739" class="Function">â-weaken</a> <a id="60748" class="Symbol">:</a> <a id="60750" class="Symbol">â</a> <a id="60752" class="Symbol">{</a><a id="60753" href="NbE.html#60753" class="Bound">Îâ²</a> <a id="60756" href="NbE.html#60756" class="Bound">Î</a> <a id="60758" class="Symbol">:</a> <a id="60760" href="NbE.html#3822" class="Datatype">Ctx</a><a id="60763" class="Symbol">}</a> <a id="60765" class="Symbol">{</a><a id="60766" href="NbE.html#60766" class="Bound">T</a> <a id="60768" class="Symbol">:</a> <a id="60770" href="NbE.html#3029" class="Datatype">Type</a><a id="60774" class="Symbol">}</a> <a id="60776" class="Symbol">{</a><a id="60777" href="NbE.html#60777" class="Bound">Îâ²â¤Î</a> <a id="60782" class="Symbol">:</a> <a id="60784" href="NbE.html#60753" class="Bound">Îâ²</a> <a id="60787" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="60789" href="NbE.html#60756" class="Bound">Î</a><a id="60790" class="Symbol">}</a> <a id="60792" class="Symbol">{</a><a id="60793" href="NbE.html#60793" class="Bound">t</a> <a id="60795" class="Symbol">:</a> <a id="60797" href="NbE.html#60756" class="Bound">Î</a> <a id="60799" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="60801" href="NbE.html#60766" class="Bound">T</a><a id="60802" class="Symbol">}</a> <a id="60804" class="Symbol">{</a><a id="60805" href="NbE.html#60805" class="Bound">a</a> <a id="60807" class="Symbol">:</a> <a id="60809" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="60811" href="NbE.html#60766" class="Bound">T</a> <a id="60813" href="NbE.html#34437" class="Field Operator">â§</a><a id="60814" class="Symbol">}</a>
      <a id="60822" class="Symbol">â</a> <a id="60824" href="NbE.html#60793" class="Bound">t</a> <a id="60826" href="NbE.html#56698" class="Function Operator">â</a> <a id="60828" href="NbE.html#60805" class="Bound">a</a>
      <a id="60836" class="Symbol">â</a> <a id="60838" href="NbE.html#60777" class="Bound">Îâ²â¤Î</a> <a id="60843" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="60846" href="NbE.html#60793" class="Bound">t</a> <a id="60848" href="NbE.html#56698" class="Function Operator">â</a> <a id="60850" href="NbE.html#60805" class="Bound">a</a>
<a id="60852" href="NbE.html#60739" class="Function">â-weaken</a> <a id="60861" class="Symbol">{</a><a id="60862" class="Argument">T</a> <a id="60864" class="Symbol">=</a> <a id="60866" href="NbE.html#3058" class="InductiveConstructor">ð</a><a id="60867" class="Symbol">}</a> <a id="60869" class="Symbol">{</a><a id="60870" href="NbE.html#60870" class="Bound">Îâ²â¤Î</a><a id="60874" class="Symbol">}</a> <a id="60876" class="Symbol">{</a><a id="60877" href="NbE.html#60877" class="Bound">t</a><a id="60878" class="Symbol">}</a> <a id="60880" href="NbE.html#60880" class="Bound">pf</a> <a id="60883" href="NbE.html#60883" class="Bound">Îâ³â¤Îâ²</a>
  <a id="60891" class="Keyword">rewrite</a> <a id="60899" href="NbE.html#60313" class="Function">compose-weaken</a> <a id="60914" href="NbE.html#60883" class="Bound">Îâ³â¤Îâ²</a> <a id="60920" href="NbE.html#60870" class="Bound">Îâ²â¤Î</a> <a id="60925" href="NbE.html#60877" class="Bound">t</a> <a id="60927" class="Symbol">=</a> <a id="60929" href="NbE.html#60880" class="Bound">pf</a> <a id="60932" class="Symbol">(</a><a id="60933" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="60941" href="NbE.html#60883" class="Bound">Îâ³â¤Îâ²</a> <a id="60947" href="NbE.html#60870" class="Bound">Îâ²â¤Î</a><a id="60951" class="Symbol">)</a>
<a id="60953" href="NbE.html#60739" class="Function">â-weaken</a> <a id="60962" class="Symbol">{</a><a id="60963" class="Argument">T</a> <a id="60965" class="Symbol">=</a> <a id="60967" href="NbE.html#60967" class="Bound">S</a> <a id="60969" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="60971" href="NbE.html#60971" class="Bound">T</a><a id="60972" class="Symbol">}</a> <a id="60974" class="Symbol">{</a><a id="60975" href="NbE.html#60975" class="Bound">Îâ²â¤Î</a><a id="60979" class="Symbol">}</a> <a id="60981" class="Symbol">{</a><a id="60982" href="NbE.html#60982" class="Bound">t</a><a id="60983" class="Symbol">}</a> <a id="60985" href="NbE.html#60985" class="Bound">pf</a> <a id="60988" href="NbE.html#60988" class="Bound">Îâ³â¤Îâ²</a> <a id="60994" href="NbE.html#60994" class="Bound">sâa</a>
  <a id="61000" class="Keyword">rewrite</a> <a id="61008" href="NbE.html#60313" class="Function">compose-weaken</a> <a id="61023" href="NbE.html#60988" class="Bound">Îâ³â¤Îâ²</a> <a id="61029" href="NbE.html#60975" class="Bound">Îâ²â¤Î</a> <a id="61034" href="NbE.html#60982" class="Bound">t</a> <a id="61036" class="Symbol">=</a> <a id="61038" href="NbE.html#60985" class="Bound">pf</a> <a id="61041" class="Symbol">(</a><a id="61042" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="61050" href="NbE.html#60988" class="Bound">Îâ³â¤Îâ²</a> <a id="61056" href="NbE.html#60975" class="Bound">Îâ²â¤Î</a><a id="61060" class="Symbol">)</a> <a id="61062" href="NbE.html#60994" class="Bound">sâa</a>
</pre>
<p>The logical relation between terms and semantic objects is
âsandwichedâ between reflection and reification â to arrive at a logical
relation between a term and a semantic object, the semantic object must
be a reflection of a liftable neutral that is definitionally equal to
the term. Likewise, if a logical relation holds between a term and a
semantic object, then the term must be definitionally equal to the
reification of that semantic object.</p>
<p>This is intentional, as these results will be exactly what we will
need to prove the soundness of normalization by evaluation. We formalize
them with the following lemmas, which we will prove mutually (as
reflection and reification are themselves defined mutually) by induction
on types.</p>
<p>The first lemma is that if the liftable variable <code>ðÌ</code> is
definitionally equal to a term <code>ð</code> for all contexts
<code>Îâ² â¤ Î</code>, then <code>ð</code> is logically related to the
reflection of <code>ðÌ</code>:</p>
<pre><code>(â Îâ² â¤ Î. Îâ² â¢ ð = ðÌ(Îâ²) : T) â Î â¢ ð : T â âáµ ðÌ</code></pre>
<pre class="Agda"><a id="==^âââ"></a><a id="62051" href="NbE.html#62051" class="Function">==^âââ</a> <a id="62058" class="Symbol">:</a> <a id="62060" class="Symbol">â</a> <a id="62062" class="Symbol">{</a><a id="62063" href="NbE.html#62063" class="Bound">Î</a> <a id="62065" class="Symbol">:</a> <a id="62067" href="NbE.html#3822" class="Datatype">Ctx</a><a id="62070" class="Symbol">}</a> <a id="62072" class="Symbol">{</a><a id="62073" href="NbE.html#62073" class="Bound">T</a> <a id="62075" class="Symbol">:</a> <a id="62077" href="NbE.html#3029" class="Datatype">Type</a><a id="62081" class="Symbol">}</a> <a id="62083" class="Symbol">{</a><a id="62084" href="NbE.html#62084" class="Bound">ð</a> <a id="62086" class="Symbol">:</a> <a id="62088" href="NbE.html#62063" class="Bound">Î</a> <a id="62090" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="62092" href="NbE.html#62073" class="Bound">T</a><a id="62093" class="Symbol">}</a> <a id="62095" class="Symbol">{</a><a id="62096" href="NbE.html#62096" class="Bound">ðÌ</a> <a id="62099" class="Symbol">:</a> <a id="62101" href="NbE.html#41900" class="Function">Ne^</a> <a id="62105" href="NbE.html#62073" class="Bound">T</a><a id="62106" class="Symbol">}</a>
        <a id="62116" class="Symbol">â</a> <a id="62118" class="Symbol">(â</a> <a id="62121" class="Symbol">{</a><a id="62122" href="NbE.html#62122" class="Bound">Îâ²</a> <a id="62125" class="Symbol">:</a> <a id="62127" href="NbE.html#3822" class="Datatype">Ctx</a><a id="62130" class="Symbol">}</a>
           <a id="62143" class="Symbol">â</a> <a id="62145" class="Symbol">(</a><a id="62146" href="NbE.html#62146" class="Bound">Îâ²â¤Î</a> <a id="62151" class="Symbol">:</a> <a id="62153" href="NbE.html#62122" class="Bound">Îâ²</a> <a id="62156" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="62158" href="NbE.html#62063" class="Bound">Î</a><a id="62159" class="Symbol">)</a>
           <a id="62172" class="Symbol">â</a> <a id="62174" href="NbE.html#62146" class="Bound">Îâ²â¤Î</a> <a id="62179" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="62182" href="NbE.html#62084" class="Bound">ð</a> <a id="62184" href="NbE.html#54848" class="Function Operator">==^</a> <a id="62188" href="NbE.html#62096" class="Bound">ðÌ</a><a id="62190" class="Symbol">)</a>
          <a id="62202" class="Comment">-------------------</a>
        <a id="62230" class="Symbol">â</a> <a id="62232" href="NbE.html#62084" class="Bound">ð</a> <a id="62234" href="NbE.html#56698" class="Function Operator">â</a> <a id="62236" class="Symbol">(</a><a id="62237" href="NbE.html#45132" class="Function">âáµ</a> <a id="62240" href="NbE.html#62096" class="Bound">ðÌ</a><a id="62242" class="Symbol">)</a>
</pre>
<p>An immediate consequence of this lemma is that
<code>Î , x:T â¢ x â âáµ ðÌ Î</code>, which we can define in Agda now as it
will be necessary for proving the next lemma we will introduce.</p>
<pre class="Agda"><a id="xââáµðÌ"></a><a id="62432" href="NbE.html#62432" class="Function">xââáµðÌ</a> <a id="62439" class="Symbol">:</a> <a id="62441" class="Symbol">â</a> <a id="62443" class="Symbol">{</a><a id="62444" href="NbE.html#62444" class="Bound">Î</a> <a id="62446" class="Symbol">:</a> <a id="62448" href="NbE.html#3822" class="Datatype">Ctx</a><a id="62451" class="Symbol">}</a> <a id="62453" class="Symbol">{</a><a id="62454" href="NbE.html#62454" class="Bound">T</a> <a id="62456" class="Symbol">:</a> <a id="62458" href="NbE.html#3029" class="Datatype">Type</a><a id="62462" class="Symbol">}</a>
        <a id="62472" class="Comment">-------------------------</a>
      <a id="62504" class="Symbol">â</a> <a id="62506" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="62508" href="NbE.html#4481" class="InductiveConstructor">ð</a> <a id="62510" class="Symbol">{</a><a id="62511" href="NbE.html#62444" class="Bound">Î</a><a id="62512" class="Symbol">}</a> <a id="62514" class="Symbol">{</a><a id="62515" href="NbE.html#62454" class="Bound">T</a><a id="62516" class="Symbol">}</a> <a id="62518" href="NbE.html#56698" class="Function Operator">â</a> <a id="62520" href="NbE.html#45132" class="Function">âáµ</a> <a id="62523" class="Symbol">(</a><a id="62524" href="NbE.html#45962" class="Function">ðÌ</a> <a id="62527" href="NbE.html#62454" class="Bound">T</a> <a id="62529" href="NbE.html#62444" class="Bound">Î</a><a id="62530" class="Symbol">)</a>
</pre>
<p>The second lemma is that if <code>Î â¢ t : T</code> and
<code>a â â¦ T â§</code> are logically related, then <code>t</code> is
definitionally equal to the reification of <code>a</code> for all
contexts <code>Îâ² â¤ Î</code>:</p>
<pre><code>Î â¢ t : T â a â â Îâ² â¤ Î. Îâ² â¢ t = âáµ a Îâ² : T</code></pre>
<pre class="Agda"><a id="ââ==â"></a><a id="62763" href="NbE.html#62763" class="Function">ââ==â</a> <a id="62769" class="Symbol">:</a> <a id="62771" class="Symbol">â</a> <a id="62773" class="Symbol">{</a><a id="62774" href="NbE.html#62774" class="Bound">Îâ²</a> <a id="62777" href="NbE.html#62777" class="Bound">Î</a> <a id="62779" class="Symbol">:</a> <a id="62781" href="NbE.html#3822" class="Datatype">Ctx</a><a id="62784" class="Symbol">}</a> <a id="62786" class="Symbol">{</a><a id="62787" href="NbE.html#62787" class="Bound">T</a> <a id="62789" class="Symbol">:</a> <a id="62791" href="NbE.html#3029" class="Datatype">Type</a><a id="62795" class="Symbol">}</a> <a id="62797" class="Symbol">{</a><a id="62798" href="NbE.html#62798" class="Bound">t</a> <a id="62800" class="Symbol">:</a> <a id="62802" href="NbE.html#62777" class="Bound">Î</a> <a id="62804" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="62806" href="NbE.html#62787" class="Bound">T</a><a id="62807" class="Symbol">}</a> <a id="62809" class="Symbol">{</a><a id="62810" href="NbE.html#62810" class="Bound">a</a> <a id="62812" class="Symbol">:</a> <a id="62814" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="62816" href="NbE.html#62787" class="Bound">T</a> <a id="62818" href="NbE.html#34437" class="Field Operator">â§</a><a id="62819" class="Symbol">}</a>
      <a id="62827" class="Symbol">â</a> <a id="62829" href="NbE.html#62798" class="Bound">t</a> <a id="62831" href="NbE.html#56698" class="Function Operator">â</a> <a id="62833" href="NbE.html#62810" class="Bound">a</a>
        <a id="62843" class="Comment">----------------------------</a>
      <a id="62878" class="Symbol">â</a> <a id="62880" class="Symbol">(</a><a id="62881" href="NbE.html#62881" class="Bound">Îâ²â¤Î</a> <a id="62886" class="Symbol">:</a> <a id="62888" href="NbE.html#62774" class="Bound">Îâ²</a> <a id="62891" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="62893" href="NbE.html#62777" class="Bound">Î</a><a id="62894" class="Symbol">)</a>
      <a id="62902" class="Symbol">â</a> <a id="62904" href="NbE.html#62881" class="Bound">Îâ²â¤Î</a> <a id="62909" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="62912" href="NbE.html#62798" class="Bound">t</a> <a id="62914" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="62917" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a> <a id="62923" class="Symbol">(</a><a id="62924" href="NbE.html#45237" class="Function">âáµ</a> <a id="62927" href="NbE.html#62810" class="Bound">a</a> <a id="62929" href="NbE.html#62774" class="Bound">Îâ²</a><a id="62931" class="Symbol">)</a>
</pre>
<p>This lemma is in fact what we wanted in the first place: that if a
term is logically related to a semantic object, then it is
definitionally equal to the reification of said object. It is stronger
than we need it to be, but again this is necessary to actually prove the
implication.</p>
<p>We will start by proving the first lemma, focusing on each case of
the proof separately, before moving on to proving the second lemma.
Again, the first lemma is:</p>
<pre><code>(â Îâ² â¤ Î. Îâ² â¢ ð = ðÌ(Î) : T) â Î â¢ ð : T â âáµ ðÌ</code></pre>
<p>We prove this by induction on the type <code>T</code>. At type
<code>ð</code>, our proof is immediate, as
<code>Î â¢ u : ð â âáµâ¿â±áµ ðÌ</code> is defined as:</p>
<pre><code>â Îâ² â¤ Î. Îâ² â¢ ð = ðÌ(Î) : ð</code></pre>
<p>Which is exactly our given proof.</p>
<pre class="Agda"><a id="63641" href="NbE.html#62051" class="Function">==^âââ</a> <a id="63648" class="Symbol">{</a><a id="63649" class="Argument">T</a> <a id="63651" class="Symbol">=</a> <a id="63653" href="NbE.html#3058" class="InductiveConstructor">ð</a><a id="63654" class="Symbol">}</a> <a id="63656" href="NbE.html#63656" class="Bound">pf</a> <a id="63659" href="NbE.html#63659" class="Bound">Îâ²â¤Î</a> <a id="63664" class="Symbol">=</a> <a id="63666" href="NbE.html#63656" class="Bound">pf</a> <a id="63669" href="NbE.html#63659" class="Bound">Îâ²â¤Î</a>
</pre>
<p>At type <code>S â T</code>, the proof is more complicated. We want to
prove that:</p>
<pre><code>(â Îâ² â¤ Î. Îâ² â¢ ð = ðÌ(Î) : S â T) â Î â¢ ð : S â T â âË¢  â áµ ðÌ</code></pre>
<p>By definition of <code>â</code>, this expands to:</p>
<pre><code>(â Îâ² â¤ Î. Îâ² â¢ ð = ðÌ(Î) : S â T) â
  â Îâ² â¤ Î. Îâ² â¢ s â a â
    Îâ² â¢ ð s â (âË¢  â áµ ðÌ) a</code></pre>
<p>This simplifies further by the definition of reflection:</p>
<pre><code>(â Îâ² â¤ Î. Îâ² â¢ ð = ðÌ(Î) : S â T) â
  â Îâ² â¤ Î. Îâ² â¢ s â a â
    Îâ² â¢ ð s â âáµ (ðÌ Â· âË¢ a)</code></pre>
<p>Our induction hypothesis gives us that at type <code>T</code>, the
following holds:</p>
<pre><code>(â Îâ³ â¤ Îâ². Îâ³ â¢ ð s = (ðÌ Â· âË¢ a) Îâ³) â
    Îâ² â¢ ð s â âáµ (ðÌ Â· âË¢ a)</code></pre>
<p>With our induction hypothesis, our new goal is to prove only
that:</p>
<pre><code>â Îâ³ â¤ Îâ². Îâ³ â¢ ð s = (ðÌ Â· (âË¢ a)) Îâ³ : T</code></pre>
<p>Note that <code>(ðÌ Â· (âË¢ a)) Îâ³</code> is equivalent to
<code>ðÌ(Îâ³) Â· (âË¢ a)(Îâ³)</code> (application of liftable neutrals is
overloaded), so the final form of the property we have to prove is:</p>
<pre><code>Îâ³ â¢ ð s = ðÌ(Îâ³) Â· âË¢ a Îâ³ : T</code></pre>
<p>Using the definitional equality rule of compatibility for
application, we need only prove that:</p>
<pre><code>Îâ³ â¢ ð = ðÌ(Îâ³) : S â T
Îâ³ â¢ s = âË¢ a Îâ³ : S</code></pre>
<p>The first property is our given evidence. We can use our other given
proof (that <code>Îâ² â¢ s : S â a</code>) with the the second lemma we
will be proving to prove the second property:</p>
<pre><code>Îâ² â¢ s : T â a â â Îâ³ â¤ Îâ². Îâ³ â¢ s = âáµ a Îâ³ : T</code></pre>
<pre class="Agda"><a id="64998" href="NbE.html#62051" class="Function">==^âââ</a> <a id="65005" class="Symbol">{</a><a id="65006" class="Argument">T</a> <a id="65008" class="Symbol">=</a> <a id="65010" class="Symbol">_</a> <a id="65012" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="65014" class="Symbol">_}</a> <a id="65017" class="Symbol">{</a><a id="65018" href="NbE.html#65018" class="Bound">ð</a><a id="65019" class="Symbol">}</a> <a id="65021" class="Symbol">{</a><a id="65022" href="NbE.html#65022" class="Bound">ðÌ</a><a id="65024" class="Symbol">}</a> <a id="65026" href="NbE.html#65026" class="Bound">pf</a> <a id="65029" class="Symbol">{</a><a id="65030" href="NbE.html#65030" class="Bound">Îâ²</a><a id="65032" class="Symbol">}</a> <a id="65034" href="NbE.html#65034" class="Bound">Îâ²â¤Î</a> <a id="65039" class="Symbol">{</a><a id="65040" href="NbE.html#65040" class="Bound">s</a><a id="65041" class="Symbol">}</a> <a id="65043" class="Symbol">{</a><a id="65044" href="NbE.html#65044" class="Bound">a</a><a id="65045" class="Symbol">}</a> <a id="65047" href="NbE.html#65047" class="Bound">sâa</a> <a id="65051" class="Symbol">=</a>
  <a id="65055" href="NbE.html#62051" class="Function">==^âââ</a> <a id="65062" href="NbE.html#65090" class="Function">ðÂ·s==ðÌÂ·âË¢a</a>
    <a id="65078" class="Keyword">where</a>
      <a id="65090" href="NbE.html#65090" class="Function">ðÂ·s==ðÌÂ·âË¢a</a> <a id="65102" class="Symbol">:</a> <a id="65104" class="Symbol">â</a> <a id="65106" class="Symbol">{</a><a id="65107" href="NbE.html#65107" class="Bound">Îâ³</a> <a id="65110" class="Symbol">:</a> <a id="65112" href="NbE.html#3822" class="Datatype">Ctx</a><a id="65115" class="Symbol">}</a>
                 <a id="65134" class="Symbol">â</a> <a id="65136" class="Symbol">(</a><a id="65137" href="NbE.html#65137" class="Bound">Îâ³â¤Îâ²</a> <a id="65143" class="Symbol">:</a> <a id="65145" href="NbE.html#65107" class="Bound">Îâ³</a> <a id="65148" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="65150" href="NbE.html#65030" class="Bound">Îâ²</a><a id="65152" class="Symbol">)</a>
                 <a id="65171" class="Symbol">â</a> <a id="65173" href="NbE.html#65137" class="Bound">Îâ³â¤Îâ²</a> <a id="65179" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="65182" class="Symbol">(</a><a id="65183" href="NbE.html#65034" class="Bound">Îâ²â¤Î</a> <a id="65188" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="65191" href="NbE.html#65018" class="Bound">ð</a><a id="65192" class="Symbol">)</a> <a id="65194" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="65196" href="NbE.html#65040" class="Bound">s</a> <a id="65198" href="NbE.html#54848" class="Function Operator">==^</a> <a id="65202" href="NbE.html#65022" class="Bound">ðÌ</a> <a id="65205" href="NbE.html#43003" class="Function Operator">Â·^</a> <a id="65208" class="Symbol">(</a><a id="65209" href="NbE.html#45237" class="Function">âáµ</a> <a id="65212" href="NbE.html#65044" class="Bound">a</a><a id="65213" class="Symbol">)</a>
      <a id="65221" href="NbE.html#65090" class="Function">ðÂ·s==ðÌÂ·âË¢a</a>  <a id="65234" class="Symbol">{</a><a id="65235" href="NbE.html#65235" class="Bound">Îâ³</a><a id="65237" class="Symbol">}</a> <a id="65239" href="NbE.html#65239" class="Bound">Îâ³â¤Îâ²</a>
        <a id="65253" class="Keyword">with</a> <a id="65258" href="NbE.html#65022" class="Bound">ðÌ</a> <a id="65261" href="NbE.html#65235" class="Bound">Îâ³</a>           <a id="65274" class="Symbol">|</a> <a id="65276" href="NbE.html#65026" class="Bound">pf</a> <a id="65279" class="Symbol">(</a><a id="65280" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="65288" href="NbE.html#65239" class="Bound">Îâ³â¤Îâ²</a> <a id="65294" href="NbE.html#65034" class="Bound">Îâ²â¤Î</a><a id="65298" class="Symbol">)</a>
      <a id="65306" class="Symbol">...</a> <a id="65310" class="Symbol">|</a> <a id="65312" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="65317" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="65319" href="NbE.html#65319" class="Bound">ðâ³</a> <a id="65322" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="65324" class="Symbol">_</a> <a id="65326" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a> <a id="65328" class="Symbol">|</a> <a id="65330" href="NbE.html#65330" class="Bound">ð==ðâ³</a>                   <a id="65354" class="Symbol">=</a>
        <a id="65364" href="NbE.html#31770" class="Function Operator">begin==</a>
          <a id="65382" class="Bound">Îâ³â¤Îâ²</a> <a id="65388" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="65391" class="Symbol">(</a><a id="65392" href="NbE.html#65034" class="Bound">Îâ²â¤Î</a> <a id="65397" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="65400" href="NbE.html#65018" class="Bound">ð</a><a id="65401" class="Symbol">)</a> <a id="65403" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="65405" href="NbE.html#65040" class="Bound">s</a>
        <a id="65415" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="65419" href="NbE.html#30764" class="InductiveConstructor">app-compatible</a> <a id="65434" class="Symbol">(</a><a id="65435" href="NbE.html#32376" class="Function">â¡â==</a> <a id="65440" class="Symbol">(</a><a id="65441" href="NbE.html#60313" class="Function">compose-weaken</a> <a id="65456" class="Bound">Îâ³â¤Îâ²</a> <a id="65462" href="NbE.html#65034" class="Bound">Îâ²â¤Î</a> <a id="65467" href="NbE.html#65018" class="Bound">ð</a><a id="65468" class="Symbol">))</a> <a id="65471" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a> <a id="65478" href="NbE.html#31903" class="Function Operator">â©</a>
          <a id="65490" class="Symbol">(</a><a id="65491" href="NbE.html#65736" class="Function">Îâ³â¤Î</a> <a id="65496" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="65499" href="NbE.html#65018" class="Bound">ð</a><a id="65500" class="Symbol">)</a> <a id="65502" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="65504" class="Symbol">(</a><a id="65505" class="Bound">Îâ³â¤Îâ²</a> <a id="65511" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="65514" href="NbE.html#65040" class="Bound">s</a><a id="65515" class="Symbol">)</a>
        <a id="65525" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="65529" href="NbE.html#30764" class="InductiveConstructor">app-compatible</a> <a id="65544" href="NbE.html#65330" class="Bound">ð==ðâ³</a> <a id="65550" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a> <a id="65557" href="NbE.html#31903" class="Function Operator">â©</a>
          <a id="65569" href="NbE.html#65319" class="Bound">ðâ³</a> <a id="65572" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="65574" class="Symbol">(</a><a id="65575" class="Bound">Îâ³â¤Îâ²</a> <a id="65581" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="65584" href="NbE.html#65040" class="Bound">s</a><a id="65585" class="Symbol">)</a>
        <a id="65595" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="65599" href="NbE.html#30764" class="InductiveConstructor">app-compatible</a> <a id="65614" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a> <a id="65621" href="NbE.html#65699" class="Function">s==âáµaÎâ³</a> <a id="65630" href="NbE.html#31903" class="Function Operator">â©</a>
          <a id="65642" href="NbE.html#65319" class="Bound">ðâ³</a> <a id="65645" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="65647" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a> <a id="65653" class="Symbol">(</a><a id="65654" href="NbE.html#45237" class="Function">âáµ</a> <a id="65657" href="NbE.html#65044" class="Bound">a</a> <a id="65659" class="Bound">Îâ³</a><a id="65661" class="Symbol">)</a>
        <a id="65671" href="NbE.html#32111" class="Function Operator">==â</a>
        <a id="65683" class="Keyword">where</a>
          <a id="65699" href="NbE.html#65699" class="Function">s==âáµaÎâ³</a> <a id="65708" class="Symbol">=</a> <a id="65710" href="NbE.html#62763" class="Function">ââ==â</a> <a id="65716" href="NbE.html#65047" class="Bound">sâa</a> <a id="65720" class="Bound">Îâ³â¤Îâ²</a>
          <a id="65736" href="NbE.html#65736" class="Function">Îâ³â¤Î</a> <a id="65741" class="Symbol">=</a> <a id="65743" href="NbE.html#9062" class="Function">â¤-trans</a> <a id="65751" class="Bound">Îâ³â¤Îâ²</a> <a id="65757" href="NbE.html#65034" class="Bound">Îâ²â¤Î</a>
</pre>
<p>This brings us to our second lemma:</p>
<pre><code>Î â¢ t : T â a â â Îâ² â¤ Î. Îâ² â¢ t = âáµ a Îâ² : T</code></pre>
<p>It will similarly be proven by induction on the type <code>T</code>.
First, let us prove the lemma for the type <code>ð</code>. At type
<code>ð</code>, our lemma simplifies (by definition of <code>â</code>)
to:</p>
<pre><code>(â Îâ² â¤ Î. Îâ² â¢ t : T = a (Îâ²)) â â Îâ² â¤ Î. Îâ² â¢ t = âáµâ¿â±áµ a Îâ² : T</code></pre>
<p>We can break this down further into a case analysis on
<code>a</code>, which can be either <code>unit</code> or an embedded
liftable neutral <code>ðÌ</code>. In both cases, we can use our given
proof.</p>
<pre class="Agda"><a id="66274" href="NbE.html#62763" class="Function">ââ==â</a> <a id="66280" class="Symbol">{</a><a id="66281" class="Argument">T</a> <a id="66283" class="Symbol">=</a> <a id="66285" href="NbE.html#3058" class="InductiveConstructor">ð</a><a id="66286" class="Symbol">}</a> <a id="66288" class="Symbol">{</a><a id="66289" class="Argument">a</a> <a id="66291" class="Symbol">=</a> <a id="66293" href="NbE.html#43562" class="InductiveConstructor">unit</a><a id="66297" class="Symbol">}</a> <a id="66299" href="NbE.html#66299" class="Bound">pf</a> <a id="66302" class="Keyword">with</a> <a id="66307" href="NbE.html#45237" class="Function">âáµ</a> <a id="66310" class="Symbol">{</a><a id="66311" href="NbE.html#3058" class="InductiveConstructor">ð</a><a id="66312" class="Symbol">}</a> <a id="66314" href="NbE.html#43562" class="InductiveConstructor">unit</a>
<a id="66319" class="Symbol">...</a> <a id="66323" class="Symbol">|</a> <a id="66325" class="Symbol">_</a> <a id="66327" class="Symbol">=</a> <a id="66329" class="Bound">pf</a>
<a id="66332" href="NbE.html#62763" class="Function">ââ==â</a> <a id="66338" class="Symbol">{</a><a id="66339" href="NbE.html#66339" class="Bound">Îâ²</a><a id="66341" class="Symbol">}</a> <a id="66343" class="Symbol">{</a><a id="66344" class="Argument">T</a> <a id="66346" class="Symbol">=</a> <a id="66348" href="NbE.html#3058" class="InductiveConstructor">ð</a><a id="66349" class="Symbol">}</a> <a id="66351" class="Symbol">{</a><a id="66352" class="Argument">a</a> <a id="66354" class="Symbol">=</a> <a id="66356" href="NbE.html#43574" class="InductiveConstructor">ne</a> <a id="66359" href="NbE.html#66359" class="Bound">ðÌ</a><a id="66361" class="Symbol">}</a> <a id="66363" href="NbE.html#66363" class="Bound">pf</a> <a id="66366" href="NbE.html#66366" class="Bound">Îâ²â¤Î</a>
  <a id="66373" class="Keyword">with</a> <a id="66378" href="NbE.html#66359" class="Bound">ðÌ</a> <a id="66381" href="NbE.html#66339" class="Bound">Îâ²</a>           <a id="66394" class="Symbol">|</a> <a id="66396" href="NbE.html#66363" class="Bound">pf</a> <a id="66399" href="NbE.html#66366" class="Bound">Îâ²â¤Î</a>
<a id="66404" class="Symbol">...</a> <a id="66408" class="Symbol">|</a> <a id="66410" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="66415" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="66417" href="NbE.html#66417" class="Bound">ð</a> <a id="66419" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="66421" class="Symbol">_</a> <a id="66423" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>  <a id="66426" class="Symbol">|</a> <a id="66428" href="NbE.html#66428" class="Bound">t==ð</a> <a id="66433" class="Symbol">=</a> <a id="66435" href="NbE.html#66428" class="Bound">t==ð</a>
</pre>
<p>For the case where we are at a function type <code>S â T</code>, our
lemma now simplifies to:</p>
<pre><code>(â Îâ² â¤ Î. Îâ² â¢ x : S â a â Îâ² â¢ t x : T â f a) â
  â Îâ² â¤ Î. Îâ² â¢ t = âË¢  â  áµ f Îâ² : S â T</code></pre>
<p>We can once again expand out the definition of reification at type
<code>S â T</code>, simplifying the lemma to:</p>
<pre><code>(â Îâ² â¤ Î. Îâ² â¢ x : S â a â Îâ² â¢ t x : T â f a) â
  Îâ² â¢ t = Î»x. âáµ f a (Îâ², x:S) : T , where a = âË¢ (ðÌ S Îâ²)</code></pre>
<p>We prove this by Î·-expanding <code>t</code> to <code>Î»x. t x</code>
and then using the compatibility rule for abstractions to simplify our
goal to proving:</p>
<pre><code>  Îâ², x:S â¢ t x = Î»x. âáµ f a (Îâ², x:S) : T</code></pre>
<p>Our inductive hypothesis gives us that:</p>
<pre><code>  â Îâ³ â¤ Îâ². Îâ³ â¢ t x = âáµ f a : T</code></pre>
<p>With it, all we need to prove is:</p>
<pre><code>Îâ² , x : S â¢ t x : T â f a</code></pre>
<p>Our given proof further simplifies this goal to simply proving that
<code>â Îâ³ â¤ Îâ², x:S. Îâ³ â¢ x : S â a</code>. We have been using
<code>a</code> for simplicity, but again, <code>a = âË¢ (ðÌ S Îâ²)</code>.
Earlier, we established a lemma <code>xââáµðÌ</code> giving us exactly
this goal, so we use it here to finish our proof.</p>
<pre class="Agda"><a id="67475" href="NbE.html#62763" class="Function">ââ==â</a> <a id="67481" class="Symbol">{</a><a id="67482" href="NbE.html#67482" class="Bound">Îâ²</a><a id="67484" class="Symbol">}</a> <a id="67486" class="Symbol">{</a><a id="67487" class="Argument">T</a> <a id="67489" class="Symbol">=</a> <a id="67491" href="NbE.html#67491" class="Bound">S</a> <a id="67493" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="67495" class="Symbol">_}</a> <a id="67498" class="Symbol">{</a><a id="67499" href="NbE.html#67499" class="Bound">t</a><a id="67500" class="Symbol">}</a> <a id="67502" class="Symbol">{</a><a id="67503" href="NbE.html#67503" class="Bound">f</a><a id="67504" class="Symbol">}</a> <a id="67506" href="NbE.html#67506" class="Bound">pf</a> <a id="67509" href="NbE.html#67509" class="Bound">Îâ²â¤Î</a> <a id="67514" class="Symbol">=</a>
  <a id="67518" href="NbE.html#31770" class="Function Operator">begin==</a>
    <a id="67530" href="NbE.html#67509" class="Bound">Îâ²â¤Î</a> <a id="67535" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="67538" href="NbE.html#67499" class="Bound">t</a>
  <a id="67542" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="67546" href="NbE.html#30469" class="InductiveConstructor">Î·</a> <a id="67548" href="NbE.html#31903" class="Function Operator">â©</a>
    <a id="67554" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="67556" class="Symbol">(</a><a id="67557" href="NbE.html#67491" class="Bound">S</a> <a id="67559" href="NbE.html#17198" class="Function Operator">â¥â¢</a> <a id="67562" href="NbE.html#67509" class="Bound">Îâ²â¤Î</a> <a id="67567" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="67570" href="NbE.html#67499" class="Bound">t</a><a id="67571" class="Symbol">)</a> <a id="67573" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="67575" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="67577" href="NbE.html#4481" class="InductiveConstructor">ð</a>
  <a id="67581" href="NbE.html#31903" class="Function Operator">==â¨</a>
    <a id="67589" href="NbE.html#30605" class="InductiveConstructor">abs-compatible</a> <a id="67604" class="Symbol">(</a>
      <a id="67612" href="NbE.html#31770" class="Function Operator">begin==</a>
        <a id="67628" class="Symbol">(</a><a id="67629" href="NbE.html#67491" class="Bound">S</a> <a id="67631" href="NbE.html#17198" class="Function Operator">â¥â¢</a> <a id="67634" href="NbE.html#67509" class="Bound">Îâ²â¤Î</a> <a id="67639" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="67642" href="NbE.html#67499" class="Bound">t</a><a id="67643" class="Symbol">)</a> <a id="67645" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="67647" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="67649" href="NbE.html#4481" class="InductiveConstructor">ð</a>
      <a id="67657" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="67661" href="NbE.html#30764" class="InductiveConstructor">app-compatible</a> <a id="67676" href="NbE.html#67920" class="Function">subst-lemma</a> <a id="67688" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a> <a id="67695" href="NbE.html#31903" class="Function Operator">â©</a>
        <a id="67705" class="Symbol">(</a><a id="67706" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="67712" href="NbE.html#67509" class="Bound">Îâ²â¤Î</a> <a id="67717" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="67720" href="NbE.html#67499" class="Bound">t</a><a id="67721" class="Symbol">)</a> <a id="67723" href="NbE.html#15385" class="Function Operator">[</a> <a id="67725" href="NbE.html#15894" class="Function">id</a> <a id="67728" href="NbE.html#15385" class="Function Operator">]</a> <a id="67730" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="67732" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="67734" href="NbE.html#4481" class="InductiveConstructor">ð</a>
      <a id="67742" href="NbE.html#31903" class="Function Operator">==â¨</a> <a id="67746" href="NbE.html#62763" class="Function">ââ==â</a> <a id="67752" class="Symbol">(</a><a id="67753" href="NbE.html#67506" class="Bound">pf</a> <a id="67756" class="Symbol">(</a><a id="67757" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="67763" href="NbE.html#67509" class="Bound">Îâ²â¤Î</a><a id="67767" class="Symbol">)</a> <a id="67769" href="NbE.html#67893" class="Function">xâa</a><a id="67772" class="Symbol">)</a> <a id="67774" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="67779" href="NbE.html#31903" class="Function Operator">â©</a>
        <a id="67789" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a> <a id="67795" class="Symbol">(</a><a id="67796" href="NbE.html#45237" class="Function">âáµ</a> <a id="67799" class="Symbol">(</a><a id="67800" href="NbE.html#67503" class="Bound">f</a> <a id="67802" href="NbE.html#67868" class="Function">a</a><a id="67803" class="Symbol">)</a> <a id="67805" class="Symbol">(</a><a id="67806" href="NbE.html#67482" class="Bound">Îâ²</a> <a id="67809" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="67811" href="NbE.html#67491" class="Bound">S</a><a id="67812" class="Symbol">))</a>
      <a id="67821" href="NbE.html#32111" class="Function Operator">==â</a>
  <a id="67827" class="Symbol">)</a><a id="67828" href="NbE.html#31903" class="Function Operator">â©</a>
    <a id="67834" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a> <a id="67840" class="Symbol">(</a><a id="67841" href="NbE.html#45237" class="Function">âáµ</a> <a id="67844" href="NbE.html#67503" class="Bound">f</a> <a id="67846" href="NbE.html#67482" class="Bound">Îâ²</a><a id="67848" class="Symbol">)</a>
  <a id="67852" href="NbE.html#32111" class="Function Operator">==â</a>
  <a id="67858" class="Keyword">where</a>
    <a id="67868" href="NbE.html#67868" class="Function">a</a> <a id="67870" class="Symbol">=</a> <a id="67872" href="NbE.html#45132" class="Function">âáµ</a> <a id="67875" class="Symbol">{</a><a id="67876" href="NbE.html#67491" class="Bound">S</a><a id="67877" class="Symbol">}</a> <a id="67879" class="Symbol">(</a><a id="67880" href="NbE.html#45962" class="Function">ðÌ</a> <a id="67883" href="NbE.html#67491" class="Bound">S</a> <a id="67885" href="NbE.html#67482" class="Bound">Îâ²</a><a id="67887" class="Symbol">)</a>
    <a id="67893" href="NbE.html#67893" class="Function">xâa</a> <a id="67897" class="Symbol">=</a> <a id="67899" href="NbE.html#62432" class="Function">xââáµðÌ</a> <a id="67906" class="Symbol">{</a><a id="67907" href="NbE.html#67482" class="Bound">Îâ²</a><a id="67909" class="Symbol">}</a> <a id="67911" class="Symbol">{</a><a id="67912" href="NbE.html#67491" class="Bound">S</a><a id="67913" class="Symbol">}</a>

    <a id="67920" href="NbE.html#67920" class="Function">subst-lemma</a> <a id="67932" class="Symbol">=</a>
      <a id="67940" href="NbE.html#32376" class="Function">â¡â==</a> <a id="67945" class="Symbol">(</a><a id="67946" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a>
             <a id="67965" class="Symbol">(</a><a id="67966" href="NbE.html#25448" class="Function">sub-sub</a> <a id="67974" class="Symbol">{</a><a id="67975" class="Argument">Ï</a> <a id="67977" class="Symbol">=</a> <a id="67979" href="NbE.html#15933" class="Function">â¥</a><a id="67980" class="Symbol">}</a> <a id="67982" class="Symbol">{</a><a id="67983" href="NbE.html#16898" class="Function">weaken</a> <a id="67990" href="NbE.html#67509" class="Bound">Îâ²â¤Î</a><a id="67994" class="Symbol">}</a> <a id="67996" class="Symbol">{</a><a id="67997" href="NbE.html#67499" class="Bound">t</a><a id="67998" class="Symbol">})</a>
             <a id="68014" class="Symbol">(</a><a id="68015" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="68019" href="NbE.html#22487" class="Function">[id]-identity</a><a id="68032" class="Symbol">))</a>
</pre>
<p>Lastly, we can quickly derive the lemma
<code>Î, x:T â¢ x : T â âáµ ðÌ Î</code> as a special case of
<code>(â Îâ² â¤ Î. Îâ² â¢ ð = ðÌ(Îâ²) : T) â Î â¢ ð â âáµ ðÌ</code>. The proof
requires an additional lemma with its proof ommitted,
<code>â¤-pf-irrelevance</code>: any proof of context extension is
equivalent.</p>
<pre class="Agda"><a id="â¤-pf-irrelevance"></a><a id="68318" href="NbE.html#68318" class="Function">â¤-pf-irrelevance</a> <a id="68335" class="Symbol">:</a> <a id="68337" class="Symbol">â</a> <a id="68339" class="Symbol">{</a><a id="68340" href="NbE.html#68340" class="Bound">Îâ²</a> <a id="68343" href="NbE.html#68343" class="Bound">Î</a> <a id="68345" class="Symbol">:</a> <a id="68347" href="NbE.html#3822" class="Datatype">Ctx</a><a id="68350" class="Symbol">}</a>
                 <a id="68369" class="Symbol">â</a> <a id="68371" class="Symbol">(</a><a id="68372" href="NbE.html#68372" class="Bound">pfâ</a> <a id="68376" class="Symbol">:</a> <a id="68378" href="NbE.html#68340" class="Bound">Îâ²</a> <a id="68381" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="68383" href="NbE.html#68343" class="Bound">Î</a><a id="68384" class="Symbol">)</a>
                 <a id="68403" class="Symbol">â</a> <a id="68405" class="Symbol">(</a><a id="68406" href="NbE.html#68406" class="Bound">pfâ</a> <a id="68410" class="Symbol">:</a> <a id="68412" href="NbE.html#68340" class="Bound">Îâ²</a> <a id="68415" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="68417" href="NbE.html#68343" class="Bound">Î</a><a id="68418" class="Symbol">)</a>
                 <a id="68437" class="Symbol">â</a> <a id="68439" href="NbE.html#68372" class="Bound">pfâ</a> <a id="68443" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="68445" href="NbE.html#68406" class="Bound">pfâ</a>
</pre>
<!---
<pre class="Agda"><a id="68468" href="NbE.html#68318" class="Function">â¤-pf-irrelevance</a> <a id="68485" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="68490" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>               <a id="68509" class="Symbol">=</a> <a id="68511" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="68516" href="NbE.html#68318" class="Function">â¤-pf-irrelevance</a> <a id="68533" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="68538" class="Symbol">(</a><a id="68539" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="68545" href="NbE.html#68545" class="Bound">pf</a><a id="68547" class="Symbol">)</a>         <a id="68557" class="Symbol">=</a> <a id="68559" href="Data.Empty.html#628" class="Function">â¥-elim</a> <a id="68566" class="Symbol">(</a><a id="68567" href="NbE.html#8229" class="Function">Îâ°Î,T</a> <a id="68573" href="NbE.html#68545" class="Bound">pf</a><a id="68575" class="Symbol">)</a>
<a id="68577" href="NbE.html#68318" class="Function">â¤-pf-irrelevance</a> <a id="68594" class="Symbol">(</a><a id="68595" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="68601" href="NbE.html#68601" class="Bound">pf</a><a id="68603" class="Symbol">)</a> <a id="68605" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>         <a id="68618" class="Symbol">=</a> <a id="68620" href="Data.Empty.html#628" class="Function">â¥-elim</a> <a id="68627" class="Symbol">(</a><a id="68628" href="NbE.html#8229" class="Function">Îâ°Î,T</a> <a id="68634" href="NbE.html#68601" class="Bound">pf</a><a id="68636" class="Symbol">)</a>
<a id="68638" href="NbE.html#68318" class="Function">â¤-pf-irrelevance</a> <a id="68655" class="Symbol">(</a><a id="68656" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="68662" href="NbE.html#68662" class="Bound">pfâ</a><a id="68665" class="Symbol">)</a> <a id="68667" class="Symbol">(</a><a id="68668" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="68674" href="NbE.html#68674" class="Bound">pfâ</a><a id="68677" class="Symbol">)</a>
  <a id="68681" class="Keyword">rewrite</a> <a id="68689" href="NbE.html#68318" class="Function">â¤-pf-irrelevance</a> <a id="68706" href="NbE.html#68662" class="Bound">pfâ</a> <a id="68710" href="NbE.html#68674" class="Bound">pfâ</a>       <a id="68720" class="Symbol">=</a> <a id="68722" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>--->
<pre class="Agda"><a id="68745" href="NbE.html#62432" class="Function">xââáµðÌ</a> <a id="68752" class="Symbol">{_}</a> <a id="68756" class="Symbol">{</a><a id="68757" href="NbE.html#68757" class="Bound">T</a><a id="68758" class="Symbol">}</a> <a id="68760" class="Symbol">=</a> <a id="68762" href="NbE.html#62051" class="Function">==^âââ</a> <a id="68769" href="NbE.html#68783" class="Function">x==ðÌ</a> <a id="68775" class="Keyword">where</a>
  <a id="68783" href="NbE.html#68783" class="Function">x==ðÌ</a> <a id="68789" class="Symbol">:</a> <a id="68791" class="Symbol">â</a> <a id="68793" class="Symbol">{</a><a id="68794" href="NbE.html#68794" class="Bound">Î</a> <a id="68796" href="NbE.html#68796" class="Bound">Îâ²</a> <a id="68799" class="Symbol">:</a> <a id="68801" href="NbE.html#3822" class="Datatype">Ctx</a><a id="68804" class="Symbol">}</a>
       <a id="68813" class="Symbol">â</a> <a id="68815" class="Symbol">(</a><a id="68816" href="NbE.html#68816" class="Bound">Îâ²â¤Î,T</a> <a id="68823" class="Symbol">:</a> <a id="68825" href="NbE.html#68796" class="Bound">Îâ²</a> <a id="68828" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="68830" href="NbE.html#68794" class="Bound">Î</a> <a id="68832" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="68834" href="NbE.html#68757" class="Bound">T</a><a id="68835" class="Symbol">)</a>
       <a id="68844" class="Symbol">â</a> <a id="68846" href="NbE.html#68816" class="Bound">Îâ²â¤Î,T</a> <a id="68853" href="NbE.html#17000" class="Function Operator">â¤â¢</a> <a id="68856" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="68858" href="NbE.html#4481" class="InductiveConstructor">ð</a> <a id="68860" href="NbE.html#54848" class="Function Operator">==^</a> <a id="68864" href="NbE.html#45962" class="Function">ðÌ</a> <a id="68867" href="NbE.html#68757" class="Bound">T</a> <a id="68869" href="NbE.html#68794" class="Bound">Î</a>
  <a id="68873" href="NbE.html#68783" class="Function">x==ðÌ</a> <a id="68879" class="Symbol">{</a><a id="68880" href="NbE.html#68880" class="Bound">Î</a><a id="68881" class="Symbol">}</a> <a id="68883" class="Symbol">{</a><a id="68884" href="NbE.html#68884" class="Bound">Îâ²</a><a id="68886" class="Symbol">}</a> <a id="68888" href="NbE.html#68888" class="Bound">pf</a>
    <a id="68895" class="Keyword">with</a> <a id="68900" href="NbE.html#68884" class="Bound">Îâ²</a> <a id="68903" href="NbE.html#10785" class="Function Operator">â¤?</a> <a id="68906" class="Symbol">(</a><a id="68907" href="NbE.html#68880" class="Bound">Î</a> <a id="68909" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="68911" href="NbE.html#68757" class="Bound">T</a><a id="68912" class="Symbol">)</a>
  <a id="68916" class="Symbol">...</a> <a id="68920" class="Symbol">|</a> <a id="68922" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="68925" href="NbE.html#68925" class="Bound">Â¬pf</a>                           <a id="68955" class="Symbol">=</a> <a id="68957" href="NbE.html#68925" class="Bound">Â¬pf</a> <a id="68961" class="Bound">pf</a>
  <a id="68966" class="Symbol">...</a> <a id="68970" class="Symbol">|</a> <a id="68972" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="68976" href="NbE.html#68976" class="Bound">pfâ²</a>
    <a id="68984" class="Keyword">with</a> <a id="68989" href="NbE.html#45962" class="Function">ðÌ</a> <a id="68992" href="NbE.html#68757" class="Bound">T</a> <a id="68994" class="Bound">Î</a> <a id="68996" class="Symbol">|</a> <a id="68998" href="NbE.html#68318" class="Function">â¤-pf-irrelevance</a> <a id="69015" class="Bound">pf</a> <a id="69018" href="NbE.html#68976" class="Bound">pfâ²</a>
  <a id="69024" class="Symbol">...</a> <a id="69028" class="Symbol">|</a> <a id="69030" class="Symbol">_</a>      <a id="69037" class="Symbol">|</a> <a id="69039" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
    <a id="69048" class="Keyword">with</a> <a id="69053" href="NbE.html#13715" class="Function">Ï-â¤</a> <a id="69057" class="Bound">pfâ²</a> <a id="69061" href="NbE.html#4481" class="InductiveConstructor">ð</a>
  <a id="69065" class="Symbol">...|</a> <a id="69070" class="Symbol">_</a>                                 <a id="69104" class="Symbol">=</a> <a id="69106" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a>
</pre>
<p>Letâs focus on one of the lemmas we have proven:</p>
<pre><code>Î â¢ t : T â a â â Îâ² â¤ Î. Îâ² â¢ t = âáµ a Î : T</code></pre>
<p>We have defined our logical relation with the goal of having the
following case of this property:</p>
<pre><code>Î â¢ t : T â a â Î â¢ t = âáµ a Î : T</code></pre>
<p>We now need to show that:</p>
<pre><code>Î â¢ t : T â â¦tâ§ âÎ</code></pre>
<p>With this, we can arrive at the definitional equality of a term and
its normal form as obtained from our algorithm for normalization by
evaluation:</p>
<pre><code>Î â¢ t = âáµ (â¦tâ§ âÎ) Î : T</code></pre>
<p>To prove <code>Î â¢ t : T â â¦tâ§ âÎ</code>, we will need to extend our
logical relation to include substitutions and environments.</p>
<p>A parallel substitution <code>Î â¢ Ï : Î</code> will be logically
related to an environment <code>Î´ â â¦ Î â§</code> if every term that the
substitution <code>Ï</code> is substituting for the context
<code>Î</code> is logically related to the corresponding semantic object
in the environment <code>Î´</code>. In Agda, we will use <code>âË¢</code>
as <code>â</code> is already reserved for terms and semantic objects,
though we will refer to the relation as <code>Î â¢ Ï : Î â Î´</code>.</p>
<pre class="Agda"><a id="_âË¢_"></a><a id="70109" href="NbE.html#70109" class="Function Operator">_âË¢_</a> <a id="70114" class="Symbol">:</a> <a id="70116" class="Symbol">â</a> <a id="70118" class="Symbol">{</a><a id="70119" href="NbE.html#70119" class="Bound">Î</a> <a id="70121" href="NbE.html#70121" class="Bound">Î</a> <a id="70123" class="Symbol">:</a> <a id="70125" href="NbE.html#3822" class="Datatype">Ctx</a><a id="70128" class="Symbol">}</a> <a id="70130" class="Symbol">â</a> <a id="70132" href="NbE.html#11534" class="Function">Sub</a> <a id="70136" href="NbE.html#70119" class="Bound">Î</a> <a id="70138" href="NbE.html#70121" class="Bound">Î</a> <a id="70140" class="Symbol">â</a> <a id="70142" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="70144" href="NbE.html#70121" class="Bound">Î</a> <a id="70146" href="NbE.html#34437" class="Field Operator">â§</a> <a id="70148" class="Symbol">â</a> <a id="70150" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="70154" href="NbE.html#70109" class="Function Operator">_âË¢_</a> <a id="70159" class="Symbol">{</a><a id="70160" class="Argument">Î</a> <a id="70162" class="Symbol">=</a> <a id="70164" href="NbE.html#70164" class="Bound">Î</a><a id="70165" class="Symbol">}</a> <a id="70167" href="NbE.html#70167" class="Bound">Ï</a> <a id="70169" href="NbE.html#70169" class="Bound">Î´</a> <a id="70171" class="Symbol">=</a> <a id="70173" class="Symbol">â</a> <a id="70175" class="Symbol">{</a><a id="70176" href="NbE.html#70176" class="Bound">T</a> <a id="70178" class="Symbol">:</a> <a id="70180" href="NbE.html#3029" class="Datatype">Type</a><a id="70184" class="Symbol">}</a> <a id="70186" class="Symbol">â</a> <a id="70188" class="Symbol">(</a><a id="70189" href="NbE.html#70189" class="Bound">x</a> <a id="70191" class="Symbol">:</a> <a id="70193" href="NbE.html#70164" class="Bound">Î</a> <a id="70195" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="70197" href="NbE.html#70176" class="Bound">T</a><a id="70198" class="Symbol">)</a> <a id="70200" class="Symbol">â</a> <a id="70202" href="NbE.html#70167" class="Bound">Ï</a> <a id="70204" href="NbE.html#70189" class="Bound">x</a> <a id="70206" href="NbE.html#56698" class="Function Operator">â</a> <a id="70208" href="NbE.html#43721" class="Function">env-lookup</a> <a id="70219" href="NbE.html#70189" class="Bound">x</a> <a id="70221" href="NbE.html#70169" class="Bound">Î´</a>
</pre>
<!---
<pre class="Agda"><a id="70242" class="Keyword">infix</a> <a id="70248" class="Number">4</a> <a id="70250" href="NbE.html#70109" class="Function Operator">_âË¢_</a>
</pre>--->
<p>Similarly as for the logical relation between terms and semantic
objects, if a logical relation holds between a substitution and an
environment, it holds for any weakening of the substitution. The proof
is immediate using <code>â-weaken</code>.</p>
<pre class="Agda"><a id="âË¢-weaken"></a><a id="70508" href="NbE.html#70508" class="Function">âË¢-weaken</a> <a id="70518" class="Symbol">:</a> <a id="70520" class="Symbol">â</a> <a id="70522" class="Symbol">{</a><a id="70523" href="NbE.html#70523" class="Bound">Îâ²</a> <a id="70526" href="NbE.html#70526" class="Bound">Î</a> <a id="70528" href="NbE.html#70528" class="Bound">Î</a> <a id="70530" class="Symbol">:</a> <a id="70532" href="NbE.html#3822" class="Datatype">Ctx</a><a id="70535" class="Symbol">}</a> <a id="70537" class="Symbol">{</a><a id="70538" href="NbE.html#70538" class="Bound">Îâ²â¤Î</a> <a id="70543" class="Symbol">:</a> <a id="70545" href="NbE.html#70523" class="Bound">Îâ²</a> <a id="70548" href="NbE.html#7428" class="Datatype Operator">â¤</a> <a id="70550" href="NbE.html#70526" class="Bound">Î</a><a id="70551" class="Symbol">}</a> <a id="70553" class="Symbol">{</a><a id="70554" href="NbE.html#70554" class="Bound">Ï</a> <a id="70556" class="Symbol">:</a> <a id="70558" href="NbE.html#11534" class="Function">Sub</a> <a id="70562" href="NbE.html#70526" class="Bound">Î</a> <a id="70564" href="NbE.html#70528" class="Bound">Î</a><a id="70565" class="Symbol">}</a> <a id="70567" class="Symbol">{</a><a id="70568" href="NbE.html#70568" class="Bound">Î´</a> <a id="70570" class="Symbol">:</a> <a id="70572" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="70574" href="NbE.html#70528" class="Bound">Î</a> <a id="70576" href="NbE.html#34437" class="Field Operator">â§</a><a id="70577" class="Symbol">}</a>
           <a id="70590" class="Symbol">â</a> <a id="70592" href="NbE.html#70554" class="Bound">Ï</a> <a id="70594" href="NbE.html#70109" class="Function Operator">âË¢</a> <a id="70597" href="NbE.html#70568" class="Bound">Î´</a>
           <a id="70610" class="Symbol">â</a> <a id="70612" href="NbE.html#70554" class="Bound">Ï</a> <a id="70614" href="NbE.html#15989" class="Function Operator">â</a> <a id="70616" class="Symbol">(</a><a id="70617" href="NbE.html#16898" class="Function">weaken</a> <a id="70624" href="NbE.html#70538" class="Bound">Îâ²â¤Î</a><a id="70628" class="Symbol">)</a> <a id="70630" href="NbE.html#70109" class="Function Operator">âË¢</a> <a id="70633" href="NbE.html#70568" class="Bound">Î´</a>
<a id="70635" href="NbE.html#70508" class="Function">âË¢-weaken</a> <a id="70645" class="Symbol">{</a><a id="70646" class="Argument">Îâ²â¤Î</a> <a id="70651" class="Symbol">=</a> <a id="70653" href="NbE.html#70653" class="Bound">Îâ²â¤Î</a><a id="70657" class="Symbol">}</a> <a id="70659" href="NbE.html#70659" class="Bound">ÏâÎ´</a> <a id="70663" href="NbE.html#70663" class="Bound">x</a> <a id="70665" class="Symbol">=</a> <a id="70667" href="NbE.html#60739" class="Function">â-weaken</a> <a id="70676" class="Symbol">{</a><a id="70677" class="Argument">Îâ²â¤Î</a> <a id="70682" class="Symbol">=</a> <a id="70684" href="NbE.html#70653" class="Bound">Îâ²â¤Î</a><a id="70688" class="Symbol">}</a> <a id="70690" class="Symbol">(</a><a id="70691" href="NbE.html#70659" class="Bound">ÏâÎ´</a> <a id="70695" href="NbE.html#70663" class="Bound">x</a><a id="70696" class="Symbol">)</a>
</pre>
<p>With the logical relation extended to substitutions and environments,
we can introduce the semantic typing judgement <code>Î â¨ t : T</code>:
for any substitution <code>Î â¢ Ï : Î</code> that is logically related to
an environment <code>Î´ â â¦ Î â§</code>, <code>Î â¢ t[Ï] : T</code> must be
logically related to <code>â¦ t â§ Î´</code>. Using the semantic typing
judgement, we will be able to derive that
<code>Î â¢ t â â¦ t â§ âÎ</code>.</p>
<pre class="Agda"><a id="_â¨_"></a><a id="71075" href="NbE.html#71075" class="Function Operator">_â¨_</a> <a id="71079" class="Symbol">:</a> <a id="71081" class="Symbol">â</a> <a id="71083" class="Symbol">{</a><a id="71084" href="NbE.html#71084" class="Bound">T</a> <a id="71086" class="Symbol">:</a> <a id="71088" href="NbE.html#3029" class="Datatype">Type</a><a id="71092" class="Symbol">}</a> <a id="71094" class="Symbol">â</a> <a id="71096" class="Symbol">(</a><a id="71097" href="NbE.html#71097" class="Bound">Î</a> <a id="71099" class="Symbol">:</a> <a id="71101" href="NbE.html#3822" class="Datatype">Ctx</a><a id="71104" class="Symbol">)</a> <a id="71106" class="Symbol">â</a> <a id="71108" href="NbE.html#71097" class="Bound">Î</a> <a id="71110" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="71112" href="NbE.html#71084" class="Bound">T</a> <a id="71114" class="Symbol">â</a> <a id="71116" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="71120" href="NbE.html#71075" class="Function Operator">_â¨_</a> <a id="71124" class="Symbol">{</a><a id="71125" href="NbE.html#71125" class="Bound">T</a><a id="71126" class="Symbol">}</a> <a id="71128" href="NbE.html#71128" class="Bound">Î</a> <a id="71130" href="NbE.html#71130" class="Bound">t</a> <a id="71132" class="Symbol">=</a>
  <a id="71136" class="Symbol">â</a> <a id="71138" class="Symbol">{</a><a id="71139" href="NbE.html#71139" class="Bound">Î</a> <a id="71141" class="Symbol">:</a> <a id="71143" href="NbE.html#3822" class="Datatype">Ctx</a><a id="71146" class="Symbol">}</a> <a id="71148" class="Symbol">{</a><a id="71149" href="NbE.html#71149" class="Bound">Ï</a> <a id="71151" class="Symbol">:</a> <a id="71153" href="NbE.html#11534" class="Function">Sub</a> <a id="71157" href="NbE.html#71139" class="Bound">Î</a> <a id="71159" href="NbE.html#71128" class="Bound">Î</a><a id="71160" class="Symbol">}</a> <a id="71162" class="Symbol">{</a><a id="71163" href="NbE.html#71163" class="Bound">Î´</a> <a id="71165" class="Symbol">:</a> <a id="71167" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="71169" href="NbE.html#71128" class="Bound">Î</a> <a id="71171" href="NbE.html#34437" class="Field Operator">â§</a><a id="71172" class="Symbol">}</a>
  <a id="71176" class="Symbol">â</a> <a id="71178" href="NbE.html#71149" class="Bound">Ï</a> <a id="71180" href="NbE.html#70109" class="Function Operator">âË¢</a> <a id="71183" href="NbE.html#71163" class="Bound">Î´</a>
    <a id="71189" class="Comment">-------</a>
  <a id="71199" class="Symbol">â</a> <a id="71201" href="NbE.html#71130" class="Bound">t</a> <a id="71203" href="NbE.html#15385" class="Function Operator">[</a> <a id="71205" href="NbE.html#71149" class="Bound">Ï</a> <a id="71207" href="NbE.html#15385" class="Function Operator">]</a> <a id="71209" href="NbE.html#56698" class="Function Operator">â</a> <a id="71211" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="71214" href="NbE.html#71130" class="Bound">t</a> <a id="71216" href="NbE.html#43873" class="Function Operator">â§</a> <a id="71218" href="NbE.html#71163" class="Bound">Î´</a>
</pre>
<p>We can prove the semantic typing judgement <code>Î â¨ t : T</code> by
induction on the typing judgement <code>Î â¢ t : T</code>; this is called
the fundamental lemma of logical relations.</p>
<p>For <code>unit</code>, the proof follows immediately from how we have
defined the logical relation between terms and semantic objects at type
<code>ð</code>. In the case of variables, the given proof is exactly
what we need. Application follows from our inductive hypotheses, leaving
us at the abstraction case, which is the most complicated to prove. Here
are the first three cases:</p>
<pre class="Agda"><a id="fundamental-lemma"></a><a id="71761" href="NbE.html#71761" class="Function">fundamental-lemma</a> <a id="71779" class="Symbol">:</a> <a id="71781" class="Symbol">â</a> <a id="71783" class="Symbol">{</a><a id="71784" href="NbE.html#71784" class="Bound">Î</a> <a id="71786" class="Symbol">:</a> <a id="71788" href="NbE.html#3822" class="Datatype">Ctx</a><a id="71791" class="Symbol">}</a> <a id="71793" class="Symbol">{</a><a id="71794" href="NbE.html#71794" class="Bound">T</a> <a id="71796" class="Symbol">:</a> <a id="71798" href="NbE.html#3029" class="Datatype">Type</a><a id="71802" class="Symbol">}</a> <a id="71804" class="Symbol">{</a><a id="71805" href="NbE.html#71805" class="Bound">t</a> <a id="71807" class="Symbol">:</a> <a id="71809" href="NbE.html#71784" class="Bound">Î</a> <a id="71811" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="71813" href="NbE.html#71794" class="Bound">T</a><a id="71814" class="Symbol">}</a>
                  <a id="71834" class="Symbol">â</a> <a id="71836" href="NbE.html#71784" class="Bound">Î</a> <a id="71838" href="NbE.html#71075" class="Function Operator">â¨</a> <a id="71840" href="NbE.html#71805" class="Bound">t</a>
<a id="71842" href="NbE.html#71761" class="Function">fundamental-lemma</a> <a id="71860" class="Symbol">{</a><a id="71861" class="Argument">t</a> <a id="71863" class="Symbol">=</a> <a id="71865" href="NbE.html#5763" class="InductiveConstructor">unit</a><a id="71869" class="Symbol">}</a> <a id="71871" href="NbE.html#71871" class="Bound">ÏâÎ´</a> <a id="71875" class="Symbol">_</a> <a id="71877" class="Symbol">=</a> <a id="71879" href="NbE.html#31021" class="InductiveConstructor">reflâ¼â¼</a>
<a id="71886" href="NbE.html#71761" class="Function">fundamental-lemma</a> <a id="71904" class="Symbol">{</a><a id="71905" class="Argument">t</a> <a id="71907" class="Symbol">=</a> <a id="71909" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="71911" href="NbE.html#71911" class="Bound">x</a><a id="71912" class="Symbol">}</a> <a id="71914" href="NbE.html#71914" class="Bound">ÏâÎ´</a> <a id="71918" class="Symbol">=</a> <a id="71920" href="NbE.html#71914" class="Bound">ÏâÎ´</a> <a id="71924" href="NbE.html#71911" class="Bound">x</a>
<a id="71926" href="NbE.html#71761" class="Function">fundamental-lemma</a> <a id="71944" class="Symbol">{</a><a id="71945" class="Argument">t</a> <a id="71947" class="Symbol">=</a> <a id="71949" href="NbE.html#71949" class="Bound">r</a> <a id="71951" href="NbE.html#5961" class="InductiveConstructor Operator">Â·</a> <a id="71953" href="NbE.html#71953" class="Bound">s</a><a id="71954" class="Symbol">}</a> <a id="71956" class="Symbol">{</a><a id="71957" class="Argument">Ï</a> <a id="71959" class="Symbol">=</a> <a id="71961" href="NbE.html#71961" class="Bound">Ï</a><a id="71962" class="Symbol">}</a> <a id="71964" href="NbE.html#71964" class="Bound">ÏâÎ´</a>
  <a id="71970" class="Keyword">with</a> <a id="71975" href="NbE.html#71761" class="Function">fundamental-lemma</a> <a id="71993" class="Symbol">{</a><a id="71994" class="Argument">t</a> <a id="71996" class="Symbol">=</a> <a id="71998" href="NbE.html#71949" class="Bound">r</a><a id="71999" class="Symbol">}</a> <a id="72001" href="NbE.html#71964" class="Bound">ÏâÎ´</a> <a id="72005" class="Symbol">|</a> <a id="72007" href="NbE.html#71761" class="Function">fundamental-lemma</a> <a id="72025" class="Symbol">{</a><a id="72026" class="Argument">t</a> <a id="72028" class="Symbol">=</a> <a id="72030" href="NbE.html#71953" class="Bound">s</a><a id="72031" class="Symbol">}</a> <a id="72033" href="NbE.html#71964" class="Bound">ÏâÎ´</a>
<a id="72037" class="Symbol">...</a> <a id="72041" class="Symbol">|</a> <a id="72043" href="NbE.html#72043" class="Bound">Îâ¨r</a>                             <a id="72075" class="Symbol">|</a> <a id="72077" href="NbE.html#72077" class="Bound">Îâ¨s</a>
  <a id="72083" class="Keyword">with</a> <a id="72088" href="NbE.html#72043" class="Bound">Îâ¨r</a> <a id="72092" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a> <a id="72097" href="NbE.html#72077" class="Bound">Îâ¨s</a>
<a id="72101" class="Symbol">...</a> <a id="72105" class="Symbol">|</a> <a id="72107" href="NbE.html#72107" class="Bound">pf</a>
  <a id="72112" class="Keyword">rewrite</a> <a id="72120" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="72134" class="Symbol">{</a><a id="72135" class="Argument">t</a> <a id="72137" class="Symbol">=</a> <a id="72139" class="Bound">r</a> <a id="72141" href="NbE.html#15385" class="Function Operator">[</a> <a id="72143" class="Bound">Ï</a> <a id="72145" href="NbE.html#15385" class="Function Operator">]</a><a id="72146" class="Symbol">}</a> <a id="72148" class="Symbol">=</a> <a id="72150" href="NbE.html#72107" class="Bound">pf</a>
</pre>
<p>In the case of an abstraction <code>Î â¢ Î»x. t : S â T</code>, we want
to prove:</p>
<pre><code>Î â¢ Ï : Î â Î´ â
  Î â¢ (Î»x. t)[Ï] : S â T â â¦ Î â¢ Î»x. t : S â T â§ Î´</code></pre>
<p>By the definition of the application of a substitution to an
abstraction, as well as the definition of evaluation of an abstraction,
this simplifies to:</p>
<pre><code>Î â¢ Ï : Î â Î´ â
  Î â¢ Î»x. t[exts Ï] : S â T â f

      where f = Î» a â â¦ Î, x:S â¢ t : T â§ (Î´ , a)</code></pre>
<p>We can also expand this using the definition of <code>â</code> for
functions (and immediately reducing the application of <code>f</code> to
<code>a</code>):</p>
<pre><code>Î â¢ Ï : Î â Î´ â
  â Îâ² â¤ Î. Îâ² â¢ s : S â a â
    Îâ² â¢ (Î»x. t[exts Ï]) Â· s : T â â¦ Î, x:S â¢ t : T â§ (Î´ , a)</code></pre>
<p>Already, this is a tricky property to parse. To start, we can use our
lemma that <code>â</code> is transitive with respect to definitional
equality, and use the <code>Î²</code> rule to reduce
<code>(Î»x. t[exts Ï]) Â· s</code> to <code>t[exts Ï][s/x]</code>. Now, we
need only prove:</p>
<pre><code>Îâ² â¢ t[exts Ï][s/x] : T â â¦ Î, x:S â¢ t : T â§ (Î´ , a)</code></pre>
<p>Here, we can use a few substitution lemma to compose these two
substitutions and reduce them into just <code>Ï â· s</code>, giving
us:</p>
<pre><code>Îâ² â¢ t [Ï â· s] : T â â¦ Î, x:S â¢ t : T â§ (Î´ , a)</code></pre>
<p>The property we want to show now looks like our induction hypothesis!
Using the induction hypothesis, we only need to show that:</p>
<pre><code> Îâ² â¢ Ï â· s : (Î, x:S) â (Î´ , a)</code></pre>
<p>In other words, we need to prove that for any variable <code>x</code>
in the context <code>Î, x:S</code> that <code>Ï</code> is substituting a
term for, the term being substituted for that variable must be logically
related to its corresponding semantic object in the environment
<code>(Î´ , a)</code>. We can do a case analysis on <code>x</code> to
break this down further. The first case is what the relation simplifies
to in the case that the variable being substituted for is <code>ð</code>
â all that needs to be proven is that the term being substituted for the
first variable in <code>Î, x:S</code> (which is <code>s</code>) is
logically related to the first semantic object in <code>(Î´ , a)</code>.
In other words, for this case, what needs to be proven is:</p>
<pre><code>Îâ² â¢ s : S â a</code></pre>
<p>This is already our given proof, so this case follows immediately.
The second case is what the relation simplifies to in the case that the
variable being substituted for is in <code>Î</code>, meaning
<code>x</code> is <code>ð x</code>:</p>
<pre><code>Îâ² â¢ (Ï â· s) (ð x) : U â env-lookup x Î´</code></pre>
<p>Here, we need to use a few substitution lemmas (which have been
omitted as their proofs are unrelated to the logical relation itself) to
rewrite this to:</p>
<pre><code>Îâ² â¢ Ï x : U â env-lookup x Î´</code></pre>
<p>This is again already given to us from our given proof that
<code>Î â¢ Ï : Î â Î´</code>. There is one small problem: we are now
considering the context <code>Îâ²</code> while our given proof is over
the context <code>Î</code>. There was, in fact, an implict
<em>weakening</em> of <code>Ï</code> in the changing of contexts (and it
would be more correct to have been writing <code>Ï â weaken Îâ²â¤Î</code>
throughout, though the explanation used <code>Ï</code> for simplicity).
Here, we can use the earlier lemma that if a substitution is logically
related to an environment, then so is a weakening of the substitution.
With that, the abstraction case is proven.</p>
<p>In Agda, we require some substitution lemmas (both for the conversion
of <code>t[exts Ï][s/x]</code> to <code>t[Ï â· s]</code> and to handle
the implcit weakening) which have been omitted (and for convenience, we
use the variables <code>t[exts-Ï]</code> and <code>Ïâ·s</code>, whose
definitions are also omitted).</p>
<pre class="Agda"><a id="75448" href="NbE.html#71761" class="Function">fundamental-lemma</a> <a id="75466" class="Symbol">{</a><a id="75467" href="NbE.html#75467" class="Bound">Î</a><a id="75468" class="Symbol">}</a> <a id="75470" class="Symbol">{</a><a id="75471" href="NbE.html#75471" class="Bound">S</a> <a id="75473" href="NbE.html#3087" class="InductiveConstructor Operator">â</a> <a id="75475" href="NbE.html#75475" class="Bound">T</a><a id="75476" class="Symbol">}</a> <a id="75478" class="Symbol">{</a><a id="75479" href="NbE.html#5870" class="InductiveConstructor Operator">Æ</a> <a id="75481" href="NbE.html#75481" class="Bound">t</a><a id="75482" class="Symbol">}</a> <a id="75484" class="Symbol">{</a><a id="75485" class="Argument">Ï</a> <a id="75487" class="Symbol">=</a> <a id="75489" href="NbE.html#75489" class="Bound">Ï</a><a id="75490" class="Symbol">}</a> <a id="75492" class="Symbol">{</a><a id="75493" href="NbE.html#75493" class="Bound">Î´</a><a id="75494" class="Symbol">}</a> <a id="75496" href="NbE.html#75496" class="Bound">ÏâÎ´</a> <a id="75500" class="Symbol">{</a><a id="75501" href="NbE.html#75501" class="Bound">Îâ²</a><a id="75503" class="Symbol">}</a> <a id="75505" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a> <a id="75510" class="Symbol">{</a><a id="75511" href="NbE.html#75511" class="Bound">s</a><a id="75512" class="Symbol">}</a> <a id="75514" class="Symbol">{</a><a id="75515" href="NbE.html#75515" class="Bound">a</a><a id="75516" class="Symbol">}</a> <a id="75518" href="NbE.html#75518" class="Bound">sâa</a> <a id="75522" class="Symbol">=</a>
  <a id="75526" href="NbE.html#58728" class="Function">==-â-trans</a> <a id="75537" class="Symbol">(</a><a id="75538" href="NbE.html#31104" class="InductiveConstructor">symâ¼â¼</a> <a id="75544" href="NbE.html#30247" class="InductiveConstructor">Î²</a><a id="75545" class="Symbol">)</a> <a id="75547" href="NbE.html#77061" class="Function">t[exts-Ï][s/x]ââ¦tâ§â¨Î´,aâ©</a>
  <a id="75573" class="Keyword">where</a>
    <a id="75583" href="NbE.html#75583" class="Function">t[exts-Ï]</a> <a id="75593" class="Symbol">:</a> <a id="75595" href="NbE.html#75501" class="Bound">Îâ²</a> <a id="75598" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="75600" href="NbE.html#75471" class="Bound">S</a> <a id="75602" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="75604" href="NbE.html#75475" class="Bound">T</a>
    <a id="75610" href="NbE.html#75610" class="Function">Ïâ·s</a> <a id="75614" class="Symbol">:</a> <a id="75616" href="NbE.html#11534" class="Function">Sub</a> <a id="75620" href="NbE.html#75501" class="Bound">Îâ²</a> <a id="75623" class="Symbol">(</a><a id="75624" href="NbE.html#75467" class="Bound">Î</a> <a id="75626" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="75628" href="NbE.html#75471" class="Bound">S</a><a id="75629" class="Symbol">)</a>
</pre>
<!---
<pre class="Agda">    <a id="75654" href="NbE.html#75583" class="Function">t[exts-Ï]</a> <a id="75664" class="Symbol">=</a> <a id="75666" href="NbE.html#75481" class="Bound">t</a> <a id="75668" href="NbE.html#15385" class="Function Operator">[</a> <a id="75670" href="NbE.html#15268" class="Function">exts</a> <a id="75675" href="NbE.html#75489" class="Bound">Ï</a> <a id="75677" href="NbE.html#15385" class="Function Operator">]</a> <a id="75679" href="NbE.html#15385" class="Function Operator">[</a> <a id="75681" href="NbE.html#15268" class="Function">exts</a> <a id="75686" class="Symbol">(</a><a id="75687" href="NbE.html#16898" class="Function">weaken</a> <a id="75694" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a><a id="75698" class="Symbol">)</a> <a id="75700" href="NbE.html#15385" class="Function Operator">]</a>
    <a id="75706" href="NbE.html#75610" class="Function">Ïâ·s</a> <a id="75710" class="Symbol">=</a> <a id="75712" href="NbE.html#15268" class="Function">exts</a> <a id="75717" href="NbE.html#75489" class="Bound">Ï</a> <a id="75719" href="NbE.html#15989" class="Function Operator">â</a> <a id="75721" href="NbE.html#15268" class="Function">exts</a> <a id="75726" class="Symbol">(</a><a id="75727" href="NbE.html#16898" class="Function">weaken</a> <a id="75734" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a><a id="75738" class="Symbol">)</a> <a id="75740" href="NbE.html#15989" class="Function Operator">â</a> <a id="75742" class="Symbol">(</a><a id="75743" href="NbE.html#15894" class="Function">id</a> <a id="75746" href="NbE.html#16436" class="Function Operator">â·</a> <a id="75748" href="NbE.html#75511" class="Bound">s</a><a id="75749" class="Symbol">)</a>

    <a id="75756" href="NbE.html#75756" class="Function">subst-lemmaâ</a> <a id="75769" class="Symbol">:</a> <a id="75771" class="Symbol">â</a> <a id="75773" class="Symbol">{</a><a id="75774" href="NbE.html#75774" class="Bound">U</a> <a id="75776" class="Symbol">:</a> <a id="75778" href="NbE.html#3029" class="Datatype">Type</a><a id="75782" class="Symbol">}</a> <a id="75784" class="Symbol">{</a><a id="75785" href="NbE.html#75785" class="Bound">x</a> <a id="75787" class="Symbol">:</a> <a id="75789" href="NbE.html#75467" class="Bound">Î</a> <a id="75791" href="NbE.html#4450" class="Datatype Operator">â</a> <a id="75793" href="NbE.html#75774" class="Bound">U</a><a id="75794" class="Symbol">}</a> <a id="75796" class="Symbol">â</a> <a id="75798" href="NbE.html#75610" class="Function">Ïâ·s</a> <a id="75802" class="Symbol">(</a><a id="75803" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="75805" href="NbE.html#75785" class="Bound">x</a><a id="75806" class="Symbol">)</a> <a id="75808" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="75810" class="Symbol">(</a><a id="75811" href="NbE.html#75489" class="Bound">Ï</a> <a id="75813" href="NbE.html#15989" class="Function Operator">â</a> <a id="75815" href="NbE.html#16898" class="Function">weaken</a> <a id="75822" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a><a id="75826" class="Symbol">)</a> <a id="75828" href="NbE.html#75785" class="Bound">x</a>
    <a id="75834" href="NbE.html#75756" class="Function">subst-lemmaâ</a> <a id="75847" class="Symbol">{</a><a id="75848" class="Argument">x</a> <a id="75850" class="Symbol">=</a> <a id="75852" href="NbE.html#75852" class="Bound">x</a><a id="75853" class="Symbol">}</a> <a id="75855" class="Symbol">=</a>
      <a id="75863" href="Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
        <a id="75877" href="NbE.html#75610" class="Function">Ïâ·s</a> <a id="75881" class="Symbol">(</a><a id="75882" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="75884" href="NbE.html#75852" class="Bound">x</a><a id="75885" class="Symbol">)</a>
      <a id="75893" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="75896" href="NbE.html#24904" class="Function">sub-ð-shift</a> <a id="75908" class="Symbol">{</a><a id="75909" class="Argument">Ï</a> <a id="75911" class="Symbol">=</a> <a id="75913" href="NbE.html#75610" class="Function">Ïâ·s</a><a id="75916" class="Symbol">}</a> <a id="75918" class="Symbol">{</a><a id="75919" href="NbE.html#75852" class="Bound">x</a><a id="75920" class="Symbol">}</a> <a id="75922" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
        <a id="75932" class="Symbol">(</a><a id="75933" href="NbE.html#15933" class="Function">â¥</a> <a id="75935" href="NbE.html#15989" class="Function Operator">â</a> <a id="75937" href="NbE.html#75610" class="Function">Ïâ·s</a><a id="75940" class="Symbol">)</a> <a id="75942" href="NbE.html#75852" class="Bound">x</a>
      <a id="75950" href="Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">â¡â¨â©</a>
        <a id="75962" class="Symbol">(</a><a id="75963" href="NbE.html#15933" class="Function">â¥</a> <a id="75965" href="NbE.html#15989" class="Function Operator">â</a> <a id="75967" href="NbE.html#15268" class="Function">exts</a> <a id="75972" href="NbE.html#75489" class="Bound">Ï</a> <a id="75974" href="NbE.html#15989" class="Function Operator">â</a> <a id="75976" class="Symbol">(</a><a id="75977" href="NbE.html#15268" class="Function">exts</a> <a id="75982" class="Symbol">(</a><a id="75983" href="NbE.html#16898" class="Function">weaken</a> <a id="75990" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a><a id="75994" class="Symbol">)</a> <a id="75996" href="NbE.html#15989" class="Function Operator">â</a> <a id="75998" class="Symbol">(</a><a id="75999" href="NbE.html#15894" class="Function">id</a> <a id="76002" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76004" href="NbE.html#75511" class="Bound">s</a><a id="76005" class="Symbol">)))</a> <a id="76009" href="NbE.html#75852" class="Bound">x</a>
      <a id="76017" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="76020" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="76029" class="Symbol">(</a><a id="76030" href="NbE.html#20366" class="Function">cong-seq</a> <a id="76039" class="Symbol">{</a><a id="76040" class="Argument">Ï</a> <a id="76042" class="Symbol">=</a> <a id="76044" href="NbE.html#15933" class="Function">â¥</a> <a id="76046" href="NbE.html#15989" class="Function Operator">â</a> <a id="76048" href="NbE.html#15268" class="Function">exts</a> <a id="76053" href="NbE.html#75489" class="Bound">Ï</a><a id="76054" class="Symbol">}</a> <a id="76056" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="76061" href="NbE.html#26285" class="Function">subst-zero-exts-cons</a><a id="76081" class="Symbol">)</a> <a id="76083" href="NbE.html#75852" class="Bound">x</a> <a id="76085" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
        <a id="76095" class="Symbol">(</a><a id="76096" href="NbE.html#15933" class="Function">â¥</a> <a id="76098" href="NbE.html#15989" class="Function Operator">â</a> <a id="76100" href="NbE.html#15268" class="Function">exts</a> <a id="76105" href="NbE.html#75489" class="Bound">Ï</a> <a id="76107" href="NbE.html#15989" class="Function Operator">â</a> <a id="76109" class="Symbol">(</a><a id="76110" href="NbE.html#16898" class="Function">weaken</a> <a id="76117" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a> <a id="76122" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76124" href="NbE.html#75511" class="Bound">s</a><a id="76125" class="Symbol">))</a> <a id="76128" href="NbE.html#75852" class="Bound">x</a>
      <a id="76136" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="76139" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="76148" class="Symbol">(</a><a id="76149" href="NbE.html#20366" class="Function">cong-seq</a> <a id="76158" class="Symbol">{</a><a id="76159" class="Argument">Ï</a> <a id="76161" class="Symbol">=</a> <a id="76163" href="NbE.html#15933" class="Function">â¥</a><a id="76164" class="Symbol">}</a> <a id="76166" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="76171" class="Symbol">(</a><a id="76172" href="NbE.html#20366" class="Function">cong-seq</a> <a id="76181" class="Symbol">{</a><a id="76182" class="Argument">Ï</a> <a id="76184" class="Symbol">=</a> <a id="76186" href="NbE.html#15268" class="Function">exts</a> <a id="76191" href="NbE.html#75489" class="Bound">Ï</a><a id="76192" class="Symbol">}</a> <a id="76194" href="NbE.html#21971" class="Function">exts-cons-shift</a> <a id="76210" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="76214" class="Symbol">))</a> <a id="76217" href="NbE.html#75852" class="Bound">x</a> <a id="76219" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
        <a id="76229" class="Symbol">(</a><a id="76230" href="NbE.html#15933" class="Function">â¥</a> <a id="76232" href="NbE.html#15989" class="Function Operator">â</a> <a id="76234" class="Symbol">((</a><a id="76236" href="NbE.html#75489" class="Bound">Ï</a> <a id="76238" href="NbE.html#15989" class="Function Operator">â</a> <a id="76240" href="NbE.html#15933" class="Function">â¥</a><a id="76241" class="Symbol">)</a> <a id="76243" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76245" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="76247" href="NbE.html#4481" class="InductiveConstructor">ð</a><a id="76248" class="Symbol">)</a> <a id="76250" href="NbE.html#15989" class="Function Operator">â</a> <a id="76252" class="Symbol">(</a><a id="76253" href="NbE.html#16898" class="Function">weaken</a> <a id="76260" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a> <a id="76265" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76267" href="NbE.html#75511" class="Bound">s</a><a id="76268" class="Symbol">))</a> <a id="76271" href="NbE.html#75852" class="Bound">x</a>
      <a id="76279" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="76282" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="76291" class="Symbol">(</a><a id="76292" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="76296" class="Symbol">(</a><a id="76297" href="NbE.html#25979" class="Function">sub-assoc</a> <a id="76307" class="Symbol">{</a><a id="76308" class="Argument">Ï</a> <a id="76310" class="Symbol">=</a> <a id="76312" href="NbE.html#15933" class="Function">â¥</a><a id="76313" class="Symbol">}</a> <a id="76315" class="Symbol">{(</a><a id="76317" href="NbE.html#75489" class="Bound">Ï</a> <a id="76319" href="NbE.html#15989" class="Function Operator">â</a> <a id="76321" href="NbE.html#15933" class="Function">â¥</a><a id="76322" class="Symbol">)</a> <a id="76324" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76326" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="76328" href="NbE.html#4481" class="InductiveConstructor">ð</a><a id="76329" class="Symbol">}</a> <a id="76331" class="Symbol">{</a><a id="76332" href="NbE.html#16898" class="Function">weaken</a> <a id="76339" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a> <a id="76344" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76346" href="NbE.html#75511" class="Bound">s</a><a id="76347" class="Symbol">}))</a> <a id="76351" href="NbE.html#75852" class="Bound">x</a> <a id="76353" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
        <a id="76363" class="Symbol">((</a><a id="76365" href="NbE.html#15933" class="Function">â¥</a> <a id="76367" href="NbE.html#15989" class="Function Operator">â</a> <a id="76369" class="Symbol">((</a><a id="76371" href="NbE.html#75489" class="Bound">Ï</a> <a id="76373" href="NbE.html#15989" class="Function Operator">â</a> <a id="76375" href="NbE.html#15933" class="Function">â¥</a><a id="76376" class="Symbol">)</a> <a id="76378" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76380" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="76382" href="NbE.html#4481" class="InductiveConstructor">ð</a><a id="76383" class="Symbol">))</a> <a id="76386" href="NbE.html#15989" class="Function Operator">â</a> <a id="76388" class="Symbol">(</a><a id="76389" href="NbE.html#16898" class="Function">weaken</a> <a id="76396" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a> <a id="76401" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76403" href="NbE.html#75511" class="Bound">s</a><a id="76404" class="Symbol">))</a> <a id="76407" href="NbE.html#75852" class="Bound">x</a>
      <a id="76415" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="76418" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="76427" class="Symbol">(</a><a id="76428" href="NbE.html#20366" class="Function">cong-seq</a> <a id="76437" class="Symbol">(</a><a id="76438" href="NbE.html#17731" class="Function">sub-tail</a> <a id="76447" class="Symbol">{</a><a id="76448" class="Argument">s</a> <a id="76450" class="Symbol">=</a> <a id="76452" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="76454" href="NbE.html#4481" class="InductiveConstructor">ð</a><a id="76455" class="Symbol">}</a> <a id="76457" class="Symbol">{</a><a id="76458" href="NbE.html#75489" class="Bound">Ï</a> <a id="76460" href="NbE.html#15989" class="Function Operator">â</a> <a id="76462" href="NbE.html#15933" class="Function">â¥</a><a id="76463" class="Symbol">})</a> <a id="76466" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="76470" class="Symbol">)</a> <a id="76472" href="NbE.html#75852" class="Bound">x</a> <a id="76474" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
        <a id="76484" class="Symbol">((</a><a id="76486" href="NbE.html#75489" class="Bound">Ï</a> <a id="76488" href="NbE.html#15989" class="Function Operator">â</a> <a id="76490" href="NbE.html#15933" class="Function">â¥</a><a id="76491" class="Symbol">)</a> <a id="76493" href="NbE.html#15989" class="Function Operator">â</a> <a id="76495" class="Symbol">(</a><a id="76496" href="NbE.html#16898" class="Function">weaken</a> <a id="76503" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a> <a id="76508" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76510" href="NbE.html#75511" class="Bound">s</a><a id="76511" class="Symbol">))</a> <a id="76514" href="NbE.html#75852" class="Bound">x</a>
      <a id="76522" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="76525" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="76534" class="Symbol">(</a><a id="76535" href="NbE.html#25979" class="Function">sub-assoc</a> <a id="76545" class="Symbol">{</a><a id="76546" class="Argument">Ï</a> <a id="76548" class="Symbol">=</a> <a id="76550" href="NbE.html#75489" class="Bound">Ï</a><a id="76551" class="Symbol">}</a> <a id="76553" class="Symbol">{</a><a id="76554" href="NbE.html#15933" class="Function">â¥</a><a id="76555" class="Symbol">}</a> <a id="76557" class="Symbol">{</a><a id="76558" href="NbE.html#16898" class="Function">weaken</a> <a id="76565" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a> <a id="76570" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76572" href="NbE.html#75511" class="Bound">s</a><a id="76573" class="Symbol">})</a> <a id="76576" href="NbE.html#75852" class="Bound">x</a> <a id="76578" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
        <a id="76588" class="Symbol">(</a><a id="76589" href="NbE.html#75489" class="Bound">Ï</a> <a id="76591" href="NbE.html#15989" class="Function Operator">â</a> <a id="76593" href="NbE.html#15933" class="Function">â¥</a> <a id="76595" href="NbE.html#15989" class="Function Operator">â</a> <a id="76597" class="Symbol">(</a><a id="76598" href="NbE.html#16898" class="Function">weaken</a> <a id="76605" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a> <a id="76610" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76612" href="NbE.html#75511" class="Bound">s</a><a id="76613" class="Symbol">))</a> <a id="76616" href="NbE.html#75852" class="Bound">x</a>
      <a id="76624" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â¡â¨</a> <a id="76627" href="Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="76636" class="Symbol">(</a><a id="76637" href="NbE.html#20366" class="Function">cong-seq</a> <a id="76646" class="Symbol">{</a><a id="76647" class="Argument">Ï</a> <a id="76649" class="Symbol">=</a> <a id="76651" href="NbE.html#75489" class="Bound">Ï</a><a id="76652" class="Symbol">}</a> <a id="76654" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="76659" class="Symbol">(</a><a id="76660" href="NbE.html#17731" class="Function">sub-tail</a> <a id="76669" class="Symbol">{</a><a id="76670" class="Argument">s</a> <a id="76672" class="Symbol">=</a> <a id="76674" href="NbE.html#75511" class="Bound">s</a><a id="76675" class="Symbol">}</a> <a id="76677" class="Symbol">{</a><a id="76678" href="NbE.html#16898" class="Function">weaken</a> <a id="76685" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a><a id="76689" class="Symbol">}))</a> <a id="76693" href="NbE.html#75852" class="Bound">x</a> <a id="76695" href="Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">â©</a>
        <a id="76705" class="Symbol">(</a><a id="76706" href="NbE.html#75489" class="Bound">Ï</a> <a id="76708" href="NbE.html#15989" class="Function Operator">â</a> <a id="76710" href="NbE.html#16898" class="Function">weaken</a> <a id="76717" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a><a id="76721" class="Symbol">)</a> <a id="76723" href="NbE.html#75852" class="Bound">x</a>
      <a id="76731" href="Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">â</a>

    <a id="76738" href="NbE.html#76738" class="Function">subst-lemmaâ</a> <a id="76751" class="Symbol">=</a> <a id="76753" href="NbE.html#25448" class="Function">sub-sub</a> <a id="76761" class="Symbol">{</a><a id="76762" class="Argument">Ï</a> <a id="76764" class="Symbol">=</a> <a id="76766" href="NbE.html#15894" class="Function">id</a> <a id="76769" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76771" href="NbE.html#75511" class="Bound">s</a><a id="76772" class="Symbol">}</a> <a id="76774" class="Symbol">{</a><a id="76775" href="NbE.html#15268" class="Function">exts</a> <a id="76780" class="Symbol">(</a><a id="76781" href="NbE.html#16898" class="Function">weaken</a> <a id="76788" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a><a id="76792" class="Symbol">)}</a> <a id="76795" class="Symbol">{</a><a id="76796" href="NbE.html#75481" class="Bound">t</a> <a id="76798" href="NbE.html#15385" class="Function Operator">[</a> <a id="76800" href="NbE.html#15268" class="Function">exts</a> <a id="76805" href="NbE.html#75489" class="Bound">Ï</a> <a id="76807" href="NbE.html#15385" class="Function Operator">]</a><a id="76808" class="Symbol">}</a>
    <a id="76814" href="NbE.html#76814" class="Function">subst-lemmaâ</a> <a id="76827" class="Symbol">=</a> <a id="76829" href="NbE.html#25448" class="Function">sub-sub</a> <a id="76837" class="Symbol">{</a><a id="76838" class="Argument">Ï</a> <a id="76840" class="Symbol">=</a> <a id="76842" href="NbE.html#15268" class="Function">exts</a> <a id="76847" class="Symbol">(</a><a id="76848" href="NbE.html#16898" class="Function">weaken</a> <a id="76855" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a><a id="76859" class="Symbol">)</a> <a id="76861" href="NbE.html#15989" class="Function Operator">â</a> <a id="76863" class="Symbol">(</a><a id="76864" href="NbE.html#15894" class="Function">id</a> <a id="76867" href="NbE.html#16436" class="Function Operator">â·</a> <a id="76869" href="NbE.html#75511" class="Bound">s</a><a id="76870" class="Symbol">)}</a> <a id="76873" class="Symbol">{</a><a id="76874" href="NbE.html#15268" class="Function">exts</a> <a id="76879" href="NbE.html#75489" class="Bound">Ï</a><a id="76880" class="Symbol">}</a> <a id="76882" class="Symbol">{</a><a id="76883" href="NbE.html#75481" class="Bound">t</a><a id="76884" class="Symbol">}</a>
</pre>--->
<pre class="Agda">    <a id="76908" href="NbE.html#76908" class="Function">Ïâ·sââ¨Î´,aâ©</a> <a id="76918" class="Symbol">:</a> <a id="76920" href="NbE.html#75610" class="Function">Ïâ·s</a>  <a id="76925" href="NbE.html#70109" class="Function Operator">âË¢</a> <a id="76928" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="76930" href="NbE.html#75493" class="Bound">Î´</a> <a id="76932" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="76934" href="NbE.html#75515" class="Bound">a</a> <a id="76936" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
    <a id="76942" href="NbE.html#76908" class="Function">Ïâ·sââ¨Î´,aâ©</a> <a id="76952" href="NbE.html#4481" class="InductiveConstructor">ð</a> <a id="76954" class="Symbol">=</a> <a id="76956" href="NbE.html#75518" class="Bound">sâa</a>
    <a id="76964" href="NbE.html#76908" class="Function">Ïâ·sââ¨Î´,aâ©</a> <a id="76974" class="Symbol">(</a><a id="76975" href="NbE.html#4547" class="InductiveConstructor Operator">ð_</a> <a id="76978" class="Symbol">{</a><a id="76979" class="Argument">T</a> <a id="76981" class="Symbol">=</a> <a id="76983" href="NbE.html#76983" class="Bound">U</a><a id="76984" class="Symbol">}</a> <a id="76986" href="NbE.html#76986" class="Bound">x</a><a id="76987" class="Symbol">)</a> <a id="76989" class="Keyword">rewrite</a> <a id="76997" href="NbE.html#75756" class="Function">subst-lemmaâ</a> <a id="77010" class="Symbol">{</a><a id="77011" class="Argument">x</a> <a id="77013" class="Symbol">=</a> <a id="77015" href="NbE.html#76986" class="Bound">x</a><a id="77016" class="Symbol">}</a> <a id="77018" class="Symbol">=</a>
      <a id="77026" href="NbE.html#70508" class="Function">âË¢-weaken</a> <a id="77036" class="Symbol">{</a><a id="77037" class="Argument">Îâ²â¤Î</a> <a id="77042" class="Symbol">=</a> <a id="77044" href="NbE.html#75505" class="Bound">Îâ²â¤Î</a><a id="77048" class="Symbol">}</a> <a id="77050" href="NbE.html#75496" class="Bound">ÏâÎ´</a> <a id="77054" href="NbE.html#76986" class="Bound">x</a>

    <a id="77061" href="NbE.html#77061" class="Function">t[exts-Ï][s/x]ââ¦tâ§â¨Î´,aâ©</a> <a id="77085" class="Symbol">:</a> <a id="77087" href="NbE.html#75583" class="Function">t[exts-Ï]</a> <a id="77097" href="NbE.html#29262" class="Function Operator">[</a> <a id="77099" href="NbE.html#75511" class="Bound">s</a> <a id="77101" href="NbE.html#29262" class="Function Operator">]â</a> <a id="77104" href="NbE.html#56698" class="Function Operator">â</a> <a id="77106" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="77109" href="NbE.html#75481" class="Bound">t</a> <a id="77111" href="NbE.html#43873" class="Function Operator">â§</a> <a id="77113" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="77115" href="NbE.html#75493" class="Bound">Î´</a> <a id="77117" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="77119" href="NbE.html#75515" class="Bound">a</a> <a id="77121" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
    <a id="77127" href="NbE.html#77061" class="Function">t[exts-Ï][s/x]ââ¦tâ§â¨Î´,aâ©</a> <a id="77151" class="Keyword">rewrite</a> <a id="77159" href="NbE.html#76738" class="Function">subst-lemmaâ</a> <a id="77172" class="Symbol">|</a> <a id="77174" href="NbE.html#76814" class="Function">subst-lemmaâ</a> <a id="77187" class="Symbol">=</a>
        <a id="77197" href="NbE.html#71761" class="Function">fundamental-lemma</a> <a id="77215" class="Symbol">{</a><a id="77216" class="Argument">t</a> <a id="77218" class="Symbol">=</a> <a id="77220" href="NbE.html#75481" class="Bound">t</a><a id="77221" class="Symbol">}</a> <a id="77223" href="NbE.html#76908" class="Function">Ïâ·sââ¨Î´,aâ©</a>
</pre>
<p>Separately, we have that the identity substitution is logically
related to our environment of reflected variables,
<code>Î â¢ id : Î â âÎ</code>. We prove this by induction on the variable
being substituted for, using the lemma that
<code>Î, x:T â¢ x : T â âáµ ðÌ Î</code> for the base case. For the
inductive step, there is a need to weaken the inductive hypothesis
(which gives us that <code>Î â¢ y : T â âáµ ðÌ Î</code>) to the context
<code>Î, x:S</code>.</p>
<pre class="Agda"><a id="idââÎ"></a><a id="77658" href="NbE.html#77658" class="Function">idââÎ</a> <a id="77664" class="Symbol">:</a> <a id="77666" class="Symbol">â</a> <a id="77668" class="Symbol">{</a><a id="77669" href="NbE.html#77669" class="Bound">Î</a> <a id="77671" class="Symbol">:</a> <a id="77673" href="NbE.html#3822" class="Datatype">Ctx</a><a id="77676" class="Symbol">}</a>
       <a id="77685" class="Symbol">â</a> <a id="77687" href="NbE.html#15894" class="Function">id</a> <a id="77690" href="NbE.html#70109" class="Function Operator">âË¢</a> <a id="77693" class="Symbol">(</a><a id="77694" href="NbE.html#46316" class="Function">âá¶áµË£</a> <a id="77699" href="NbE.html#77669" class="Bound">Î</a><a id="77700" class="Symbol">)</a>
<a id="77702" href="NbE.html#77658" class="Function">idââÎ</a> <a id="77708" href="NbE.html#4481" class="InductiveConstructor">ð</a>             <a id="77722" class="Symbol">=</a> <a id="77724" href="NbE.html#62432" class="Function">xââáµðÌ</a>
<a id="77731" href="NbE.html#77658" class="Function">idââÎ</a> <a id="77737" class="Symbol">{</a><a id="77738" href="NbE.html#77738" class="Bound">Î</a> <a id="77740" href="NbE.html#3850" class="InductiveConstructor Operator">,</a> <a id="77742" href="NbE.html#77742" class="Bound">T</a><a id="77743" class="Symbol">}</a> <a id="77745" class="Symbol">(</a><a id="77746" href="NbE.html#4547" class="InductiveConstructor Operator">ð</a> <a id="77748" href="NbE.html#77748" class="Bound">x</a><a id="77749" class="Symbol">)</a> <a id="77751" class="Symbol">=</a> <a id="77753" href="NbE.html#60739" class="Function">â-weaken</a> <a id="77762" class="Symbol">{</a><a id="77763" class="Argument">Îâ²â¤Î</a> <a id="77768" class="Symbol">=</a> <a id="77770" href="NbE.html#7488" class="InductiveConstructor">â¤-ext</a> <a id="77776" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a><a id="77780" class="Symbol">}</a> <a id="77782" class="Symbol">{</a><a id="77783" class="Argument">t</a> <a id="77785" class="Symbol">=</a> <a id="77787" href="NbE.html#5793" class="InductiveConstructor Operator">#</a> <a id="77789" href="NbE.html#77748" class="Bound">x</a><a id="77790" class="Symbol">}</a> <a id="77792" class="Symbol">(</a><a id="77793" href="NbE.html#77658" class="Function">idââÎ</a> <a id="77799" class="Symbol">{</a><a id="77800" href="NbE.html#77738" class="Bound">Î</a><a id="77801" class="Symbol">}</a> <a id="77803" href="NbE.html#77748" class="Bound">x</a><a id="77804" class="Symbol">)</a>
</pre>
<p>Now, we can arrive at the soundness of our algorithm for
normalization by evaluation. We have <code>Î â¢ id : Î â âÎ</code>, so we
can use the fundamental lemma here:</p>
<pre><code>Î â¢ t [ id ] â â¦ t â§ âÎ</code></pre>
<p>Note also that <code>t [ id ] â¡ t</code>. Using the lemma that a
logical relation between a term and a semantic object implies the
definitional equality of the term to the reification of the semantic
object, we have:</p>
<pre><code>Î â¢ t = âáµ (â¦ t â§ âÎ) Î : T</code></pre>
<p>Thus, our algorithm for normalization by evaluation preserves the
meaning of a term that it normalizes. By extension, the algorithm is
also idempotent (as we have already shown it is complete), so the
algorithm as a whole satisifies the soundness properties we wanted (as a
reminder, the well-typedness of the algorithm is given automatically
with our intrinsically typed representation).</p>
<pre class="Agda"><a id="nf-=="></a><a id="78634" href="NbE.html#78634" class="Function">nf-==</a> <a id="78640" class="Symbol">:</a> <a id="78642" class="Symbol">â</a> <a id="78644" class="Symbol">{</a><a id="78645" href="NbE.html#78645" class="Bound">Î</a> <a id="78647" class="Symbol">:</a> <a id="78649" href="NbE.html#3822" class="Datatype">Ctx</a><a id="78652" class="Symbol">}</a> <a id="78654" class="Symbol">{</a><a id="78655" href="NbE.html#78655" class="Bound">T</a> <a id="78657" class="Symbol">:</a> <a id="78659" href="NbE.html#3029" class="Datatype">Type</a><a id="78663" class="Symbol">}</a> <a id="78665" class="Symbol">{</a><a id="78666" href="NbE.html#78666" class="Bound">t</a> <a id="78668" class="Symbol">:</a> <a id="78670" href="NbE.html#78645" class="Bound">Î</a> <a id="78672" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="78674" href="NbE.html#78655" class="Bound">T</a><a id="78675" class="Symbol">}</a>
      <a id="78683" class="Symbol">â</a> <a id="78685" href="NbE.html#78666" class="Bound">t</a> <a id="78687" href="NbE.html#30149" class="Datatype Operator">==</a> <a id="78690" href="NbE.html#46740" class="Function">nf</a> <a id="78693" href="NbE.html#78666" class="Bound">t</a>
<a id="78695" href="NbE.html#78634" class="Function">nf-==</a> <a id="78701" class="Symbol">{</a><a id="78702" href="NbE.html#78702" class="Bound">Î</a><a id="78703" class="Symbol">}</a> <a id="78705" class="Symbol">{</a><a id="78706" href="NbE.html#78706" class="Bound">T</a><a id="78707" class="Symbol">}</a> <a id="78709" class="Symbol">{</a><a id="78710" href="NbE.html#78710" class="Bound">t</a><a id="78711" class="Symbol">}</a>
  <a id="78715" class="Keyword">with</a> <a id="78720" href="NbE.html#71761" class="Function">fundamental-lemma</a> <a id="78738" class="Symbol">{</a><a id="78739" class="Argument">t</a> <a id="78741" class="Symbol">=</a> <a id="78743" href="NbE.html#78710" class="Bound">t</a><a id="78744" class="Symbol">}</a> <a id="78746" class="Symbol">(</a><a id="78747" href="NbE.html#77658" class="Function">idââÎ</a> <a id="78753" class="Symbol">{</a><a id="78754" href="NbE.html#78702" class="Bound">Î</a><a id="78755" class="Symbol">})</a>
<a id="78758" class="Symbol">...</a> <a id="78762" class="Symbol">|</a> <a id="78764" href="NbE.html#78764" class="Bound">tââ¦tâ§âÎ</a>
  <a id="78774" class="Keyword">with</a> <a id="78779" href="NbE.html#62763" class="Function">ââ==â</a> <a id="78785" href="NbE.html#78764" class="Bound">tââ¦tâ§âÎ</a> <a id="78793" href="NbE.html#7458" class="InductiveConstructor">â¤-id</a>
<a id="78798" class="Symbol">...</a> <a id="78802" class="Symbol">|</a> <a id="78804" href="NbE.html#78804" class="Bound">t==âáµâ¦tâ§âÎ</a>
  <a id="78817" class="Keyword">rewrite</a> <a id="78825" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="78839" class="Symbol">{</a><a id="78840" class="Argument">t</a> <a id="78842" class="Symbol">=</a> <a id="78844" class="Bound">t</a> <a id="78846" href="NbE.html#15385" class="Function Operator">[</a> <a id="78848" href="NbE.html#15894" class="Function">id</a> <a id="78851" href="NbE.html#15385" class="Function Operator">]</a><a id="78852" class="Symbol">}</a>
        <a id="78862" class="Symbol">|</a> <a id="78864" href="NbE.html#22487" class="Function">[id]-identity</a> <a id="78878" class="Symbol">{</a><a id="78879" class="Argument">t</a> <a id="78881" class="Symbol">=</a> <a id="78883" class="Bound">t</a><a id="78884" class="Symbol">}</a>                <a id="78901" class="Symbol">=</a> <a id="78903" href="NbE.html#78804" class="Bound">t==âáµâ¦tâ§âÎ</a>

<a id="nf-preserves-meaning"></a><a id="78915" href="NbE.html#78915" class="Function">nf-preserves-meaning</a> <a id="78936" class="Symbol">:</a> <a id="78938" class="Symbol">â</a> <a id="78940" class="Symbol">{</a><a id="78941" href="NbE.html#78941" class="Bound">Î</a> <a id="78943" class="Symbol">:</a> <a id="78945" href="NbE.html#3822" class="Datatype">Ctx</a><a id="78948" class="Symbol">}</a> <a id="78950" class="Symbol">{</a><a id="78951" href="NbE.html#78951" class="Bound">T</a> <a id="78953" class="Symbol">:</a> <a id="78955" href="NbE.html#3029" class="Datatype">Type</a><a id="78959" class="Symbol">}</a> <a id="78961" class="Symbol">{</a><a id="78962" href="NbE.html#78962" class="Bound">t</a> <a id="78964" class="Symbol">:</a> <a id="78966" href="NbE.html#78941" class="Bound">Î</a> <a id="78968" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="78970" href="NbE.html#78951" class="Bound">T</a><a id="78971" class="Symbol">}</a> <a id="78973" class="Symbol">{</a><a id="78974" href="NbE.html#78974" class="Bound">Î³</a> <a id="78976" class="Symbol">:</a> <a id="78978" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="78980" href="NbE.html#78941" class="Bound">Î</a> <a id="78982" href="NbE.html#34437" class="Field Operator">â§</a><a id="78983" class="Symbol">}</a>
                     <a id="79006" class="Symbol">â</a> <a id="79008" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="79011" href="NbE.html#78962" class="Bound">t</a> <a id="79013" href="NbE.html#43873" class="Function Operator">â§</a> <a id="79015" href="NbE.html#78974" class="Bound">Î³</a> <a id="79017" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="79019" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="79022" href="NbE.html#46740" class="Function">nf</a> <a id="79025" href="NbE.html#78962" class="Bound">t</a> <a id="79027" href="NbE.html#43873" class="Function Operator">â§</a> <a id="79029" href="NbE.html#78974" class="Bound">Î³</a>
<a id="79031" href="NbE.html#78915" class="Function">nf-preserves-meaning</a> <a id="79052" class="Symbol">{</a><a id="79053" class="Argument">t</a> <a id="79055" class="Symbol">=</a> <a id="79057" href="NbE.html#79057" class="Bound">t</a><a id="79058" class="Symbol">}</a> <a id="79060" class="Symbol">=</a> <a id="79062" href="NbE.html#51473" class="Function">==ââ¦â¡â§</a> <a id="79069" class="Symbol">(</a><a id="79070" href="NbE.html#78634" class="Function">nf-==</a> <a id="79076" class="Symbol">{</a><a id="79077" class="Argument">t</a> <a id="79079" class="Symbol">=</a> <a id="79081" href="NbE.html#79057" class="Bound">t</a><a id="79082" class="Symbol">})</a>

<a id="nf-idempotent"></a><a id="79086" href="NbE.html#79086" class="Function">nf-idempotent</a> <a id="79100" class="Symbol">:</a> <a id="79102" class="Symbol">â</a> <a id="79104" class="Symbol">{</a><a id="79105" href="NbE.html#79105" class="Bound">Î</a> <a id="79107" class="Symbol">:</a> <a id="79109" href="NbE.html#3822" class="Datatype">Ctx</a><a id="79112" class="Symbol">}</a> <a id="79114" class="Symbol">{</a><a id="79115" href="NbE.html#79115" class="Bound">T</a> <a id="79117" class="Symbol">:</a> <a id="79119" href="NbE.html#3029" class="Datatype">Type</a><a id="79123" class="Symbol">}</a> <a id="79125" class="Symbol">{</a><a id="79126" href="NbE.html#79126" class="Bound">t</a> <a id="79128" class="Symbol">:</a> <a id="79130" href="NbE.html#79105" class="Bound">Î</a> <a id="79132" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="79134" href="NbE.html#79115" class="Bound">T</a><a id="79135" class="Symbol">}</a>
              <a id="79151" class="Symbol">â</a> <a id="79153" href="NbE.html#46740" class="Function">nf</a> <a id="79156" href="NbE.html#79126" class="Bound">t</a> <a id="79158" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="79160" href="NbE.html#46740" class="Function">nf</a> <a id="79163" class="Symbol">(</a><a id="79164" href="NbE.html#46740" class="Function">nf</a> <a id="79167" href="NbE.html#79126" class="Bound">t</a><a id="79168" class="Symbol">)</a>
<a id="79170" href="NbE.html#79086" class="Function">nf-idempotent</a> <a id="79184" class="Symbol">{</a><a id="79185" class="Argument">t</a> <a id="79187" class="Symbol">=</a> <a id="79189" href="NbE.html#79189" class="Bound">t</a><a id="79190" class="Symbol">}</a> <a id="79192" class="Symbol">=</a> <a id="79194" href="NbE.html#52613" class="Function">completeness</a> <a id="79207" class="Symbol">(</a><a id="79208" href="NbE.html#78634" class="Function">nf-==</a> <a id="79214" class="Symbol">{</a><a id="79215" class="Argument">t</a> <a id="79217" class="Symbol">=</a> <a id="79219" href="NbE.html#79189" class="Bound">t</a><a id="79220" class="Symbol">})</a>

<a id="soundness"></a><a id="79224" href="NbE.html#79224" class="Function">soundness</a> <a id="79234" class="Symbol">:</a> <a id="79236" class="Symbol">â</a> <a id="79238" class="Symbol">{</a><a id="79239" href="NbE.html#79239" class="Bound">Î</a> <a id="79241" class="Symbol">:</a> <a id="79243" href="NbE.html#3822" class="Datatype">Ctx</a><a id="79246" class="Symbol">}</a> <a id="79248" class="Symbol">{</a><a id="79249" href="NbE.html#79249" class="Bound">T</a> <a id="79251" class="Symbol">:</a> <a id="79253" href="NbE.html#3029" class="Datatype">Type</a><a id="79257" class="Symbol">}</a> <a id="79259" class="Symbol">{</a><a id="79260" href="NbE.html#79260" class="Bound">t</a> <a id="79262" class="Symbol">:</a> <a id="79264" href="NbE.html#79239" class="Bound">Î</a> <a id="79266" href="NbE.html#5713" class="Datatype Operator">â¢</a> <a id="79268" href="NbE.html#79249" class="Bound">T</a><a id="79269" class="Symbol">}</a> <a id="79271" class="Symbol">{</a><a id="79272" href="NbE.html#79272" class="Bound">Î³</a> <a id="79274" class="Symbol">:</a> <a id="79276" href="NbE.html#34437" class="Field Operator">â¦</a> <a id="79278" href="NbE.html#79239" class="Bound">Î</a> <a id="79280" href="NbE.html#34437" class="Field Operator">â§</a> <a id="79282" class="Symbol">}</a>
          <a id="79294" class="Symbol">â</a> <a id="79296" class="Symbol">(</a><a id="79297" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="79300" href="NbE.html#79260" class="Bound">t</a> <a id="79302" href="NbE.html#43873" class="Function Operator">â§</a> <a id="79304" href="NbE.html#79272" class="Bound">Î³</a> <a id="79306" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="79308" href="NbE.html#43873" class="Function Operator">â¦â¢</a> <a id="79311" href="NbE.html#46740" class="Function">nf</a> <a id="79314" href="NbE.html#79260" class="Bound">t</a> <a id="79316" href="NbE.html#43873" class="Function Operator">â§</a> <a id="79318" href="NbE.html#79272" class="Bound">Î³</a><a id="79319" class="Symbol">)</a> <a id="79321" href="Data.Product.html#1167" class="Function Operator">Ã</a> <a id="79323" class="Symbol">(</a><a id="79324" href="NbE.html#46740" class="Function">nf</a> <a id="79327" href="NbE.html#79260" class="Bound">t</a> <a id="79329" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="79331" href="NbE.html#46740" class="Function">nf</a> <a id="79334" class="Symbol">(</a><a id="79335" href="NbE.html#46740" class="Function">nf</a> <a id="79338" href="NbE.html#79260" class="Bound">t</a><a id="79339" class="Symbol">))</a>
<a id="79342" href="NbE.html#79224" class="Function">soundness</a> <a id="79352" class="Symbol">{</a><a id="79353" class="Argument">t</a> <a id="79355" class="Symbol">=</a> <a id="79357" href="NbE.html#79357" class="Bound">t</a><a id="79358" class="Symbol">}</a> <a id="79360" class="Symbol">=</a> <a id="79362" href="NbE.html#2433" class="InductiveConstructor Operator">â¨</a> <a id="79364" href="NbE.html#78915" class="Function">nf-preserves-meaning</a> <a id="79385" class="Symbol">{</a><a id="79386" class="Argument">t</a> <a id="79388" class="Symbol">=</a> <a id="79390" href="NbE.html#79357" class="Bound">t</a><a id="79391" class="Symbol">}</a> <a id="79393" href="NbE.html#2433" class="InductiveConstructor Operator">,</a> <a id="79395" href="NbE.html#79086" class="Function">nf-idempotent</a> <a id="79409" class="Symbol">{</a><a id="79410" class="Argument">t</a> <a id="79412" class="Symbol">=</a> <a id="79414" href="NbE.html#79357" class="Bound">t</a><a id="79415" class="Symbol">}</a> <a id="79417" href="NbE.html#2433" class="InductiveConstructor Operator">â©</a>
</pre>
<h3 id="conclusion">Conclusion</h3>
<p>In the end, we have formalized an algorithm in Agda for normalization
by evaluation that is based on the intuition of leaving the parts of a
term that cannot be evaluated (i.e.Â âunknownsâ) unchanged while still
evaluating the parts of the term that we do know how to reduce. The
algorithm is both complete and sound with respect to definitional
equality, as we have proven. Completeness followed quickly from the
definition of the algorithm, while soundness required a more in-depth
proof involving the use of logical relations and their fundamental
lemma.</p>
<p>In his habilitation thesis, Andreas Abel goes on to introduce the
algorithm for the untyped lambda calculus after introducing
normalization by evaluation for System T (an extension of the simply
typed lambda calculus with primitive recursion). He continues to build
upon these concepts, arriving at an algorithm for a language with
dependent types and a language with impredicativity. This introduction
to normalization to evaluation should hopefully be a good starting point
to explore these and other extensions of the algorithm, such as simply
trying out these proofs for yourself with a different extension of the
simply typed lambda calculus, or implementing the algorithm in a
language other than Agda.</p>
<h4 id="unicode">Unicode</h4>
<p>This site uses the following unicode in its Agda source code<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<pre><code>Î»  U+03BB  GREEK SMALL LETTER LAMBDA (\Gl)
â¥  U+22A5  UP TACK (\bot)
â¤  U+22A4  DOWN TACK (\top)
â  U+228E  MULTISET UNION (\u+)
â  U+2081  SUBSCRIPT ONE (\_1)
â  U+2082  SUBSCRIPT TWO (\_2)
Ã  U+00D7  MULTIPLICATION SIGN (\x)
â  U+2203  THERE EXISTS (\ex)
â¨  U+27E8  MATHEMATICAL LEFT ANGLE BRACKET (\&lt;)
â©  U+27E9  MATHEMATICAL RIGHT ANGLE BRACKET (\&gt;)
Â¬  U+00AC  NOT SIGN (\neg)
â¡  U+2261  IDENTICAL TO (\==)
â  U+21D2  RIGHTWARDS DOUBLE ARROW (\=&gt;)
â  U+2200  FOR ALL (\all)
â  U+2192  RIGHTWARDS ARROW
ââ  U+225F  QUESTIONED EQUAL TO (\?=)
â  U+2205  EMPTY SET (\0)
â  U+220B  CONTAINS AS MEMBER (\ni)
ð  U+1D44D  MATHEMATICAL ITALIC CAPITAL Z (\MiZ)
Î  U+0393  GREEK CAPITAL LETTER GAMMA (\GG)
ð  U+1D446  MATHEMATICAL ITALIC CAPITAL S (\MiS)
â¤  U+2264  LESS-THAN OR EQUAL TO (\le)
â²  U+2032  PRIME (\&#39;1)
â¢  U+2262  NOT IDENTICAL TO (\==n)
â¢  U+22A2  RIGHT TACK (\|-)
Æ  U+019B  LATIN SMALL LETTER LAMBDA WITH STROKE (\Gl-)
Â·  U+00B7  MIDDLE DOT (\cdot)
Ï  U+03C3  GREEK SMALL LETTER SIGMA (\Gs)
Î  U+0394  GREEK CAPITAL LETTER DELTA (\GD)
Ê³  U+02B3  MODIFIER LETTER SMALL R (\^r4)
â¥  U+21A5  UPWARDS ARROW FROM BAR (\u-|)
Î£  U+03A3  GREE CAPITAL LETTER SIGMA (\GS)
â  U+2218  RING OPERATOR (\o)
Ï  U+03C9  GREEK SMALL LETTER OMEGA (\Go)
â·  U+2237  PROPORTION (\::)
Î¸  U+03B8  GREEK SMALL LETTER THETA (\Gth)
Î¦  U+03A6  GREEK CAPITAL LETTER PHI (\Gf)
â¦  U+27E6  MATHEMATICAL LEFT WHITE SQUARE BRACKET (\[[)
â¦  U+27E7  MATHEMATICAL RIGHT WHITE SQUARE BRACKET (\]])
Î²  U+03B2  GREEK SMALL LETTER BETA (\Gb)
Î·  U+03B7  GREEK SMALL LETTER ETA (\Gh)
â  U+220E  END OF PROOF (\qed)
â¦  U+2983  LEFT WHITE CURLY BRACKET (\{{)
â¦  U+2984  RIGHT WHITE CURLY BRACKET (\}})
ð  U+1D4CA  MATHEMATICAL SCRIPT SMALL U (\Mcu)
ð  U+1D4CB  MATHEMATICAL SCRIPT SMALL V (\Mcv)
Î³  U+03B3  GREEK SMALL LETTER GAMMA (\Gg)
â  U+2191  UPWARDS ARROW (\u)
áµ  U+1D40  MODIFIER LETTER CAPITAL T (\^T)
â  U+2193  DOWNWARDS ARROW (\d)
á¶  U+1D9C  MODIFIER LETTER SMALL C (\^c)
áµ  U+1D57  MODIFIER LETTER SMALL T (\^t)
Ë£  U+02E3  MODIFIER LETTER SMALL X (\^x)
Ì  U+0302  COMBINING CIRCUMFLEX ACCENT (\^)
ð  U+1D4CD  MATHEMATICAL SCRIPT SMALL X (\Mcx)
â°  U+2270  NEITHER LESS THAN NOR EQUAL TO (\len)
â  U+2083  SUBSCRIPT 3 (\_3)
â  U+24C7  CIRCLED LATIN CAPITAL LETTER R (\(r)2)
â³  U+2033  DOUBLE PRIME (\&#39;2)
Î´  U+03B4  GREEK SMALL LETTER DELTA (\Gd)</code></pre>
<h4 class="unnumbered" id="references">References</h4>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-nbe" class="csl-entry" role="listitem">
Abel, Andreas. 2013. <span>âNormalization by Evaluation: Dependent Types
and Impredicativity.â</span> <em>Habilitation.
Ludwig-Maximilians-Universit<span>Ã¤</span>t M<span>Ã¼</span>nchen</em>.
</div>
</div>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>Ì (<code>\^</code>) may be displayed on top of another
character when written after it (e.g.Â <code>\Mcu\^</code> produces ðÌ)<a href="#fnref1" class="footnote-back" role="doc-backlink">â©ï¸</a></p></li>
</ol>
</section>
</body>
</html>
