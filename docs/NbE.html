<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Emmanuel SuÃ¡rez Acevedo" />
  <title>Normalization by Evaluation</title>
  <style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}

div.csl-bib-body { }
div.csl-entry {
clear: both;
}
.hanging-indent div.csl-entry {
margin-left:2em;
text-indent:-2em;
}
div.csl-left-margin {
min-width:2em;
float:left;
}
div.csl-right-inline {
margin-left:2em;
padding-left:1em;
}
div.csl-indent {
margin-left: 2em;
} </style>
  <style type="text/css">:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent}@-ms-viewport{width:device-width}article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus{outline:0!important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}abbr[data-original-title],abbr[title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;border-bottom:0}address{margin-bottom:1rem;font-style:normal;line-height:inherit}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}dfn{font-style:italic}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent;-webkit-text-decoration-skip:objects}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([tabindex]){color:inherit;text-decoration:none}a:not([href]):not([tabindex]):focus,a:not([href]):not([tabindex]):hover{color:inherit;text-decoration:none}a:not([href]):not([tabindex]):focus{outline:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar}figure{margin:0 0 1rem}img{vertical-align:middle;border-style:none}svg:not(:root){overflow:hidden}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=date],input[type=datetime-local],input[type=month],input[type=time]{-webkit-appearance:listbox}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-family:inherit;font-weight:500;line-height:1.2;color:inherit}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}.small,small{font-size:80%;font-weight:400}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:90%;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote-footer{display:block;font-size:80%;color:#6c757d}.blockquote-footer::before{content:"\2014 \00A0"}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:90%;color:#6c757d}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}code{font-size:87.5%;color:#e83e8c;word-break:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:87.5%;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:100%;font-weight:700}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.pre-scrollable{max-height:340px;overflow-y:scroll}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{max-width:1140px}}.container-fluid{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-auto,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-auto,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-auto,.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-auto{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media (min-width:576px){.col-sm{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-sm-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-sm-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-sm-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-sm-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-sm-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-sm-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-sm-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-sm-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-sm-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-sm-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-sm-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-sm-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-sm-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-sm-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-sm-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-sm-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-sm-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-sm-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-sm-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-sm-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-sm-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-sm-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-sm-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-sm-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-sm-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-sm-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-sm-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-sm-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.333333%}.offset-sm-2{margin-left:16.666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.333333%}.offset-sm-5{margin-left:41.666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.333333%}.offset-sm-8{margin-left:66.666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.333333%}.offset-sm-11{margin-left:91.666667%}}@media (min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-md-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-md-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-md-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-md-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-md-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-md-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-md-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-md-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-md-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-md-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-md-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-md-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-md-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-md-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-md-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media (min-width:992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-lg-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-lg-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-lg-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-lg-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-lg-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-lg-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-lg-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-lg-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-lg-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-lg-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-lg-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-lg-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-lg-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-lg-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-lg-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}@media (min-width:1200px){.col-xl{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-xl-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-xl-1{-webkit-box-flex:0;-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-xl-2{-webkit-box-flex:0;-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-xl-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-xl-5{-webkit-box-flex:0;-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-xl-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-xl-7{-webkit-box-flex:0;-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-xl-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-xl-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-xl-10{-webkit-box-flex:0;-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-xl-11{-webkit-box-flex:0;-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-xl-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-xl-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-xl-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-xl-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-xl-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-xl-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-xl-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-xl-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-xl-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-xl-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-xl-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-xl-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-xl-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-xl-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-xl-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-xl-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.333333%}.offset-xl-2{margin-left:16.666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.333333%}.offset-xl-5{margin-left:41.666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.333333%}.offset-xl-8{margin-left:66.666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.333333%}.offset-xl-11{margin-left:91.666667%}}.table{width:100%;max-width:100%;margin-bottom:1rem;background-color:transparent}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table .table{background-color:#fff}.table-sm td,.table-sm th{padding:.3rem}.table-bordered{border:1px solid #dee2e6}.table-bordered td,.table-bordered th{border:1px solid #dee2e6}.table-bordered thead td,.table-bordered thead th{border-bottom-width:2px}.table-striped tbody tr:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.table-hover tbody tr:hover{background-color:rgba(0,0,0,.075)}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-hover .table-primary:hover{background-color:#9fcdff}.table-hover .table-primary:hover>td,.table-hover .table-primary:hover>th{background-color:#9fcdff}.table-secondary,.table-secondary>td,.table-secondary>th{background-color:#d6d8db}.table-hover .table-secondary:hover{background-color:#c8cbcf}.table-hover .table-secondary:hover>td,.table-hover .table-secondary:hover>th{background-color:#c8cbcf}.table-success,.table-success>td,.table-success>th{background-color:#c3e6cb}.table-hover .table-success:hover{background-color:#b1dfbb}.table-hover .table-success:hover>td,.table-hover .table-success:hover>th{background-color:#b1dfbb}.table-info,.table-info>td,.table-info>th{background-color:#bee5eb}.table-hover .table-info:hover{background-color:#abdde5}.table-hover .table-info:hover>td,.table-hover .table-info:hover>th{background-color:#abdde5}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-hover .table-warning:hover{background-color:#ffe8a1}.table-hover .table-warning:hover>td,.table-hover .table-warning:hover>th{background-color:#ffe8a1}.table-danger,.table-danger>td,.table-danger>th{background-color:#f5c6cb}.table-hover .table-danger:hover{background-color:#f1b0b7}.table-hover .table-danger:hover>td,.table-hover .table-danger:hover>th{background-color:#f1b0b7}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-hover .table-light:hover{background-color:#ececf6}.table-hover .table-light:hover>td,.table-hover .table-light:hover>th{background-color:#ececf6}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-hover .table-dark:hover{background-color:#b9bbbe}.table-hover .table-dark:hover>td,.table-hover .table-dark:hover>th{background-color:#b9bbbe}.table-active,.table-active>td,.table-active>th{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover>td,.table-hover .table-active:hover>th{background-color:rgba(0,0,0,.075)}.table .thead-dark th{color:#fff;background-color:#212529;border-color:#32383e}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#212529}.table-dark td,.table-dark th,.table-dark thead th{border-color:#32383e}.table-dark.table-bordered{border:0}.table-dark.table-striped tbody tr:nth-of-type(odd){background-color:rgba(255,255,255,.05)}.table-dark.table-hover tbody tr:hover{background-color:rgba(255,255,255,.075)}@media (max-width:575.98px){.table-responsive-sm{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table-responsive-sm>.table-bordered{border:0}}@media (max-width:767.98px){.table-responsive-md{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table-responsive-md>.table-bordered{border:0}}@media (max-width:991.98px){.table-responsive-lg{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table-responsive-lg>.table-bordered{border:0}}@media (max-width:1199.98px){.table-responsive-xl{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table-responsive-xl>.table-bordered{border:0}}.table-responsive{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar}.table-responsive>.table-bordered{border:0}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control::-ms-expand{background-color:transparent;border:0}.form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.form-control::-webkit-input-placeholder{color:#6c757d;opacity:1}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control:-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}select.form-control:not([size]):not([multiple]){height:calc(2.25rem + 2px)}select.form-control:focus::-ms-value{color:#495057;background-color:#fff}.form-control-file,.form-control-range{display:block;width:100%}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem;line-height:1.5}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem;line-height:1.5}.form-control-plaintext{display:block;width:100%;padding-top:.375rem;padding-bottom:.375rem;margin-bottom:0;line-height:1.5;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm,.input-group-lg>.form-control-plaintext.form-control,.input-group-lg>.input-group-append>.form-control-plaintext.btn,.input-group-lg>.input-group-append>.form-control-plaintext.input-group-text,.input-group-lg>.input-group-prepend>.form-control-plaintext.btn,.input-group-lg>.input-group-prepend>.form-control-plaintext.input-group-text,.input-group-sm>.form-control-plaintext.form-control,.input-group-sm>.input-group-append>.form-control-plaintext.btn,.input-group-sm>.input-group-append>.form-control-plaintext.input-group-text,.input-group-sm>.input-group-prepend>.form-control-plaintext.btn,.input-group-sm>.input-group-prepend>.form-control-plaintext.input-group-text{padding-right:0;padding-left:0}.form-control-sm,.input-group-sm>.form-control,.input-group-sm>.input-group-append>.btn,.input-group-sm>.input-group-append>.input-group-text,.input-group-sm>.input-group-prepend>.btn,.input-group-sm>.input-group-prepend>.input-group-text{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.input-group-sm>.input-group-append>select.btn:not([size]):not([multiple]),.input-group-sm>.input-group-append>select.input-group-text:not([size]):not([multiple]),.input-group-sm>.input-group-prepend>select.btn:not([size]):not([multiple]),.input-group-sm>.input-group-prepend>select.input-group-text:not([size]):not([multiple]),.input-group-sm>select.form-control:not([size]):not([multiple]),select.form-control-sm:not([size]):not([multiple]){height:calc(1.8125rem + 2px)}.form-control-lg,.input-group-lg>.form-control,.input-group-lg>.input-group-append>.btn,.input-group-lg>.input-group-append>.input-group-text,.input-group-lg>.input-group-prepend>.btn,.input-group-lg>.input-group-prepend>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-lg>.input-group-append>select.btn:not([size]):not([multiple]),.input-group-lg>.input-group-append>select.input-group-text:not([size]):not([multiple]),.input-group-lg>.input-group-prepend>select.btn:not([size]):not([multiple]),.input-group-lg>.input-group-prepend>select.input-group-text:not([size]):not([multiple]),.input-group-lg>select.form-control:not([size]):not([multiple]),select.form-control-lg:not([size]):not([multiple]){height:calc(2.875rem + 2px)}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem}.form-check-input:disabled~.form-check-label{color:#6c757d}.form-check-label{margin-bottom:0}.form-check-inline{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#28a745}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.5rem;margin-top:.1rem;font-size:.875rem;line-height:1;color:#fff;background-color:rgba(40,167,69,.8);border-radius:.2rem}.custom-select.is-valid,.form-control.is-valid,.was-validated .custom-select:valid,.was-validated .form-control:valid{border-color:#28a745}.custom-select.is-valid:focus,.form-control.is-valid:focus,.was-validated .custom-select:valid:focus,.was-validated .form-control:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-select.is-valid~.valid-feedback,.custom-select.is-valid~.valid-tooltip,.form-control.is-valid~.valid-feedback,.form-control.is-valid~.valid-tooltip,.was-validated .custom-select:valid~.valid-feedback,.was-validated .custom-select:valid~.valid-tooltip,.was-validated .form-control:valid~.valid-feedback,.was-validated .form-control:valid~.valid-tooltip{display:block}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#28a745}.form-check-input.is-valid~.valid-feedback,.form-check-input.is-valid~.valid-tooltip,.was-validated .form-check-input:valid~.valid-feedback,.was-validated .form-check-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid~.custom-control-label,.was-validated .custom-control-input:valid~.custom-control-label{color:#28a745}.custom-control-input.is-valid~.custom-control-label::before,.was-validated .custom-control-input:valid~.custom-control-label::before{background-color:#71dd8a}.custom-control-input.is-valid~.valid-feedback,.custom-control-input.is-valid~.valid-tooltip,.was-validated .custom-control-input:valid~.valid-feedback,.was-validated .custom-control-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid:checked~.custom-control-label::before,.was-validated .custom-control-input:valid:checked~.custom-control-label::before{background-color:#34ce57}.custom-control-input.is-valid:focus~.custom-control-label::before,.was-validated .custom-control-input:valid:focus~.custom-control-label::before{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(40,167,69,.25)}.custom-file-input.is-valid~.custom-file-label,.was-validated .custom-file-input:valid~.custom-file-label{border-color:#28a745}.custom-file-input.is-valid~.custom-file-label::before,.was-validated .custom-file-input:valid~.custom-file-label::before{border-color:inherit}.custom-file-input.is-valid~.valid-feedback,.custom-file-input.is-valid~.valid-tooltip,.was-validated .custom-file-input:valid~.valid-feedback,.was-validated .custom-file-input:valid~.valid-tooltip{display:block}.custom-file-input.is-valid:focus~.custom-file-label,.was-validated .custom-file-input:valid:focus~.custom-file-label{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.5rem;margin-top:.1rem;font-size:.875rem;line-height:1;color:#fff;background-color:rgba(220,53,69,.8);border-radius:.2rem}.custom-select.is-invalid,.form-control.is-invalid,.was-validated .custom-select:invalid,.was-validated .form-control:invalid{border-color:#dc3545}.custom-select.is-invalid:focus,.form-control.is-invalid:focus,.was-validated .custom-select:invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-select.is-invalid~.invalid-feedback,.custom-select.is-invalid~.invalid-tooltip,.form-control.is-invalid~.invalid-feedback,.form-control.is-invalid~.invalid-tooltip,.was-validated .custom-select:invalid~.invalid-feedback,.was-validated .custom-select:invalid~.invalid-tooltip,.was-validated .form-control:invalid~.invalid-feedback,.was-validated .form-control:invalid~.invalid-tooltip{display:block}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-input.is-invalid~.invalid-feedback,.form-check-input.is-invalid~.invalid-tooltip,.was-validated .form-check-input:invalid~.invalid-feedback,.was-validated .form-check-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid~.custom-control-label,.was-validated .custom-control-input:invalid~.custom-control-label{color:#dc3545}.custom-control-input.is-invalid~.custom-control-label::before,.was-validated .custom-control-input:invalid~.custom-control-label::before{background-color:#efa2a9}.custom-control-input.is-invalid~.invalid-feedback,.custom-control-input.is-invalid~.invalid-tooltip,.was-validated .custom-control-input:invalid~.invalid-feedback,.was-validated .custom-control-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid:checked~.custom-control-label::before,.was-validated .custom-control-input:invalid:checked~.custom-control-label::before{background-color:#e4606d}.custom-control-input.is-invalid:focus~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus~.custom-control-label::before{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(220,53,69,.25)}.custom-file-input.is-invalid~.custom-file-label,.was-validated .custom-file-input:invalid~.custom-file-label{border-color:#dc3545}.custom-file-input.is-invalid~.custom-file-label::before,.was-validated .custom-file-input:invalid~.custom-file-label::before{border-color:inherit}.custom-file-input.is-invalid~.invalid-feedback,.custom-file-input.is-invalid~.invalid-tooltip,.was-validated .custom-file-input:invalid~.invalid-feedback,.was-validated .custom-file-input:invalid~.invalid-tooltip{display:block}.custom-file-input.is-invalid:focus~.custom-file-label,.was-validated .custom-file-input:invalid:focus~.custom-file-label{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-inline{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.form-inline .form-check{width:100%}@media (min-width:576px){.form-inline label{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:0}.form-inline .form-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:0}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-plaintext{display:inline-block}.form-inline .input-group{width:auto}.form-inline .form-check{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;margin-top:0;margin-right:.25rem;margin-left:0}.form-inline .custom-control{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.form-inline .custom-control-label{margin-bottom:0}}.btn{display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.btn:focus,.btn:hover{text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn.disabled,.btn:disabled{opacity:.65}.btn:not(:disabled):not(.disabled){cursor:pointer}.btn:not(:disabled):not(.disabled).active,.btn:not(:disabled):not(.disabled):active{background-image:none}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary.focus,.btn-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:not(:disabled):not(.disabled).active,.btn-primary:not(:disabled):not(.disabled):active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0062cc;border-color:#005cbf}.btn-primary:not(:disabled):not(.disabled).active:focus,.btn-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn-secondary.focus,.btn-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:not(:disabled):not(.disabled).active,.btn-secondary:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#545b62;border-color:#4e555b}.btn-secondary:not(:disabled):not(.disabled).active:focus,.btn-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.btn-success.focus,.btn-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#1e7e34;border-color:#1c7430}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info.focus,.btn-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-info.disabled,.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{color:#fff;background-color:#117a8b;border-color:#10707f}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning.focus,.btn-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{color:#212529;background-color:#d39e00;border-color:#c69500}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-danger.focus,.btn-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:not(:disabled):not(.disabled).active,.btn-danger:not(:disabled):not(.disabled):active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#bd2130;border-color:#b21f2d}.btn-danger:not(:disabled):not(.disabled).active:focus,.btn-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light.focus,.btn-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-light.disabled,.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:not(:disabled):not(.disabled).active,.btn-light:not(:disabled):not(.disabled):active,.show>.btn-light.dropdown-toggle{color:#212529;background-color:#dae0e5;border-color:#d3d9df}.btn-light:not(:disabled):not(.disabled).active:focus,.btn-light:not(:disabled):not(.disabled):active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark.focus,.btn-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:not(:disabled):not(.disabled).active,.btn-dark:not(:disabled):not(.disabled):active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1d2124;border-color:#171a1d}.btn-dark:not(:disabled):not(.disabled).active:focus,.btn-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-primary{color:#007bff;background-color:transparent;background-image:none;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-secondary{color:#6c757d;background-color:transparent;background-image:none;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;background-color:transparent;background-image:none;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:transparent}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;background-color:transparent;background-image:none;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:transparent}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;background-color:transparent;background-image:none;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;background-color:transparent;background-image:none;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;background-color:transparent;background-image:none;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;background-color:transparent;background-image:none;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:transparent}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-link{font-weight:400;color:#007bff;background-color:transparent}.btn-link:hover{color:#0056b3;text-decoration:underline;background-color:transparent;border-color:transparent}.btn-link.focus,.btn-link:focus{text-decoration:underline;border-color:transparent;box-shadow:none}.btn-link.disabled,.btn-link:disabled{color:#6c757d}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{opacity:0;transition:opacity .15s linear}.fade.show{opacity:1}.collapse{display:none}.collapse.show{display:block}tr.collapse.show{display:table-row}tbody.collapse.show{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}.dropdown,.dropup{position:relative}.dropdown-toggle::after{display:inline-block;width:0;height:0;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropup .dropdown-menu{margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle::after{display:inline-block;width:0;height:0;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-menu{margin-top:0;margin-left:.125rem}.dropright .dropdown-toggle::after{display:inline-block;width:0;height:0;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-bottom:.3em solid transparent;border-left:.3em solid}.dropright .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-toggle::after{vertical-align:0}.dropleft .dropdown-menu{margin-top:0;margin-right:.125rem}.dropleft .dropdown-toggle::after{display:inline-block;width:0;height:0;margin-left:.255em;vertical-align:.255em;content:""}.dropleft .dropdown-toggle::after{display:none}.dropleft .dropdown-toggle::before{display:inline-block;width:0;height:0;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropleft .dropdown-toggle:empty::after{margin-left:0}.dropleft .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#f8f9fa}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#6c757d;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1.5rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.btn-group,.btn-group-vertical{position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group,.btn-group-vertical .btn+.btn,.btn-group-vertical .btn+.btn-group,.btn-group-vertical .btn-group+.btn,.btn-group-vertical .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn:first-child{margin-left:0}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after{margin-left:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.btn-group-vertical .btn,.btn-group-vertical .btn-group{width:100%}.btn-group-vertical>.btn+.btn,.btn-group-vertical>.btn+.btn-group,.btn-group-vertical>.btn-group+.btn,.btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.btn-group-toggle>.btn,.btn-group-toggle>.btn-group>.btn{margin-bottom:0}.btn-group-toggle>.btn input[type=checkbox],.btn-group-toggle>.btn input[type=radio],.btn-group-toggle>.btn-group>.btn input[type=checkbox],.btn-group-toggle>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select,.input-group>.form-control{position:relative;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:1%;margin-bottom:0}.input-group>.custom-file:focus,.input-group>.custom-select:focus,.input-group>.form-control:focus{z-index:3}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-file+.form-control,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select,.input-group>.custom-select+.form-control,.input-group>.form-control+.custom-file,.input-group>.form-control+.custom-select,.input-group>.form-control+.form-control{margin-left:-1px}.input-group>.custom-select:not(:last-child),.input-group>.form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-select:not(:first-child),.input-group>.form-control:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.input-group>.custom-file:not(:last-child) .custom-file-label,.input-group>.custom-file:not(:last-child) .custom-file-label::before{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-file:not(:first-child) .custom-file-label,.input-group>.custom-file:not(:first-child) .custom-file-label::before{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-append,.input-group-prepend{display:-webkit-box;display:-ms-flexbox;display:flex}.input-group-append .btn,.input-group-prepend .btn{position:relative;z-index:2}.input-group-append .btn+.btn,.input-group-append .btn+.input-group-text,.input-group-append .input-group-text+.btn,.input-group-append .input-group-text+.input-group-text,.input-group-prepend .btn+.btn,.input-group-prepend .btn+.input-group-text,.input-group-prepend .input-group-text+.btn,.input-group-prepend .input-group-text+.input-group-text{margin-left:-1px}.input-group-prepend{margin-right:-1px}.input-group-append{margin-left:-1px}.input-group-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group>.input-group-append:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group>.input-group-append:last-child>.input-group-text:not(:last-child),.input-group>.input-group-append:not(:last-child)>.btn,.input-group>.input-group-append:not(:last-child)>.input-group-text,.input-group>.input-group-prepend>.btn,.input-group>.input-group-prepend>.input-group-text{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn,.input-group>.input-group-append>.input-group-text,.input-group>.input-group-prepend:first-child>.btn:not(:first-child),.input-group>.input-group-prepend:first-child>.input-group-text:not(:first-child),.input-group>.input-group-prepend:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.input-group-text{border-top-left-radius:0;border-bottom-left-radius:0}.custom-control{position:relative;display:block;min-height:1.5rem;padding-left:1.5rem}.custom-control-inline{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;margin-right:1rem}.custom-control-input{position:absolute;z-index:-1;opacity:0}.custom-control-input:checked~.custom-control-label::before{color:#fff;background-color:#007bff}.custom-control-input:focus~.custom-control-label::before{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-control-input:active~.custom-control-label::before{color:#fff;background-color:#b3d7ff}.custom-control-input:disabled~.custom-control-label{color:#6c757d}.custom-control-input:disabled~.custom-control-label::before{background-color:#e9ecef}.custom-control-label{margin-bottom:0}.custom-control-label::before{position:absolute;top:.25rem;left:0;display:block;width:1rem;height:1rem;pointer-events:none;content:"";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#dee2e6}.custom-control-label::after{position:absolute;top:.25rem;left:0;display:block;width:1rem;height:1rem;content:"";background-repeat:no-repeat;background-position:center center;background-size:50% 50%}.custom-checkbox .custom-control-label::before{border-radius:.25rem}.custom-checkbox .custom-control-input:checked~.custom-control-label::before{background-color:#007bff}.custom-checkbox .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3E%3Cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3E%3C/svg%3E")}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::before{background-color:#007bff}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::after{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 4'%3E%3Cpath stroke='%23fff' d='M0 2h4'/%3E%3C/svg%3E")}.custom-checkbox .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-checkbox .custom-control-input:disabled:indeterminate~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-radio .custom-control-label::before{border-radius:50%}.custom-radio .custom-control-input:checked~.custom-control-label::before{background-color:#007bff}.custom-radio .custom-control-input:checked~.custom-control-label::after{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3E%3Ccircle r='3' fill='%23fff'/%3E%3C/svg%3E")}.custom-radio .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-select{display:inline-block;width:100%;height:calc(2.25rem + 2px);padding:.375rem 1.75rem .375rem .75rem;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3E%3Cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E") no-repeat right .75rem center;background-size:8px 10px;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:inset 0 1px 2px rgba(0,0,0,.075),0 0 5px rgba(128,189,255,.5)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{opacity:0}.custom-select-sm{height:calc(1.8125rem + 2px);padding-top:.375rem;padding-bottom:.375rem;font-size:75%}.custom-select-lg{height:calc(2.875rem + 2px);padding-top:.375rem;padding-bottom:.375rem;font-size:125%}.custom-file{position:relative;display:inline-block;width:100%;height:calc(2.25rem + 2px);margin-bottom:0}.custom-file-input{position:relative;z-index:2;width:100%;height:calc(2.25rem + 2px);margin:0;opacity:0}.custom-file-input:focus~.custom-file-control{border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-file-input:focus~.custom-file-control::before{border-color:#80bdff}.custom-file-input:lang(en)~.custom-file-label::after{content:"Browse"}.custom-file-label{position:absolute;top:0;right:0;left:0;z-index:1;height:calc(2.25rem + 2px);padding:.375rem .75rem;line-height:1.5;color:#495057;background-color:#fff;border:1px solid #ced4da;border-radius:.25rem}.custom-file-label::after{position:absolute;top:0;right:0;bottom:0;z-index:3;display:block;height:calc(calc(2.25rem + 2px) - 1px * 2);padding:.375rem .75rem;line-height:1.5;color:#495057;content:"Browse";background-color:#e9ecef;border-left:1px solid #ced4da;border-radius:0 .25rem .25rem 0}.nav{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.nav-link.disabled{color:#6c757d}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-item{margin-bottom:-1px}.nav-tabs .nav-link{border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{border-color:#e9ecef #e9ecef #dee2e6}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#007bff}.nav-fill .nav-item{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center}.nav-justified .nav-item{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:center}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:.5rem 1rem}.navbar>.container,.navbar>.container-fluid{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-text{display:inline-block;padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler:not(:disabled):not(.disabled){cursor:pointer}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:"";background:no-repeat center center;background-size:100% 100%}@media (max-width:575.98px){.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:576px){.navbar-expand-sm{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-sm .navbar-nav{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .dropdown-menu-right{right:0;left:auto}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-sm .navbar-collapse{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}.navbar-expand-sm .dropup .dropdown-menu{top:auto;bottom:100%}}@media (max-width:767.98px){.navbar-expand-md>.container,.navbar-expand-md>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:768px){.navbar-expand-md{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-md .navbar-nav{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .dropdown-menu-right{right:0;left:auto}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container,.navbar-expand-md>.container-fluid{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-md .navbar-collapse{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}.navbar-expand-md .dropup .dropdown-menu{top:auto;bottom:100%}}@media (max-width:991.98px){.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:992px){.navbar-expand-lg{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-lg .navbar-nav{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .dropdown-menu-right{right:0;left:auto}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-lg .navbar-collapse{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .dropup .dropdown-menu{top:auto;bottom:100%}}@media (max-width:1199.98px){.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid{padding-right:0;padding-left:0}}@media (min-width:1200px){.navbar-expand-xl{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-xl .navbar-nav{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .dropdown-menu-right{right:0;left:auto}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-xl .navbar-collapse{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}.navbar-expand-xl .dropup .dropdown-menu{top:auto;bottom:100%}}.navbar-expand{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand>.container,.navbar-expand>.container-fluid{padding-right:0;padding-left:0}.navbar-expand .navbar-nav{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .dropdown-menu-right{right:0;left:auto}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand>.container,.navbar-expand>.container-fluid{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand .navbar-collapse{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-expand .dropup .dropdown-menu{top:auto;bottom:100%}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .active>.nav-link,.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .nav-link.show,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(0, 0, 0, 0.5)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E")}.navbar-light .navbar-text{color:rgba(0,0,0,.5)}.navbar-light .navbar-text a{color:rgba(0,0,0,.9)}.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.5)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .active>.nav-link,.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .nav-link.show,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.5);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(255, 255, 255, 0.5)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E")}.navbar-dark .navbar-text{color:rgba(255,255,255,.5)}.navbar-dark .navbar-text a{color:#fff}.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>hr{margin-right:0;margin-left:0}.card>.list-group:first-child .list-group-item:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.card>.list-group:last-child .list-group-item:last-child{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.card-body{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding:1.25rem}.card-title{margin-bottom:.75rem}.card-subtitle{margin-top:-.375rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-header+.list-group .list-group-item:first-child{border-top:0}.card-footer{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-right:-.625rem;margin-bottom:-.75rem;margin-left:-.625rem;border-bottom:0}.card-header-pills{margin-right:-.625rem;margin-left:-.625rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem}.card-img{width:100%;border-radius:calc(.25rem - 1px)}.card-img-top{width:100%;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img-bottom{width:100%;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-deck{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.card-deck .card{margin-bottom:15px}@media (min-width:576px){.card-deck{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck .card{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 0 0%;flex:1 0 0%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-right:15px;margin-bottom:0;margin-left:15px}}.card-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.card-group>.card{margin-bottom:15px}@media (min-width:576px){.card-group{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap}.card-group>.card{-webkit-box-flex:1;-ms-flex:1 0 0%;flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:first-child .card-header,.card-group>.card:first-child .card-img-top{border-top-right-radius:0}.card-group>.card:first-child .card-footer,.card-group>.card:first-child .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:last-child .card-header,.card-group>.card:last-child .card-img-top{border-top-left-radius:0}.card-group>.card:last-child .card-footer,.card-group>.card:last-child .card-img-bottom{border-bottom-left-radius:0}.card-group>.card:only-child{border-radius:.25rem}.card-group>.card:only-child .card-header,.card-group>.card:only-child .card-img-top{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.card-group>.card:only-child .card-footer,.card-group>.card:only-child .card-img-bottom{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.card-group>.card:not(:first-child):not(:last-child):not(:only-child){border-radius:0}.card-group>.card:not(:first-child):not(:last-child):not(:only-child) .card-footer,.card-group>.card:not(:first-child):not(:last-child):not(:only-child) .card-header,.card-group>.card:not(:first-child):not(:last-child):not(:only-child) .card-img-bottom,.card-group>.card:not(:first-child):not(:last-child):not(:only-child) .card-img-top{border-radius:0}}.card-columns .card{margin-bottom:.75rem}@media (min-width:576px){.card-columns{-webkit-column-count:3;-moz-column-count:3;column-count:3;-webkit-column-gap:1.25rem;-moz-column-gap:1.25rem;column-gap:1.25rem}.card-columns .card{display:inline-block;width:100%}}.breadcrumb{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:#e9ecef;border-radius:.25rem}.breadcrumb-item+.breadcrumb-item::before{display:inline-block;padding-right:.5rem;padding-left:.5rem;color:#6c757d;content:"/"}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:underline}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:none}.breadcrumb-item.active{color:#6c757d}.pagination{display:-webkit-box;display:-ms-flexbox;display:flex;padding-left:0;list-style:none;border-radius:.25rem}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:2;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.page-link:not(:disabled):not(.disabled){cursor:pointer}.page-item:first-child .page-link{margin-left:0;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.page-item.active .page-link{z-index:1;color:#fff;background-color:#007bff;border-color:#007bff}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;cursor:auto;background-color:#fff;border-color:#dee2e6}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem;line-height:1.5}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem;line-height:1.5}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}.badge-primary[href]:focus,.badge-primary[href]:hover{color:#fff;text-decoration:none;background-color:#0062cc}.badge-secondary{color:#fff;background-color:#6c757d}.badge-secondary[href]:focus,.badge-secondary[href]:hover{color:#fff;text-decoration:none;background-color:#545b62}.badge-success{color:#fff;background-color:#28a745}.badge-success[href]:focus,.badge-success[href]:hover{color:#fff;text-decoration:none;background-color:#1e7e34}.badge-info{color:#fff;background-color:#17a2b8}.badge-info[href]:focus,.badge-info[href]:hover{color:#fff;text-decoration:none;background-color:#117a8b}.badge-warning{color:#212529;background-color:#ffc107}.badge-warning[href]:focus,.badge-warning[href]:hover{color:#212529;text-decoration:none;background-color:#d39e00}.badge-danger{color:#fff;background-color:#dc3545}.badge-danger[href]:focus,.badge-danger[href]:hover{color:#fff;text-decoration:none;background-color:#bd2130}.badge-light{color:#212529;background-color:#f8f9fa}.badge-light[href]:focus,.badge-light[href]:hover{color:#212529;text-decoration:none;background-color:#dae0e5}.badge-dark{color:#fff;background-color:#343a40}.badge-dark[href]:focus,.badge-dark[href]:hover{color:#fff;text-decoration:none;background-color:#1d2124}.jumbotron{padding:2rem 1rem;margin-bottom:2rem;background-color:#e9ecef;border-radius:.3rem}@media (min-width:576px){.jumbotron{padding:4rem 2rem}}.jumbotron-fluid{padding-right:0;padding-left:0;border-radius:0}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:4rem}.alert-dismissible .close{position:absolute;top:0;right:0;padding:.75rem 1.25rem;color:inherit}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary hr{border-top-color:#9fcdff}.alert-primary .alert-link{color:#002752}.alert-secondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.alert-secondary hr{border-top-color:#c8cbcf}.alert-secondary .alert-link{color:#202326}.alert-success{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-success hr{border-top-color:#b1dfbb}.alert-success .alert-link{color:#0b2e13}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info hr{border-top-color:#abdde5}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning hr{border-top-color:#ffe8a1}.alert-warning .alert-link{color:#533f03}.alert-danger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-danger hr{border-top-color:#f1b0b7}.alert-danger .alert-link{color:#491217}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light hr{border-top-color:#ececf6}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark hr{border-top-color:#b9bbbe}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.progress{display:-webkit-box;display:-ms-flexbox;display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#fff;text-align:center;background-color:#007bff;transition:width .6s ease}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:progress-bar-stripes 1s linear infinite;animation:progress-bar-stripes 1s linear infinite}.media{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.media-body{-webkit-box-flex:1;-ms-flex:1;flex:1}.list-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.75rem 1.25rem;margin-bottom:-1px;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.list-group-item:focus,.list-group-item:hover{z-index:1;text-decoration:none}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#007bff;border-color:#007bff}.list-group-flush .list-group-item{border-right:0;border-left:0;border-radius:0}.list-group-flush:first-child .list-group-item:first-child{border-top:0}.list-group-flush:last-child .list-group-item:last-child{border-bottom:0}.list-group-item-primary{color:#004085;background-color:#b8daff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#004085;background-color:#9fcdff}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#004085;border-color:#004085}.list-group-item-secondary{color:#383d41;background-color:#d6d8db}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#383d41;background-color:#c8cbcf}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#383d41;border-color:#383d41}.list-group-item-success{color:#155724;background-color:#c3e6cb}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#155724;background-color:#b1dfbb}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#155724;border-color:#155724}.list-group-item-info{color:#0c5460;background-color:#bee5eb}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#0c5460;background-color:#abdde5}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#0c5460;border-color:#0c5460}.list-group-item-warning{color:#856404;background-color:#ffeeba}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#856404;background-color:#ffe8a1}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#856404;border-color:#856404}.list-group-item-danger{color:#721c24;background-color:#f5c6cb}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#721c24;background-color:#f1b0b7}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#721c24;border-color:#721c24}.list-group-item-light{color:#818182;background-color:#fdfdfe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#818182;background-color:#ececf6}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#818182;border-color:#818182}.list-group-item-dark{color:#1b1e21;background-color:#c6c8ca}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#1b1e21;background-color:#b9bbbe}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#1b1e21;border-color:#1b1e21}.close{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:focus,.close:hover{color:#000;text-decoration:none;opacity:.75}.close:not(:disabled):not(.disabled){cursor:pointer}button.close{padding:0;background-color:transparent;border:0;-webkit-appearance:none}.modal-open{overflow:hidden}.modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;display:none;overflow:hidden;outline:0}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out;-webkit-transform:translate(0,-25%);transform:translate(0,-25%)}.modal.show .modal-dialog{-webkit-transform:translate(0,0);transform:translate(0,0)}.modal-dialog-centered{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:calc(100% - (.5rem * 2))}.modal-content{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:1rem;border-bottom:1px solid #e9ecef;border-top-left-radius:.3rem;border-top-right-radius:.3rem}.modal-header .close{padding:1rem;margin:-1rem -1rem -1rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding:1rem}.modal-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:1rem;border-top:1px solid #e9ecef}.modal-footer>:not(:first-child){margin-left:.25rem}.modal-footer>:not(:last-child){margin-right:.25rem}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-centered{min-height:calc(100% - (1.75rem * 2))}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg{max-width:800px}}.tooltip{position:absolute;z-index:1070;display:block;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[x-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[x-placement^=top] .arrow,.bs-tooltip-top .arrow{bottom:0}.bs-tooltip-auto[x-placement^=top] .arrow::before,.bs-tooltip-top .arrow::before{top:0;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[x-placement^=right],.bs-tooltip-right{padding:0 .4rem}.bs-tooltip-auto[x-placement^=right] .arrow,.bs-tooltip-right .arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=right] .arrow::before,.bs-tooltip-right .arrow::before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[x-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[x-placement^=bottom] .arrow,.bs-tooltip-bottom .arrow{top:0}.bs-tooltip-auto[x-placement^=bottom] .arrow::before,.bs-tooltip-bottom .arrow::before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[x-placement^=left],.bs-tooltip-left{padding:0 .4rem}.bs-tooltip-auto[x-placement^=left] .arrow,.bs-tooltip-left .arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=left] .arrow::before,.bs-tooltip-left .arrow::before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover{position:absolute;top:0;left:0;z-index:1060;display:block;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover .arrow{position:absolute;display:block;width:1rem;height:.5rem;margin:0 .3rem}.popover .arrow::after,.popover .arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid}.bs-popover-auto[x-placement^=top],.bs-popover-top{margin-bottom:.5rem}.bs-popover-auto[x-placement^=top] .arrow,.bs-popover-top .arrow{bottom:calc((.5rem + 1px) * -1)}.bs-popover-auto[x-placement^=top] .arrow::after,.bs-popover-auto[x-placement^=top] .arrow::before,.bs-popover-top .arrow::after,.bs-popover-top .arrow::before{border-width:.5rem .5rem 0}.bs-popover-auto[x-placement^=top] .arrow::before,.bs-popover-top .arrow::before{bottom:0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=top] .arrow::after,.bs-popover-top .arrow::after{bottom:1px;border-top-color:#fff}.bs-popover-auto[x-placement^=right],.bs-popover-right{margin-left:.5rem}.bs-popover-auto[x-placement^=right] .arrow,.bs-popover-right .arrow{left:calc((.5rem + 1px) * -1);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=right] .arrow::after,.bs-popover-auto[x-placement^=right] .arrow::before,.bs-popover-right .arrow::after,.bs-popover-right .arrow::before{border-width:.5rem .5rem .5rem 0}.bs-popover-auto[x-placement^=right] .arrow::before,.bs-popover-right .arrow::before{left:0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=right] .arrow::after,.bs-popover-right .arrow::after{left:1px;border-right-color:#fff}.bs-popover-auto[x-placement^=bottom],.bs-popover-bottom{margin-top:.5rem}.bs-popover-auto[x-placement^=bottom] .arrow,.bs-popover-bottom .arrow{top:calc((.5rem + 1px) * -1)}.bs-popover-auto[x-placement^=bottom] .arrow::after,.bs-popover-auto[x-placement^=bottom] .arrow::before,.bs-popover-bottom .arrow::after,.bs-popover-bottom .arrow::before{border-width:0 .5rem .5rem .5rem}.bs-popover-auto[x-placement^=bottom] .arrow::before,.bs-popover-bottom .arrow::before{top:0;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=bottom] .arrow::after,.bs-popover-bottom .arrow::after{top:1px;border-bottom-color:#fff}.bs-popover-auto[x-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:"";border-bottom:1px solid #f7f7f7}.bs-popover-auto[x-placement^=left],.bs-popover-left{margin-right:.5rem}.bs-popover-auto[x-placement^=left] .arrow,.bs-popover-left .arrow{right:calc((.5rem + 1px) * -1);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=left] .arrow::after,.bs-popover-auto[x-placement^=left] .arrow::before,.bs-popover-left .arrow::after,.bs-popover-left .arrow::before{border-width:.5rem 0 .5rem .5rem}.bs-popover-auto[x-placement^=left] .arrow::before,.bs-popover-left .arrow::before{right:0;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=left] .arrow::after,.bs-popover-left .arrow::after{right:1px;border-left-color:#fff}.popover-header{padding:.5rem .75rem;margin-bottom:0;font-size:1rem;color:inherit;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:.5rem .75rem;color:#212529}.carousel{position:relative}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-item{position:relative;display:none;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;transition:-webkit-transform .6s ease;transition:transform .6s ease;transition:transform .6s ease,-webkit-transform .6s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000px;perspective:1000px}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.carousel-item-next,.carousel-item-prev{position:absolute;top:0}.carousel-item-next.carousel-item-left,.carousel-item-prev.carousel-item-right{-webkit-transform:translateX(0);transform:translateX(0)}@supports ((-webkit-transform-style:preserve-3d) or (transform-style:preserve-3d)){.carousel-item-next.carousel-item-left,.carousel-item-prev.carousel-item-right{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}.active.carousel-item-right,.carousel-item-next{-webkit-transform:translateX(100%);transform:translateX(100%)}@supports ((-webkit-transform-style:preserve-3d) or (transform-style:preserve-3d)){.active.carousel-item-right,.carousel-item-next{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.active.carousel-item-left,.carousel-item-prev{-webkit-transform:translateX(-100%);transform:translateX(-100%)}@supports ((-webkit-transform-style:preserve-3d) or (transform-style:preserve-3d)){.active.carousel-item-left,.carousel-item-prev{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:15%;color:#fff;text-align:center;opacity:.5}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:20px;height:20px;background:transparent no-repeat center center;background-size:100% 100%}.carousel-control-prev-icon{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3E%3C/svg%3E")}.carousel-control-next-icon{background-image:url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3E%3C/svg%3E")}.carousel-indicators{position:absolute;right:0;bottom:10px;left:0;z-index:15;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-left:0;margin-right:15%;margin-left:15%;list-style:none}.carousel-indicators li{position:relative;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;background-color:rgba(255,255,255,.5)}.carousel-indicators li::before{position:absolute;top:-10px;left:0;display:inline-block;width:100%;height:10px;content:""}.carousel-indicators li::after{position:absolute;bottom:-10px;left:0;display:inline-block;width:100%;height:10px;content:""}.carousel-indicators .active{background-color:#fff}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.bg-primary{background-color:#007bff!important}a.bg-primary:focus,a.bg-primary:hover,button.bg-primary:focus,button.bg-primary:hover{background-color:#0062cc!important}.bg-secondary{background-color:#6c757d!important}a.bg-secondary:focus,a.bg-secondary:hover,button.bg-secondary:focus,button.bg-secondary:hover{background-color:#545b62!important}.bg-success{background-color:#28a745!important}a.bg-success:focus,a.bg-success:hover,button.bg-success:focus,button.bg-success:hover{background-color:#1e7e34!important}.bg-info{background-color:#17a2b8!important}a.bg-info:focus,a.bg-info:hover,button.bg-info:focus,button.bg-info:hover{background-color:#117a8b!important}.bg-warning{background-color:#ffc107!important}a.bg-warning:focus,a.bg-warning:hover,button.bg-warning:focus,button.bg-warning:hover{background-color:#d39e00!important}.bg-danger{background-color:#dc3545!important}a.bg-danger:focus,a.bg-danger:hover,button.bg-danger:focus,button.bg-danger:hover{background-color:#bd2130!important}.bg-light{background-color:#f8f9fa!important}a.bg-light:focus,a.bg-light:hover,button.bg-light:focus,button.bg-light:hover{background-color:#dae0e5!important}.bg-dark{background-color:#343a40!important}a.bg-dark:focus,a.bg-dark:hover,button.bg-dark:focus,button.bg-dark:hover{background-color:#1d2124!important}.bg-white{background-color:#fff!important}.bg-transparent{background-color:transparent!important}.border{border:1px solid #dee2e6!important}.border-top{border-top:1px solid #dee2e6!important}.border-right{border-right:1px solid #dee2e6!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-left{border-left:1px solid #dee2e6!important}.border-0{border:0!important}.border-top-0{border-top:0!important}.border-right-0{border-right:0!important}.border-bottom-0{border-bottom:0!important}.border-left-0{border-left:0!important}.border-primary{border-color:#007bff!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#28a745!important}.border-info{border-color:#17a2b8!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#343a40!important}.border-white{border-color:#fff!important}.rounded{border-radius:.25rem!important}.rounded-top{border-top-left-radius:.25rem!important;border-top-right-radius:.25rem!important}.rounded-right{border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.rounded-bottom{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-left{border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-circle{border-radius:50%!important}.rounded-0{border-radius:0!important}.clearfix::after{display:block;clear:both;content:""}.d-none{display:none!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}@media (min-width:576px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-sm-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-md-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-lg-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media (min-width:1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-xl-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}@media print{.d-print-none{display:none!important}.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}.d-print-inline-flex{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important}}.embed-responsive{position:relative;display:block;width:100%;padding:0;overflow:hidden}.embed-responsive::before{display:block;content:""}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-21by9::before{padding-top:42.857143%}.embed-responsive-16by9::before{padding-top:56.25%}.embed-responsive-4by3::before{padding-top:75%}.embed-responsive-1by1::before{padding-top:100%}.flex-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.flex-column{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.flex-row-reverse{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-column-reverse{-webkit-box-orient:vertical!important;-webkit-box-direction:reverse!important;-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.justify-content-start{-webkit-box-pack:start!important;-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-end{-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-center{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.justify-content-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-start{-webkit-box-align:start!important;-ms-flex-align:start!important;align-items:flex-start!important}.align-items-end{-webkit-box-align:end!important;-ms-flex-align:end!important;align-items:flex-end!important}.align-items-center{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.align-items-baseline{-webkit-box-align:baseline!important;-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-stretch{-webkit-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}@media (min-width:576px){.flex-sm-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.flex-sm-column{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.flex-sm-row-reverse{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-sm-column-reverse{-webkit-box-orient:vertical!important;-webkit-box-direction:reverse!important;-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-sm-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-sm-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-sm-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.justify-content-sm-start{-webkit-box-pack:start!important;-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-sm-end{-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-sm-center{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.justify-content-sm-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-sm-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-sm-start{-webkit-box-align:start!important;-ms-flex-align:start!important;align-items:flex-start!important}.align-items-sm-end{-webkit-box-align:end!important;-ms-flex-align:end!important;align-items:flex-end!important}.align-items-sm-center{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.align-items-sm-baseline{-webkit-box-align:baseline!important;-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-sm-stretch{-webkit-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-sm-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-sm-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-sm-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-sm-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-sm-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-sm-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-sm-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-sm-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-sm-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-sm-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-sm-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-sm-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:768px){.flex-md-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.flex-md-column{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.flex-md-row-reverse{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-md-column-reverse{-webkit-box-orient:vertical!important;-webkit-box-direction:reverse!important;-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-md-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-md-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-md-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.justify-content-md-start{-webkit-box-pack:start!important;-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-md-end{-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-md-center{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.justify-content-md-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-md-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-md-start{-webkit-box-align:start!important;-ms-flex-align:start!important;align-items:flex-start!important}.align-items-md-end{-webkit-box-align:end!important;-ms-flex-align:end!important;align-items:flex-end!important}.align-items-md-center{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.align-items-md-baseline{-webkit-box-align:baseline!important;-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-md-stretch{-webkit-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-md-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-md-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-md-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-md-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-md-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-md-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-md-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-md-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-md-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-md-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-md-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-md-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:992px){.flex-lg-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.flex-lg-column{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.flex-lg-row-reverse{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-lg-column-reverse{-webkit-box-orient:vertical!important;-webkit-box-direction:reverse!important;-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-lg-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-lg-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-lg-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.justify-content-lg-start{-webkit-box-pack:start!important;-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-lg-end{-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-lg-center{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.justify-content-lg-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-lg-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-lg-start{-webkit-box-align:start!important;-ms-flex-align:start!important;align-items:flex-start!important}.align-items-lg-end{-webkit-box-align:end!important;-ms-flex-align:end!important;align-items:flex-end!important}.align-items-lg-center{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.align-items-lg-baseline{-webkit-box-align:baseline!important;-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-lg-stretch{-webkit-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-lg-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-lg-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-lg-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-lg-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-lg-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-lg-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-lg-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-lg-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-lg-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-lg-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-lg-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-lg-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}@media (min-width:1200px){.flex-xl-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-ms-flex-direction:row!important;flex-direction:row!important}.flex-xl-column{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}.flex-xl-row-reverse{-webkit-box-orient:horizontal!important;-webkit-box-direction:reverse!important;-ms-flex-direction:row-reverse!important;flex-direction:row-reverse!important}.flex-xl-column-reverse{-webkit-box-orient:vertical!important;-webkit-box-direction:reverse!important;-ms-flex-direction:column-reverse!important;flex-direction:column-reverse!important}.flex-xl-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-xl-nowrap{-ms-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.flex-xl-wrap-reverse{-ms-flex-wrap:wrap-reverse!important;flex-wrap:wrap-reverse!important}.justify-content-xl-start{-webkit-box-pack:start!important;-ms-flex-pack:start!important;justify-content:flex-start!important}.justify-content-xl-end{-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-xl-center{-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}.justify-content-xl-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}.justify-content-xl-around{-ms-flex-pack:distribute!important;justify-content:space-around!important}.align-items-xl-start{-webkit-box-align:start!important;-ms-flex-align:start!important;align-items:flex-start!important}.align-items-xl-end{-webkit-box-align:end!important;-ms-flex-align:end!important;align-items:flex-end!important}.align-items-xl-center{-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important}.align-items-xl-baseline{-webkit-box-align:baseline!important;-ms-flex-align:baseline!important;align-items:baseline!important}.align-items-xl-stretch{-webkit-box-align:stretch!important;-ms-flex-align:stretch!important;align-items:stretch!important}.align-content-xl-start{-ms-flex-line-pack:start!important;align-content:flex-start!important}.align-content-xl-end{-ms-flex-line-pack:end!important;align-content:flex-end!important}.align-content-xl-center{-ms-flex-line-pack:center!important;align-content:center!important}.align-content-xl-between{-ms-flex-line-pack:justify!important;align-content:space-between!important}.align-content-xl-around{-ms-flex-line-pack:distribute!important;align-content:space-around!important}.align-content-xl-stretch{-ms-flex-line-pack:stretch!important;align-content:stretch!important}.align-self-xl-auto{-ms-flex-item-align:auto!important;align-self:auto!important}.align-self-xl-start{-ms-flex-item-align:start!important;align-self:flex-start!important}.align-self-xl-end{-ms-flex-item-align:end!important;align-self:flex-end!important}.align-self-xl-center{-ms-flex-item-align:center!important;align-self:center!important}.align-self-xl-baseline{-ms-flex-item-align:baseline!important;align-self:baseline!important}.align-self-xl-stretch{-ms-flex-item-align:stretch!important;align-self:stretch!important}}.float-left{float:left!important}.float-right{float:right!important}.float-none{float:none!important}@media (min-width:576px){.float-sm-left{float:left!important}.float-sm-right{float:right!important}.float-sm-none{float:none!important}}@media (min-width:768px){.float-md-left{float:left!important}.float-md-right{float:right!important}.float-md-none{float:none!important}}@media (min-width:992px){.float-lg-left{float:left!important}.float-lg-right{float:right!important}.float-lg-none{float:none!important}}@media (min-width:1200px){.float-xl-left{float:left!important}.float-xl-right{float:right!important}.float-xl-none{float:none!important}}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.sr-only{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;-webkit-clip-path:inset(50%);clip-path:inset(50%);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;overflow:visible;clip:auto;white-space:normal;-webkit-clip-path:none;clip-path:none}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.mw-100{max-width:100%!important}.mh-100{max-height:100%!important}.m-0{margin:0!important}.mt-0,.my-0{margin-top:0!important}.mr-0,.mx-0{margin-right:0!important}.mb-0,.my-0{margin-bottom:0!important}.ml-0,.mx-0{margin-left:0!important}.m-1{margin:.25rem!important}.mt-1,.my-1{margin-top:.25rem!important}.mr-1,.mx-1{margin-right:.25rem!important}.mb-1,.my-1{margin-bottom:.25rem!important}.ml-1,.mx-1{margin-left:.25rem!important}.m-2{margin:.5rem!important}.mt-2,.my-2{margin-top:.5rem!important}.mr-2,.mx-2{margin-right:.5rem!important}.mb-2,.my-2{margin-bottom:.5rem!important}.ml-2,.mx-2{margin-left:.5rem!important}.m-3{margin:1rem!important}.mt-3,.my-3{margin-top:1rem!important}.mr-3,.mx-3{margin-right:1rem!important}.mb-3,.my-3{margin-bottom:1rem!important}.ml-3,.mx-3{margin-left:1rem!important}.m-4{margin:1.5rem!important}.mt-4,.my-4{margin-top:1.5rem!important}.mr-4,.mx-4{margin-right:1.5rem!important}.mb-4,.my-4{margin-bottom:1.5rem!important}.ml-4,.mx-4{margin-left:1.5rem!important}.m-5{margin:3rem!important}.mt-5,.my-5{margin-top:3rem!important}.mr-5,.mx-5{margin-right:3rem!important}.mb-5,.my-5{margin-bottom:3rem!important}.ml-5,.mx-5{margin-left:3rem!important}.p-0{padding:0!important}.pt-0,.py-0{padding-top:0!important}.pr-0,.px-0{padding-right:0!important}.pb-0,.py-0{padding-bottom:0!important}.pl-0,.px-0{padding-left:0!important}.p-1{padding:.25rem!important}.pt-1,.py-1{padding-top:.25rem!important}.pr-1,.px-1{padding-right:.25rem!important}.pb-1,.py-1{padding-bottom:.25rem!important}.pl-1,.px-1{padding-left:.25rem!important}.p-2{padding:.5rem!important}.pt-2,.py-2{padding-top:.5rem!important}.pr-2,.px-2{padding-right:.5rem!important}.pb-2,.py-2{padding-bottom:.5rem!important}.pl-2,.px-2{padding-left:.5rem!important}.p-3{padding:1rem!important}.pt-3,.py-3{padding-top:1rem!important}.pr-3,.px-3{padding-right:1rem!important}.pb-3,.py-3{padding-bottom:1rem!important}.pl-3,.px-3{padding-left:1rem!important}.p-4{padding:1.5rem!important}.pt-4,.py-4{padding-top:1.5rem!important}.pr-4,.px-4{padding-right:1.5rem!important}.pb-4,.py-4{padding-bottom:1.5rem!important}.pl-4,.px-4{padding-left:1.5rem!important}.p-5{padding:3rem!important}.pt-5,.py-5{padding-top:3rem!important}.pr-5,.px-5{padding-right:3rem!important}.pb-5,.py-5{padding-bottom:3rem!important}.pl-5,.px-5{padding-left:3rem!important}.m-auto{margin:auto!important}.mt-auto,.my-auto{margin-top:auto!important}.mr-auto,.mx-auto{margin-right:auto!important}.mb-auto,.my-auto{margin-bottom:auto!important}.ml-auto,.mx-auto{margin-left:auto!important}@media (min-width:576px){.m-sm-0{margin:0!important}.mt-sm-0,.my-sm-0{margin-top:0!important}.mr-sm-0,.mx-sm-0{margin-right:0!important}.mb-sm-0,.my-sm-0{margin-bottom:0!important}.ml-sm-0,.mx-sm-0{margin-left:0!important}.m-sm-1{margin:.25rem!important}.mt-sm-1,.my-sm-1{margin-top:.25rem!important}.mr-sm-1,.mx-sm-1{margin-right:.25rem!important}.mb-sm-1,.my-sm-1{margin-bottom:.25rem!important}.ml-sm-1,.mx-sm-1{margin-left:.25rem!important}.m-sm-2{margin:.5rem!important}.mt-sm-2,.my-sm-2{margin-top:.5rem!important}.mr-sm-2,.mx-sm-2{margin-right:.5rem!important}.mb-sm-2,.my-sm-2{margin-bottom:.5rem!important}.ml-sm-2,.mx-sm-2{margin-left:.5rem!important}.m-sm-3{margin:1rem!important}.mt-sm-3,.my-sm-3{margin-top:1rem!important}.mr-sm-3,.mx-sm-3{margin-right:1rem!important}.mb-sm-3,.my-sm-3{margin-bottom:1rem!important}.ml-sm-3,.mx-sm-3{margin-left:1rem!important}.m-sm-4{margin:1.5rem!important}.mt-sm-4,.my-sm-4{margin-top:1.5rem!important}.mr-sm-4,.mx-sm-4{margin-right:1.5rem!important}.mb-sm-4,.my-sm-4{margin-bottom:1.5rem!important}.ml-sm-4,.mx-sm-4{margin-left:1.5rem!important}.m-sm-5{margin:3rem!important}.mt-sm-5,.my-sm-5{margin-top:3rem!important}.mr-sm-5,.mx-sm-5{margin-right:3rem!important}.mb-sm-5,.my-sm-5{margin-bottom:3rem!important}.ml-sm-5,.mx-sm-5{margin-left:3rem!important}.p-sm-0{padding:0!important}.pt-sm-0,.py-sm-0{padding-top:0!important}.pr-sm-0,.px-sm-0{padding-right:0!important}.pb-sm-0,.py-sm-0{padding-bottom:0!important}.pl-sm-0,.px-sm-0{padding-left:0!important}.p-sm-1{padding:.25rem!important}.pt-sm-1,.py-sm-1{padding-top:.25rem!important}.pr-sm-1,.px-sm-1{padding-right:.25rem!important}.pb-sm-1,.py-sm-1{padding-bottom:.25rem!important}.pl-sm-1,.px-sm-1{padding-left:.25rem!important}.p-sm-2{padding:.5rem!important}.pt-sm-2,.py-sm-2{padding-top:.5rem!important}.pr-sm-2,.px-sm-2{padding-right:.5rem!important}.pb-sm-2,.py-sm-2{padding-bottom:.5rem!important}.pl-sm-2,.px-sm-2{padding-left:.5rem!important}.p-sm-3{padding:1rem!important}.pt-sm-3,.py-sm-3{padding-top:1rem!important}.pr-sm-3,.px-sm-3{padding-right:1rem!important}.pb-sm-3,.py-sm-3{padding-bottom:1rem!important}.pl-sm-3,.px-sm-3{padding-left:1rem!important}.p-sm-4{padding:1.5rem!important}.pt-sm-4,.py-sm-4{padding-top:1.5rem!important}.pr-sm-4,.px-sm-4{padding-right:1.5rem!important}.pb-sm-4,.py-sm-4{padding-bottom:1.5rem!important}.pl-sm-4,.px-sm-4{padding-left:1.5rem!important}.p-sm-5{padding:3rem!important}.pt-sm-5,.py-sm-5{padding-top:3rem!important}.pr-sm-5,.px-sm-5{padding-right:3rem!important}.pb-sm-5,.py-sm-5{padding-bottom:3rem!important}.pl-sm-5,.px-sm-5{padding-left:3rem!important}.m-sm-auto{margin:auto!important}.mt-sm-auto,.my-sm-auto{margin-top:auto!important}.mr-sm-auto,.mx-sm-auto{margin-right:auto!important}.mb-sm-auto,.my-sm-auto{margin-bottom:auto!important}.ml-sm-auto,.mx-sm-auto{margin-left:auto!important}}@media (min-width:768px){.m-md-0{margin:0!important}.mt-md-0,.my-md-0{margin-top:0!important}.mr-md-0,.mx-md-0{margin-right:0!important}.mb-md-0,.my-md-0{margin-bottom:0!important}.ml-md-0,.mx-md-0{margin-left:0!important}.m-md-1{margin:.25rem!important}.mt-md-1,.my-md-1{margin-top:.25rem!important}.mr-md-1,.mx-md-1{margin-right:.25rem!important}.mb-md-1,.my-md-1{margin-bottom:.25rem!important}.ml-md-1,.mx-md-1{margin-left:.25rem!important}.m-md-2{margin:.5rem!important}.mt-md-2,.my-md-2{margin-top:.5rem!important}.mr-md-2,.mx-md-2{margin-right:.5rem!important}.mb-md-2,.my-md-2{margin-bottom:.5rem!important}.ml-md-2,.mx-md-2{margin-left:.5rem!important}.m-md-3{margin:1rem!important}.mt-md-3,.my-md-3{margin-top:1rem!important}.mr-md-3,.mx-md-3{margin-right:1rem!important}.mb-md-3,.my-md-3{margin-bottom:1rem!important}.ml-md-3,.mx-md-3{margin-left:1rem!important}.m-md-4{margin:1.5rem!important}.mt-md-4,.my-md-4{margin-top:1.5rem!important}.mr-md-4,.mx-md-4{margin-right:1.5rem!important}.mb-md-4,.my-md-4{margin-bottom:1.5rem!important}.ml-md-4,.mx-md-4{margin-left:1.5rem!important}.m-md-5{margin:3rem!important}.mt-md-5,.my-md-5{margin-top:3rem!important}.mr-md-5,.mx-md-5{margin-right:3rem!important}.mb-md-5,.my-md-5{margin-bottom:3rem!important}.ml-md-5,.mx-md-5{margin-left:3rem!important}.p-md-0{padding:0!important}.pt-md-0,.py-md-0{padding-top:0!important}.pr-md-0,.px-md-0{padding-right:0!important}.pb-md-0,.py-md-0{padding-bottom:0!important}.pl-md-0,.px-md-0{padding-left:0!important}.p-md-1{padding:.25rem!important}.pt-md-1,.py-md-1{padding-top:.25rem!important}.pr-md-1,.px-md-1{padding-right:.25rem!important}.pb-md-1,.py-md-1{padding-bottom:.25rem!important}.pl-md-1,.px-md-1{padding-left:.25rem!important}.p-md-2{padding:.5rem!important}.pt-md-2,.py-md-2{padding-top:.5rem!important}.pr-md-2,.px-md-2{padding-right:.5rem!important}.pb-md-2,.py-md-2{padding-bottom:.5rem!important}.pl-md-2,.px-md-2{padding-left:.5rem!important}.p-md-3{padding:1rem!important}.pt-md-3,.py-md-3{padding-top:1rem!important}.pr-md-3,.px-md-3{padding-right:1rem!important}.pb-md-3,.py-md-3{padding-bottom:1rem!important}.pl-md-3,.px-md-3{padding-left:1rem!important}.p-md-4{padding:1.5rem!important}.pt-md-4,.py-md-4{padding-top:1.5rem!important}.pr-md-4,.px-md-4{padding-right:1.5rem!important}.pb-md-4,.py-md-4{padding-bottom:1.5rem!important}.pl-md-4,.px-md-4{padding-left:1.5rem!important}.p-md-5{padding:3rem!important}.pt-md-5,.py-md-5{padding-top:3rem!important}.pr-md-5,.px-md-5{padding-right:3rem!important}.pb-md-5,.py-md-5{padding-bottom:3rem!important}.pl-md-5,.px-md-5{padding-left:3rem!important}.m-md-auto{margin:auto!important}.mt-md-auto,.my-md-auto{margin-top:auto!important}.mr-md-auto,.mx-md-auto{margin-right:auto!important}.mb-md-auto,.my-md-auto{margin-bottom:auto!important}.ml-md-auto,.mx-md-auto{margin-left:auto!important}}@media (min-width:992px){.m-lg-0{margin:0!important}.mt-lg-0,.my-lg-0{margin-top:0!important}.mr-lg-0,.mx-lg-0{margin-right:0!important}.mb-lg-0,.my-lg-0{margin-bottom:0!important}.ml-lg-0,.mx-lg-0{margin-left:0!important}.m-lg-1{margin:.25rem!important}.mt-lg-1,.my-lg-1{margin-top:.25rem!important}.mr-lg-1,.mx-lg-1{margin-right:.25rem!important}.mb-lg-1,.my-lg-1{margin-bottom:.25rem!important}.ml-lg-1,.mx-lg-1{margin-left:.25rem!important}.m-lg-2{margin:.5rem!important}.mt-lg-2,.my-lg-2{margin-top:.5rem!important}.mr-lg-2,.mx-lg-2{margin-right:.5rem!important}.mb-lg-2,.my-lg-2{margin-bottom:.5rem!important}.ml-lg-2,.mx-lg-2{margin-left:.5rem!important}.m-lg-3{margin:1rem!important}.mt-lg-3,.my-lg-3{margin-top:1rem!important}.mr-lg-3,.mx-lg-3{margin-right:1rem!important}.mb-lg-3,.my-lg-3{margin-bottom:1rem!important}.ml-lg-3,.mx-lg-3{margin-left:1rem!important}.m-lg-4{margin:1.5rem!important}.mt-lg-4,.my-lg-4{margin-top:1.5rem!important}.mr-lg-4,.mx-lg-4{margin-right:1.5rem!important}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem!important}.ml-lg-4,.mx-lg-4{margin-left:1.5rem!important}.m-lg-5{margin:3rem!important}.mt-lg-5,.my-lg-5{margin-top:3rem!important}.mr-lg-5,.mx-lg-5{margin-right:3rem!important}.mb-lg-5,.my-lg-5{margin-bottom:3rem!important}.ml-lg-5,.mx-lg-5{margin-left:3rem!important}.p-lg-0{padding:0!important}.pt-lg-0,.py-lg-0{padding-top:0!important}.pr-lg-0,.px-lg-0{padding-right:0!important}.pb-lg-0,.py-lg-0{padding-bottom:0!important}.pl-lg-0,.px-lg-0{padding-left:0!important}.p-lg-1{padding:.25rem!important}.pt-lg-1,.py-lg-1{padding-top:.25rem!important}.pr-lg-1,.px-lg-1{padding-right:.25rem!important}.pb-lg-1,.py-lg-1{padding-bottom:.25rem!important}.pl-lg-1,.px-lg-1{padding-left:.25rem!important}.p-lg-2{padding:.5rem!important}.pt-lg-2,.py-lg-2{padding-top:.5rem!important}.pr-lg-2,.px-lg-2{padding-right:.5rem!important}.pb-lg-2,.py-lg-2{padding-bottom:.5rem!important}.pl-lg-2,.px-lg-2{padding-left:.5rem!important}.p-lg-3{padding:1rem!important}.pt-lg-3,.py-lg-3{padding-top:1rem!important}.pr-lg-3,.px-lg-3{padding-right:1rem!important}.pb-lg-3,.py-lg-3{padding-bottom:1rem!important}.pl-lg-3,.px-lg-3{padding-left:1rem!important}.p-lg-4{padding:1.5rem!important}.pt-lg-4,.py-lg-4{padding-top:1.5rem!important}.pr-lg-4,.px-lg-4{padding-right:1.5rem!important}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem!important}.pl-lg-4,.px-lg-4{padding-left:1.5rem!important}.p-lg-5{padding:3rem!important}.pt-lg-5,.py-lg-5{padding-top:3rem!important}.pr-lg-5,.px-lg-5{padding-right:3rem!important}.pb-lg-5,.py-lg-5{padding-bottom:3rem!important}.pl-lg-5,.px-lg-5{padding-left:3rem!important}.m-lg-auto{margin:auto!important}.mt-lg-auto,.my-lg-auto{margin-top:auto!important}.mr-lg-auto,.mx-lg-auto{margin-right:auto!important}.mb-lg-auto,.my-lg-auto{margin-bottom:auto!important}.ml-lg-auto,.mx-lg-auto{margin-left:auto!important}}@media (min-width:1200px){.m-xl-0{margin:0!important}.mt-xl-0,.my-xl-0{margin-top:0!important}.mr-xl-0,.mx-xl-0{margin-right:0!important}.mb-xl-0,.my-xl-0{margin-bottom:0!important}.ml-xl-0,.mx-xl-0{margin-left:0!important}.m-xl-1{margin:.25rem!important}.mt-xl-1,.my-xl-1{margin-top:.25rem!important}.mr-xl-1,.mx-xl-1{margin-right:.25rem!important}.mb-xl-1,.my-xl-1{margin-bottom:.25rem!important}.ml-xl-1,.mx-xl-1{margin-left:.25rem!important}.m-xl-2{margin:.5rem!important}.mt-xl-2,.my-xl-2{margin-top:.5rem!important}.mr-xl-2,.mx-xl-2{margin-right:.5rem!important}.mb-xl-2,.my-xl-2{margin-bottom:.5rem!important}.ml-xl-2,.mx-xl-2{margin-left:.5rem!important}.m-xl-3{margin:1rem!important}.mt-xl-3,.my-xl-3{margin-top:1rem!important}.mr-xl-3,.mx-xl-3{margin-right:1rem!important}.mb-xl-3,.my-xl-3{margin-bottom:1rem!important}.ml-xl-3,.mx-xl-3{margin-left:1rem!important}.m-xl-4{margin:1.5rem!important}.mt-xl-4,.my-xl-4{margin-top:1.5rem!important}.mr-xl-4,.mx-xl-4{margin-right:1.5rem!important}.mb-xl-4,.my-xl-4{margin-bottom:1.5rem!important}.ml-xl-4,.mx-xl-4{margin-left:1.5rem!important}.m-xl-5{margin:3rem!important}.mt-xl-5,.my-xl-5{margin-top:3rem!important}.mr-xl-5,.mx-xl-5{margin-right:3rem!important}.mb-xl-5,.my-xl-5{margin-bottom:3rem!important}.ml-xl-5,.mx-xl-5{margin-left:3rem!important}.p-xl-0{padding:0!important}.pt-xl-0,.py-xl-0{padding-top:0!important}.pr-xl-0,.px-xl-0{padding-right:0!important}.pb-xl-0,.py-xl-0{padding-bottom:0!important}.pl-xl-0,.px-xl-0{padding-left:0!important}.p-xl-1{padding:.25rem!important}.pt-xl-1,.py-xl-1{padding-top:.25rem!important}.pr-xl-1,.px-xl-1{padding-right:.25rem!important}.pb-xl-1,.py-xl-1{padding-bottom:.25rem!important}.pl-xl-1,.px-xl-1{padding-left:.25rem!important}.p-xl-2{padding:.5rem!important}.pt-xl-2,.py-xl-2{padding-top:.5rem!important}.pr-xl-2,.px-xl-2{padding-right:.5rem!important}.pb-xl-2,.py-xl-2{padding-bottom:.5rem!important}.pl-xl-2,.px-xl-2{padding-left:.5rem!important}.p-xl-3{padding:1rem!important}.pt-xl-3,.py-xl-3{padding-top:1rem!important}.pr-xl-3,.px-xl-3{padding-right:1rem!important}.pb-xl-3,.py-xl-3{padding-bottom:1rem!important}.pl-xl-3,.px-xl-3{padding-left:1rem!important}.p-xl-4{padding:1.5rem!important}.pt-xl-4,.py-xl-4{padding-top:1.5rem!important}.pr-xl-4,.px-xl-4{padding-right:1.5rem!important}.pb-xl-4,.py-xl-4{padding-bottom:1.5rem!important}.pl-xl-4,.px-xl-4{padding-left:1.5rem!important}.p-xl-5{padding:3rem!important}.pt-xl-5,.py-xl-5{padding-top:3rem!important}.pr-xl-5,.px-xl-5{padding-right:3rem!important}.pb-xl-5,.py-xl-5{padding-bottom:3rem!important}.pl-xl-5,.px-xl-5{padding-left:3rem!important}.m-xl-auto{margin:auto!important}.mt-xl-auto,.my-xl-auto{margin-top:auto!important}.mr-xl-auto,.mx-xl-auto{margin-right:auto!important}.mb-xl-auto,.my-xl-auto{margin-bottom:auto!important}.ml-xl-auto,.mx-xl-auto{margin-left:auto!important}}.text-justify{text-align:justify!important}.text-nowrap{white-space:nowrap!important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}@media (min-width:576px){.text-sm-left{text-align:left!important}.text-sm-right{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.text-md-left{text-align:left!important}.text-md-right{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.text-lg-left{text-align:left!important}.text-lg-right{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.text-xl-left{text-align:left!important}.text-xl-right{text-align:right!important}.text-xl-center{text-align:center!important}}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.font-weight-light{font-weight:300!important}.font-weight-normal{font-weight:400!important}.font-weight-bold{font-weight:700!important}.font-italic{font-style:italic!important}.text-white{color:#fff!important}.text-primary{color:#007bff!important}a.text-primary:focus,a.text-primary:hover{color:#0062cc!important}.text-secondary{color:#6c757d!important}a.text-secondary:focus,a.text-secondary:hover{color:#545b62!important}.text-success{color:#28a745!important}a.text-success:focus,a.text-success:hover{color:#1e7e34!important}.text-info{color:#17a2b8!important}a.text-info:focus,a.text-info:hover{color:#117a8b!important}.text-warning{color:#ffc107!important}a.text-warning:focus,a.text-warning:hover{color:#d39e00!important}.text-danger{color:#dc3545!important}a.text-danger:focus,a.text-danger:hover{color:#bd2130!important}.text-light{color:#f8f9fa!important}a.text-light:focus,a.text-light:hover{color:#dae0e5!important}.text-dark{color:#343a40!important}a.text-dark:focus,a.text-dark:hover{color:#1d2124!important}.text-muted{color:#6c757d!important}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media print{*,::after,::before{text-shadow:none!important;box-shadow:none!important}a:not(.btn){text-decoration:underline}abbr[title]::after{content:" (" attr(title) ")"}pre{white-space:pre-wrap!important}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px!important}.container{min-width:992px!important}.navbar{display:none}.badge{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #ddd!important}}
</style>
  <style type="text/css">body { margin-left: 20px; margin-right: 20px; padding: 5px }
.author:before { content: "by: " }
.author {
color: #a9a9a9
}
.Agda { background-color: #F1F1F1 }

.Agda .Comment { color: #B22222 !important }
.Agda .Background {}
.Agda .Markup { color: #000000 !important }
.Agda .Keyword { color: #CD6600 !important }
.Agda .String { color: #B22222 !important }
.Agda .Number { color: #A020F0 !important }
.Agda .Symbol { color: #404040 !important }
.Agda .PrimitiveType { color: #0000CD !important }
.Agda .Pragma { color: black !important }
.Agda .Operator {}
.Agda .Hole { background: #B4EEB4 !important }

.Agda .Bound { color: black !important }
.Agda .Generalizable { color: black !important }
.Agda .InductiveConstructor { color: #008B00 !important }
.Agda .CoinductiveConstructor { color: #8B7500 !important }
.Agda .Datatype { color: #0000CD !important }
.Agda .Field { color: #EE1289 !important }
.Agda .Function { color: #0000CD !important }
.Agda .Module { color: #A020F0 !important }
.Agda .Postulate { color: #0000CD !important }
.Agda .Primitive { color: #0000CD !important }
.Agda .Record { color: #0000CD !important }

.Agda .DottedPattern {}
.Agda .UnsolvedMeta { color: black; background: yellow !important }
.Agda .UnsolvedConstraint { color: black; background: yellow !important }
.Agda .TerminationProblem { color: black; background: #FFA07A !important }
.Agda .IncompletePattern { color: black; background: #F5DEB3 !important }
.Agda .Error { color: red; text-decoration: underline !important}
.Agda .TypeChecks { color: black; background: #ADD8E6 !important }
.Agda .Deadcode { color: black; background: #808080 !important }
.Agda .ShadowingInTelescope { color: black; background: #808080 !important }

.Agda a { text-decoration: none }
.Agda a[href]:hover { background-color: #B4EEB4 }
.Agda [href].hover-highlight { background-color: #B4EEB4; }
</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Normalization by Evaluation</h1>
<p class="author">Emmanuel SuÃ¡rez Acevedo</p>
</header>
<p>This is a formalization of Chapter 2 of Andreas Abelâs habilitation
thesis, âNormalization by Evaluation: Dependent Types and
Impredicativityâ. <span class="citation" data-cites="nbe">(Abel
2013)</span>.</p>
We start off by defining the language that we will use to showcase
normalization by evaluation, System T, as is done in Section 2.1.
<pre class="Agda"><a id="373" class="Keyword">import</a> <a id="380" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="418" class="Symbol">as</a> <a id="421" class="Module">Eq</a>
<a id="424" class="Keyword">open</a> <a id="429" class="Keyword">import</a> <a id="436" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="447" class="Keyword">using</a> <a id="453" class="Symbol">(</a><a id="454" href="Data.Empty.html#526" class="Datatype">â¥</a><a id="455" class="Symbol">;</a> <a id="457" href="Data.Empty.html#628" class="Function">â¥-elim</a><a id="463" class="Symbol">)</a>
<a id="465" class="Keyword">open</a> <a id="470" class="Keyword">import</a> <a id="477" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="487" class="Keyword">using</a> <a id="493" class="Symbol">(</a><a id="494" href="Agda.Builtin.Unit.html#164" class="Record">â¤</a><a id="495" class="Symbol">;</a> <a id="497" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="499" class="Symbol">)</a>
<a id="501" class="Keyword">open</a> <a id="506" class="Keyword">import</a> <a id="513" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="522" class="Keyword">using</a> <a id="528" class="Symbol">(</a><a id="529" href="Data.Sum.Base.html#734" class="Datatype Operator">_â_</a><a id="532" class="Symbol">;</a> <a id="534" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a><a id="538" class="Symbol">;</a> <a id="540" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a><a id="544" class="Symbol">)</a>
<a id="546" class="Keyword">open</a> <a id="551" class="Keyword">import</a> <a id="558" href="Data.Product.html" class="Module">Data.Product</a> <a id="571" class="Keyword">using</a> <a id="577" class="Symbol">(</a><a id="578" href="Data.Product.html#1167" class="Function Operator">_Ã_</a><a id="581" class="Symbol">;</a> <a id="583" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a><a id="588" class="Symbol">;</a> <a id="590" href="Data.Product.html#1369" class="Function">â</a><a id="591" class="Symbol">;</a> <a id="593" href="Data.Product.html#1806" class="Function">â-syntax</a><a id="601" class="Symbol">)</a> <a id="603" class="Keyword">renaming</a> <a id="612" class="Symbol">(</a><a id="613" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="617" class="Symbol">to</a> <a id="620" class="InductiveConstructor Operator">â¨_,_â©</a><a id="625" class="Symbol">)</a>
<a id="627" class="Keyword">open</a> <a id="632" class="Keyword">import</a> <a id="639" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="656" class="Keyword">using</a> <a id="662" class="Symbol">(</a><a id="663" href="Relation.Nullary.html#1511" class="Record">Dec</a><a id="666" class="Symbol">;</a> <a id="668" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a><a id="671" class="Symbol">;</a> <a id="673" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a><a id="675" class="Symbol">;</a> <a id="677" href="Relation.Nullary.html#656" class="Function Operator">Â¬_</a><a id="679" class="Symbol">)</a>
<a id="681" class="Keyword">open</a> <a id="686" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="689" class="Keyword">using</a> <a id="695" class="Symbol">(</a><a id="696" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â¡_</a><a id="699" class="Symbol">;</a> <a id="701" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="705" class="Symbol">)</a>
<a id="707" class="Keyword">open</a> <a id="712" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="715" class="Keyword">using</a> <a id="721" class="Symbol">(</a><a id="722" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="726" class="Symbol">;</a> <a id="728" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_â¡_</a><a id="731" class="Symbol">)</a> <a id="733" class="Keyword">renaming</a> <a id="742" class="Symbol">(</a><a id="743" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a> <a id="747" class="Symbol">to</a> <a id="750" class="Function">â¡-sym</a><a id="755" class="Symbol">;</a> <a id="757" href="Relation.Binary.PropositionalEquality.Core.html#1729" class="Function">trans</a> <a id="763" class="Symbol">to</a> <a id="766" class="Function">â¡-trans</a><a id="773" class="Symbol">)</a>

<a id="776" class="Keyword">module</a> <a id="783" href="NbE.html" class="Module">NbE</a> <a id="787" class="Keyword">where</a>
</pre>
<p>It has natural numbers, higher-order functions, and primitive
recursion. We will define it with intrinsic typing, and use a de Brujin
index representation for variables.</p>
We start off with the types of tha language: naturals and functions.
<pre class="Agda"><a id="1046" class="Keyword">data</a> <a id="Type"></a><a id="1051" href="NbE.html#1051" class="Datatype">Type</a> <a id="1056" class="Symbol">:</a> <a id="1058" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1062" class="Keyword">where</a>
  <a id="Type.nat"></a><a id="1070" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="1074" class="Symbol">:</a> <a id="1076" href="NbE.html#1051" class="Datatype">Type</a>
  <a id="Type._â_"></a><a id="1083" href="NbE.html#1083" class="InductiveConstructor Operator">_â_</a> <a id="1087" class="Symbol">:</a> <a id="1089" class="Symbol">â</a> <a id="1091" class="Symbol">(</a><a id="1092" href="NbE.html#1092" class="Bound">S</a> <a id="1094" href="NbE.html#1094" class="Bound">T</a> <a id="1096" class="Symbol">:</a> <a id="1098" href="NbE.html#1051" class="Datatype">Type</a><a id="1102" class="Symbol">)</a> <a id="1104" class="Symbol">â</a> <a id="1106" href="NbE.html#1051" class="Datatype">Type</a>

<a id="1112" class="Keyword">infixr</a> <a id="1119" class="Number">7</a> <a id="1121" href="NbE.html#1083" class="InductiveConstructor Operator">_â_</a>

<a id="_âTp_"></a><a id="1126" href="NbE.html#1126" class="Function Operator">_âTp_</a> <a id="1132" class="Symbol">:</a> <a id="1134" class="Symbol">â</a> <a id="1136" class="Symbol">(</a><a id="1137" href="NbE.html#1137" class="Bound">S</a> <a id="1139" href="NbE.html#1139" class="Bound">T</a> <a id="1141" class="Symbol">:</a> <a id="1143" href="NbE.html#1051" class="Datatype">Type</a><a id="1147" class="Symbol">)</a> <a id="1149" class="Symbol">â</a> <a id="1151" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="1155" class="Symbol">(</a><a id="1156" href="NbE.html#1137" class="Bound">S</a> <a id="1158" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="1160" href="NbE.html#1139" class="Bound">T</a><a id="1161" class="Symbol">)</a>
<a id="1163" href="NbE.html#1070" class="InductiveConstructor">nat</a>       <a id="1173" href="NbE.html#1126" class="Function Operator">âTp</a> <a id="1177" href="NbE.html#1070" class="InductiveConstructor">nat</a>                                  <a id="1214" class="Symbol">=</a> <a id="1216" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1220" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1225" href="NbE.html#1070" class="InductiveConstructor">nat</a>       <a id="1235" href="NbE.html#1126" class="Function Operator">âTp</a> <a id="1239" class="Symbol">(</a><a id="1240" href="NbE.html#1240" class="Bound">S</a> <a id="1242" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="1244" href="NbE.html#1244" class="Bound">T</a><a id="1245" class="Symbol">)</a>                              <a id="1276" class="Symbol">=</a> <a id="1278" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1281" class="Symbol">Î»()</a>
<a id="1285" class="Symbol">(</a><a id="1286" href="NbE.html#1286" class="Bound">Sâ</a> <a id="1289" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="1291" href="NbE.html#1291" class="Bound">Tâ</a><a id="1293" class="Symbol">)</a> <a id="1295" href="NbE.html#1126" class="Function Operator">âTp</a> <a id="1299" href="NbE.html#1070" class="InductiveConstructor">nat</a>                                  <a id="1336" class="Symbol">=</a> <a id="1338" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1341" class="Symbol">Î»()</a>
<a id="1345" class="Symbol">(</a><a id="1346" href="NbE.html#1346" class="Bound">Sâ</a> <a id="1349" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="1351" href="NbE.html#1351" class="Bound">Tâ</a><a id="1353" class="Symbol">)</a> <a id="1355" href="NbE.html#1126" class="Function Operator">âTp</a> <a id="1359" class="Symbol">(</a><a id="1360" href="NbE.html#1360" class="Bound">Sâ</a> <a id="1363" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="1365" href="NbE.html#1365" class="Bound">Tâ</a><a id="1367" class="Symbol">)</a> <a id="1369" class="Keyword">with</a> <a id="1374" href="NbE.html#1346" class="Bound">Sâ</a> <a id="1377" href="NbE.html#1126" class="Function Operator">âTp</a> <a id="1381" href="NbE.html#1360" class="Bound">Sâ</a> <a id="1384" class="Symbol">|</a> <a id="1386" href="NbE.html#1351" class="Bound">Tâ</a> <a id="1389" href="NbE.html#1126" class="Function Operator">âTp</a> <a id="1393" href="NbE.html#1365" class="Bound">Tâ</a>
<a id="1396" class="Symbol">...</a>                        <a id="1423" class="Symbol">|</a> <a id="1425" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1428" href="NbE.html#1428" class="Bound">Â¬pf</a>    <a id="1435" class="Symbol">|</a> <a id="1437" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1440" class="Symbol">_</a>      <a id="1447" class="Symbol">=</a> <a id="1449" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1452" class="Symbol">Î»{</a><a id="1454" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1459" class="Symbol">â</a> <a id="1461" href="NbE.html#1428" class="Bound">Â¬pf</a> <a id="1465" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1469" class="Symbol">}</a>
<a id="1471" class="Symbol">...</a>                        <a id="1498" class="Symbol">|</a> <a id="1500" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1503" href="NbE.html#1503" class="Bound">Â¬pf</a>    <a id="1510" class="Symbol">|</a> <a id="1512" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1516" class="Symbol">_</a>     <a id="1522" class="Symbol">=</a> <a id="1524" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1527" class="Symbol">Î»{</a><a id="1529" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1534" class="Symbol">â</a> <a id="1536" href="NbE.html#1503" class="Bound">Â¬pf</a> <a id="1540" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1544" class="Symbol">}</a>
<a id="1546" class="Symbol">...</a>                        <a id="1573" class="Symbol">|</a> <a id="1575" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1579" class="Symbol">_</a>     <a id="1585" class="Symbol">|</a> <a id="1587" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1590" href="NbE.html#1590" class="Bound">Â¬pf</a>    <a id="1597" class="Symbol">=</a> <a id="1599" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="1602" class="Symbol">Î»{</a><a id="1604" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1609" class="Symbol">â</a> <a id="1611" href="NbE.html#1590" class="Bound">Â¬pf</a> <a id="1615" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1619" class="Symbol">}</a>
<a id="1621" class="Symbol">...</a>                        <a id="1648" class="Symbol">|</a> <a id="1650" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1654" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>  <a id="1660" class="Symbol">|</a> <a id="1662" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1666" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>  <a id="1672" class="Symbol">=</a> <a id="1674" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="1678" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
We continue with typing contexts, defined inductively with the empty
context, and extensions to contexts. As we are using a de Brujin index
representation, there are no names when extending contexts (and really
they are just lists of types).
<pre class="Agda"><a id="1938" class="Keyword">data</a> <a id="Ctx"></a><a id="1943" href="NbE.html#1943" class="Datatype">Ctx</a> <a id="1947" class="Symbol">:</a> <a id="1949" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1953" class="Keyword">where</a>
  <a id="Ctx.â"></a><a id="1961" href="NbE.html#1961" class="InductiveConstructor">â</a> <a id="1963" class="Symbol">:</a> <a id="1965" href="NbE.html#1943" class="Datatype">Ctx</a>
  <a id="Ctx._,_"></a><a id="1971" href="NbE.html#1971" class="InductiveConstructor Operator">_,_</a> <a id="1975" class="Symbol">:</a> <a id="1977" href="NbE.html#1943" class="Datatype">Ctx</a> <a id="1981" class="Symbol">â</a> <a id="1983" href="NbE.html#1051" class="Datatype">Type</a> <a id="1988" class="Symbol">â</a> <a id="1990" href="NbE.html#1943" class="Datatype">Ctx</a>

<a id="1995" class="Keyword">infixl</a> <a id="2002" class="Number">5</a> <a id="2004" href="NbE.html#1971" class="InductiveConstructor Operator">_,_</a>

<a id="_âCtx_"></a><a id="2009" href="NbE.html#2009" class="Function Operator">_âCtx_</a> <a id="2016" class="Symbol">:</a> <a id="2018" class="Symbol">â</a> <a id="2020" class="Symbol">(</a><a id="2021" href="NbE.html#2021" class="Bound">Îâ²</a> <a id="2024" href="NbE.html#2024" class="Bound">Î</a> <a id="2026" class="Symbol">:</a> <a id="2028" href="NbE.html#1943" class="Datatype">Ctx</a><a id="2031" class="Symbol">)</a> <a id="2033" class="Symbol">â</a> <a id="2035" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="2039" class="Symbol">(</a><a id="2040" href="NbE.html#2021" class="Bound">Îâ²</a> <a id="2043" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="2045" href="NbE.html#2024" class="Bound">Î</a><a id="2046" class="Symbol">)</a>
<a id="2048" href="NbE.html#1961" class="InductiveConstructor">â</a>       <a id="2056" href="NbE.html#2009" class="Function Operator">âCtx</a> <a id="2061" href="NbE.html#1961" class="InductiveConstructor">â</a>                                  <a id="2096" class="Symbol">=</a> <a id="2098" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="2102" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2107" href="NbE.html#1961" class="InductiveConstructor">â</a>       <a id="2115" href="NbE.html#2009" class="Function Operator">âCtx</a> <a id="2120" class="Symbol">(_</a> <a id="2123" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="2125" class="Symbol">_)</a>                            <a id="2155" class="Symbol">=</a> <a id="2157" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2160" class="Symbol">Î»()</a>
<a id="2164" class="Symbol">(_</a> <a id="2167" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="2169" class="Symbol">_)</a> <a id="2172" href="NbE.html#2009" class="Function Operator">âCtx</a> <a id="2177" href="NbE.html#1961" class="InductiveConstructor">â</a>                                  <a id="2212" class="Symbol">=</a> <a id="2214" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2217" class="Symbol">Î»()</a>
<a id="2221" class="Symbol">(</a><a id="2222" href="NbE.html#2222" class="Bound">Îâ²</a> <a id="2225" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="2227" href="NbE.html#2227" class="Bound">S</a><a id="2228" class="Symbol">)</a> <a id="2230" href="NbE.html#2009" class="Function Operator">âCtx</a> <a id="2235" class="Symbol">(</a><a id="2236" href="NbE.html#2236" class="Bound">Î</a> <a id="2238" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="2240" href="NbE.html#2240" class="Bound">T</a><a id="2241" class="Symbol">)</a> <a id="2243" class="Keyword">with</a> <a id="2248" href="NbE.html#2222" class="Bound">Îâ²</a> <a id="2251" href="NbE.html#2009" class="Function Operator">âCtx</a> <a id="2256" href="NbE.html#2236" class="Bound">Î</a> <a id="2258" class="Symbol">|</a> <a id="2260" href="NbE.html#2227" class="Bound">S</a> <a id="2262" href="NbE.html#1126" class="Function Operator">âTp</a> <a id="2266" href="NbE.html#2240" class="Bound">T</a>
<a id="2268" class="Symbol">...</a>                      <a id="2293" class="Symbol">|</a> <a id="2295" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2298" href="NbE.html#2298" class="Bound">Â¬pf</a>    <a id="2305" class="Symbol">|</a> <a id="2307" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2310" class="Symbol">_</a>     <a id="2316" class="Symbol">=</a> <a id="2318" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2321" class="Symbol">Î»{</a><a id="2323" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2328" class="Symbol">â</a> <a id="2330" href="NbE.html#2298" class="Bound">Â¬pf</a> <a id="2334" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2338" class="Symbol">}</a>
<a id="2340" class="Symbol">...</a>                      <a id="2365" class="Symbol">|</a> <a id="2367" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2370" href="NbE.html#2370" class="Bound">Â¬pf</a>    <a id="2377" class="Symbol">|</a> <a id="2379" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="2383" class="Symbol">_</a>    <a id="2388" class="Symbol">=</a> <a id="2390" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2393" class="Symbol">Î»{</a><a id="2395" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2400" class="Symbol">â</a> <a id="2402" href="NbE.html#2370" class="Bound">Â¬pf</a> <a id="2406" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2410" class="Symbol">}</a>
<a id="2412" class="Symbol">...</a>                      <a id="2437" class="Symbol">|</a> <a id="2439" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="2443" class="Symbol">_</a>     <a id="2449" class="Symbol">|</a> <a id="2451" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2454" href="NbE.html#2454" class="Bound">Â¬pf</a>   <a id="2460" class="Symbol">=</a> <a id="2462" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="2465" class="Symbol">Î»{</a><a id="2467" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2472" class="Symbol">â</a> <a id="2474" href="NbE.html#2454" class="Bound">Â¬pf</a> <a id="2478" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="2482" class="Symbol">}</a>
<a id="2484" class="Symbol">...</a>                      <a id="2509" class="Symbol">|</a> <a id="2511" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="2515" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>  <a id="2521" class="Symbol">|</a> <a id="2523" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="2527" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="2532" class="Symbol">=</a> <a id="2534" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="2538" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
We also define a relation detailing when one context is the extension of
another, this is introduced formally in a later section but will be
useful throughout. A context is an extension of itself, and given that
one context Îâ² extends another context Î, the first can be extended
further and the relation will still hold.
<pre class="Agda"><a id="2878" class="Keyword">data</a> <a id="_â¤_"></a><a id="2883" href="NbE.html#2883" class="Datatype Operator">_â¤_</a> <a id="2887" class="Symbol">:</a> <a id="2889" href="NbE.html#1943" class="Datatype">Ctx</a> <a id="2893" class="Symbol">â</a> <a id="2895" href="NbE.html#1943" class="Datatype">Ctx</a> <a id="2899" class="Symbol">â</a> <a id="2901" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2905" class="Keyword">where</a>
  <a id="_â¤_.â¤-id"></a><a id="2913" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="2918" class="Symbol">:</a> <a id="2920" class="Symbol">â</a> <a id="2922" class="Symbol">{</a><a id="2923" href="NbE.html#2923" class="Bound">Î</a> <a id="2925" class="Symbol">:</a> <a id="2927" href="NbE.html#1943" class="Datatype">Ctx</a><a id="2930" class="Symbol">}</a> <a id="2932" class="Symbol">â</a> <a id="2934" href="NbE.html#2923" class="Bound">Î</a> <a id="2936" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="2938" href="NbE.html#2923" class="Bound">Î</a>

  <a id="_â¤_.â¤-ext"></a><a id="2943" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="2949" class="Symbol">:</a> <a id="2951" class="Symbol">â</a> <a id="2953" class="Symbol">{</a><a id="2954" href="NbE.html#2954" class="Bound">Î</a> <a id="2956" href="NbE.html#2956" class="Bound">Îâ²</a> <a id="2959" class="Symbol">:</a> <a id="2961" href="NbE.html#1943" class="Datatype">Ctx</a><a id="2964" class="Symbol">}</a> <a id="2966" class="Symbol">{</a><a id="2967" href="NbE.html#2967" class="Bound">T</a> <a id="2969" class="Symbol">:</a> <a id="2971" href="NbE.html#1051" class="Datatype">Type</a><a id="2975" class="Symbol">}</a>
        <a id="2985" class="Symbol">â</a> <a id="2987" href="NbE.html#2956" class="Bound">Îâ²</a> <a id="2990" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="2992" href="NbE.html#2954" class="Bound">Î</a>
          <a id="3004" class="Comment">----------</a>
        <a id="3023" class="Symbol">â</a> <a id="3025" href="NbE.html#2956" class="Bound">Îâ²</a> <a id="3028" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="3030" href="NbE.html#2967" class="Bound">T</a> <a id="3032" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="3034" href="NbE.html#2954" class="Bound">Î</a>

<a id="3037" class="Keyword">infix</a> <a id="3043" class="Number">4</a> <a id="3045" href="NbE.html#2883" class="Datatype Operator">_â¤_</a>

<a id="Îâ¤â"></a><a id="3050" href="NbE.html#3050" class="Function">Îâ¤â</a> <a id="3054" class="Symbol">:</a> <a id="3056" class="Symbol">â</a> <a id="3058" class="Symbol">{</a><a id="3059" href="NbE.html#3059" class="Bound">Î</a> <a id="3061" class="Symbol">:</a> <a id="3063" href="NbE.html#1943" class="Datatype">Ctx</a><a id="3066" class="Symbol">}</a> <a id="3068" class="Symbol">â</a> <a id="3070" href="NbE.html#3059" class="Bound">Î</a> <a id="3072" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="3074" href="NbE.html#1961" class="InductiveConstructor">â</a>
<a id="3076" href="NbE.html#3050" class="Function">Îâ¤â</a> <a id="3080" class="Symbol">{</a><a id="3081" href="NbE.html#1961" class="InductiveConstructor">â</a><a id="3082" class="Symbol">}</a> <a id="3084" class="Symbol">=</a> <a id="3086" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>
<a id="3091" href="NbE.html#3050" class="Function">Îâ¤â</a> <a id="3095" class="Symbol">{</a><a id="3096" href="NbE.html#3096" class="Bound">Î</a> <a id="3098" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="3100" class="Symbol">_}</a> <a id="3103" class="Keyword">with</a> <a id="3108" href="NbE.html#3050" class="Function">Îâ¤â</a> <a id="3112" class="Symbol">{</a><a id="3113" href="NbE.html#3096" class="Bound">Î</a><a id="3114" class="Symbol">}</a>
<a id="3116" class="Symbol">...</a>            <a id="3131" class="Symbol">|</a> <a id="3133" href="NbE.html#3133" class="Bound">pf</a>      <a id="3141" class="Symbol">=</a> <a id="3143" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="3149" href="NbE.html#3133" class="Bound">pf</a>

<a id="_â¤?_"></a><a id="3153" href="NbE.html#3153" class="Function Operator">_â¤?_</a> <a id="3158" class="Symbol">:</a> <a id="3160" class="Symbol">â</a> <a id="3162" class="Symbol">(</a><a id="3163" href="NbE.html#3163" class="Bound">Îâ²</a> <a id="3166" href="NbE.html#3166" class="Bound">Î</a> <a id="3168" class="Symbol">:</a> <a id="3170" href="NbE.html#1943" class="Datatype">Ctx</a><a id="3173" class="Symbol">)</a> <a id="3175" class="Symbol">â</a> <a id="3177" href="Relation.Nullary.html#1511" class="Record">Dec</a> <a id="3181" class="Symbol">(</a><a id="3182" href="NbE.html#3163" class="Bound">Îâ²</a> <a id="3185" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="3187" href="NbE.html#3166" class="Bound">Î</a><a id="3188" class="Symbol">)</a>
<a id="3190" href="NbE.html#1961" class="InductiveConstructor">â</a>        <a id="3199" href="NbE.html#3153" class="Function Operator">â¤?</a> <a id="3202" href="NbE.html#1961" class="InductiveConstructor">â</a>          <a id="3213" class="Symbol">=</a> <a id="3215" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="3219" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>
<a id="3224" href="NbE.html#1961" class="InductiveConstructor">â</a>        <a id="3233" href="NbE.html#3153" class="Function Operator">â¤?</a> <a id="3236" class="Symbol">(_</a> <a id="3239" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="3241" class="Symbol">_)</a>    <a id="3247" class="Symbol">=</a> <a id="3249" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="3252" class="Symbol">Î»()</a>
<a id="3256" class="Symbol">(_</a> <a id="3259" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="3261" class="Symbol">_)</a>  <a id="3265" href="NbE.html#3153" class="Function Operator">â¤?</a> <a id="3268" href="NbE.html#1961" class="InductiveConstructor">â</a>          <a id="3279" class="Symbol">=</a> <a id="3281" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="3285" href="NbE.html#3050" class="Function">Îâ¤â</a>
<a id="3289" class="Symbol">(</a><a id="3290" href="NbE.html#3290" class="Bound">Îâ²</a> <a id="3293" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="3295" href="NbE.html#3295" class="Bound">T</a><a id="3296" class="Symbol">)</a> <a id="3298" href="NbE.html#3153" class="Function Operator">â¤?</a> <a id="3301" href="NbE.html#3301" class="Bound">Î</a><a id="3302" class="Symbol">@(_</a> <a id="3306" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="3308" class="Symbol">_)</a>
  <a id="3313" class="Keyword">with</a> <a id="3318" class="Symbol">(</a><a id="3319" href="NbE.html#3290" class="Bound">Îâ²</a> <a id="3322" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="3324" href="NbE.html#3295" class="Bound">T</a><a id="3325" class="Symbol">)</a> <a id="3327" href="NbE.html#2009" class="Function Operator">âCtx</a> <a id="3332" href="NbE.html#3301" class="Bound">Î</a>
<a id="3334" class="Symbol">...</a>  <a id="3339" class="Symbol">|</a> <a id="3341" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="3345" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>        <a id="3357" class="Symbol">=</a> <a id="3359" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="3363" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>
<a id="3368" class="Symbol">...</a>  <a id="3373" class="Symbol">|</a> <a id="3375" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="3378" href="NbE.html#3378" class="Bound">Îâ²â¢Î</a>
  <a id="3385" class="Keyword">with</a> <a id="3390" class="Bound">Îâ²</a> <a id="3393" href="NbE.html#3153" class="Function Operator">â¤?</a> <a id="3396" class="Bound">Î</a>
<a id="3398" class="Symbol">...</a>  <a id="3403" class="Symbol">|</a> <a id="3405" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="3409" href="NbE.html#3409" class="Bound">pf</a>          <a id="3421" class="Symbol">=</a> <a id="3423" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="3427" class="Symbol">(</a><a id="3428" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="3434" href="NbE.html#3409" class="Bound">pf</a><a id="3436" class="Symbol">)</a>
<a id="3438" class="Symbol">...</a>  <a id="3443" class="Symbol">|</a> <a id="3445" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="3448" href="NbE.html#3448" class="Bound">Â¬pf</a>          <a id="3461" class="Symbol">=</a> <a id="3463" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="3466" class="Symbol">Î»</a> <a id="3468" class="Keyword">where</a>
                           <a id="3501" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="3506" class="Symbol">â</a> <a id="3508" class="Bound">Îâ²â¢Î</a> <a id="3513" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
                           <a id="3545" class="Symbol">(</a><a id="3546" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="3552" href="NbE.html#3552" class="Bound">pf</a><a id="3554" class="Symbol">)</a> <a id="3556" class="Symbol">â</a> <a id="3558" href="NbE.html#3448" class="Bound">Â¬pf</a> <a id="3562" href="NbE.html#3552" class="Bound">pf</a>
</pre>
We also introduce a lookup judgement for contexts, which corresponds to
a de Brujin index.
<pre class="Agda"><a id="3669" class="Keyword">data</a> <a id="_â_"></a><a id="3674" href="NbE.html#3674" class="Datatype Operator">_â_</a> <a id="3678" class="Symbol">:</a> <a id="3680" href="NbE.html#1943" class="Datatype">Ctx</a> <a id="3684" class="Symbol">â</a> <a id="3686" href="NbE.html#1051" class="Datatype">Type</a> <a id="3691" class="Symbol">â</a> <a id="3693" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3697" class="Keyword">where</a>
  <a id="_â_.`Z"></a><a id="3705" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="3708" class="Symbol">:</a> <a id="3710" class="Symbol">â</a> <a id="3712" class="Symbol">{</a><a id="3713" href="NbE.html#3713" class="Bound">Î</a> <a id="3715" class="Symbol">:</a> <a id="3717" href="NbE.html#1943" class="Datatype">Ctx</a><a id="3720" class="Symbol">}</a> <a id="3722" class="Symbol">{</a><a id="3723" href="NbE.html#3723" class="Bound">T</a> <a id="3725" class="Symbol">:</a> <a id="3727" href="NbE.html#1051" class="Datatype">Type</a><a id="3731" class="Symbol">}</a>
        <a id="3741" class="Comment">---------</a>
      <a id="3757" class="Symbol">â</a> <a id="3759" href="NbE.html#3713" class="Bound">Î</a> <a id="3761" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="3763" href="NbE.html#3723" class="Bound">T</a> <a id="3765" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="3767" href="NbE.html#3723" class="Bound">T</a>

  <a id="_â_.`S_"></a><a id="3772" href="NbE.html#3772" class="InductiveConstructor Operator">`S_</a> <a id="3776" class="Symbol">:</a> <a id="3778" class="Symbol">â</a> <a id="3780" class="Symbol">{</a><a id="3781" href="NbE.html#3781" class="Bound">Î</a> <a id="3783" class="Symbol">:</a> <a id="3785" href="NbE.html#1943" class="Datatype">Ctx</a><a id="3788" class="Symbol">}</a> <a id="3790" class="Symbol">{</a><a id="3791" href="NbE.html#3791" class="Bound">S</a> <a id="3793" href="NbE.html#3793" class="Bound">T</a> <a id="3795" class="Symbol">:</a> <a id="3797" href="NbE.html#1051" class="Datatype">Type</a><a id="3801" class="Symbol">}</a>
      <a id="3809" class="Symbol">â</a> <a id="3811" href="NbE.html#3781" class="Bound">Î</a> <a id="3813" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="3815" href="NbE.html#3793" class="Bound">T</a>
        <a id="3825" class="Comment">---------</a>
      <a id="3841" class="Symbol">â</a> <a id="3843" href="NbE.html#3781" class="Bound">Î</a> <a id="3845" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="3847" href="NbE.html#3791" class="Bound">S</a> <a id="3849" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="3851" href="NbE.html#3793" class="Bound">T</a>

<a id="3854" class="Keyword">infix</a> <a id="3860" class="Number">4</a> <a id="3862" href="NbE.html#3674" class="Datatype Operator">_â_</a>
</pre>
<p>Terms in our language are defined with an intrinsically typed
represenation, such that a term t of type Î â¢ T is the term
<code>Î â¢ t : T</code> itself. The language has the constants
<code>zero</code>, <code>suc</code> (as a curried
constant),<code>rec</code> (a curried constant as well), variables,
abstractions, and application.</p>
For clarity we will not use an intrinsically typed de Brujin
representation when talking about terms (e.g.Â the variable
<code></code>Z will be talked about as <code>Î , x:T â¢ x : T</code>)
<pre class="Agda"><a id="4337" class="Keyword">data</a> <a id="_â¢_"></a><a id="4342" href="NbE.html#4342" class="Datatype Operator">_â¢_</a> <a id="4346" class="Symbol">(</a><a id="4347" href="NbE.html#4347" class="Bound">Î</a> <a id="4349" class="Symbol">:</a> <a id="4351" href="NbE.html#1943" class="Datatype">Ctx</a><a id="4354" class="Symbol">)</a> <a id="4356" class="Symbol">:</a> <a id="4358" href="NbE.html#1051" class="Datatype">Type</a> <a id="4363" class="Symbol">â</a> <a id="4365" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4369" class="Keyword">where</a>
  <a id="_â¢_.zero"></a><a id="4377" href="NbE.html#4377" class="InductiveConstructor">zero</a> <a id="4382" class="Symbol">:</a> <a id="4384" href="NbE.html#4347" class="Bound">Î</a> <a id="4386" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="4388" href="NbE.html#1070" class="InductiveConstructor">nat</a>

  <a id="_â¢_.suc"></a><a id="4395" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="4399" class="Symbol">:</a> <a id="4401" href="NbE.html#4347" class="Bound">Î</a> <a id="4403" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="4405" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="4409" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="4411" href="NbE.html#1070" class="InductiveConstructor">nat</a>

  <a id="_â¢_.rec"></a><a id="4418" href="NbE.html#4418" class="InductiveConstructor">rec</a>  <a id="4423" class="Symbol">:</a> <a id="4425" class="Symbol">â</a> <a id="4427" class="Symbol">{</a><a id="4428" href="NbE.html#4428" class="Bound">T</a> <a id="4430" class="Symbol">:</a> <a id="4432" href="NbE.html#1051" class="Datatype">Type</a><a id="4436" class="Symbol">}</a>
         <a id="4447" class="Comment">---------------------------------</a>
       <a id="4488" class="Symbol">â</a> <a id="4490" href="NbE.html#4347" class="Bound">Î</a> <a id="4492" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="4494" class="Symbol">(</a><a id="4495" href="NbE.html#4428" class="Bound">T</a> <a id="4497" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="4499" class="Symbol">(</a><a id="4500" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="4504" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="4506" href="NbE.html#4428" class="Bound">T</a> <a id="4508" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="4510" href="NbE.html#4428" class="Bound">T</a><a id="4511" class="Symbol">)</a> <a id="4513" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="4515" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="4519" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="4521" href="NbE.html#4428" class="Bound">T</a><a id="4522" class="Symbol">)</a>

  <a id="_â¢_.`_"></a><a id="4527" href="NbE.html#4527" class="InductiveConstructor Operator">`_</a> <a id="4530" class="Symbol">:</a> <a id="4532" class="Symbol">â</a> <a id="4534" class="Symbol">{</a><a id="4535" href="NbE.html#4535" class="Bound">S</a> <a id="4537" class="Symbol">:</a> <a id="4539" href="NbE.html#1051" class="Datatype">Type</a><a id="4543" class="Symbol">}</a>
     <a id="4550" class="Symbol">â</a> <a id="4552" href="NbE.html#4347" class="Bound">Î</a> <a id="4554" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="4556" href="NbE.html#4535" class="Bound">S</a>
       <a id="4565" class="Comment">-----</a>
     <a id="4576" class="Symbol">â</a> <a id="4578" href="NbE.html#4347" class="Bound">Î</a> <a id="4580" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="4582" href="NbE.html#4535" class="Bound">S</a>

  <a id="_â¢_.Æ_"></a><a id="4587" href="NbE.html#4587" class="InductiveConstructor Operator">Æ_</a> <a id="4590" class="Symbol">:</a> <a id="4592" class="Symbol">â</a> <a id="4594" class="Symbol">{</a><a id="4595" href="NbE.html#4595" class="Bound">S</a> <a id="4597" href="NbE.html#4597" class="Bound">T</a> <a id="4599" class="Symbol">:</a> <a id="4601" href="NbE.html#1051" class="Datatype">Type</a><a id="4605" class="Symbol">}</a>
     <a id="4612" class="Symbol">â</a> <a id="4614" href="NbE.html#4347" class="Bound">Î</a> <a id="4616" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="4618" href="NbE.html#4595" class="Bound">S</a> <a id="4620" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="4622" href="NbE.html#4597" class="Bound">T</a>
       <a id="4631" class="Comment">---------</a>
     <a id="4646" class="Symbol">â</a> <a id="4648" href="NbE.html#4347" class="Bound">Î</a> <a id="4650" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="4652" href="NbE.html#4595" class="Bound">S</a> <a id="4654" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="4656" href="NbE.html#4597" class="Bound">T</a>

  <a id="_â¢_._Â·_"></a><a id="4661" href="NbE.html#4661" class="InductiveConstructor Operator">_Â·_</a> <a id="4665" class="Symbol">:</a> <a id="4667" class="Symbol">â</a> <a id="4669" class="Symbol">{</a><a id="4670" href="NbE.html#4670" class="Bound">S</a> <a id="4672" href="NbE.html#4672" class="Bound">T</a> <a id="4674" class="Symbol">:</a> <a id="4676" href="NbE.html#1051" class="Datatype">Type</a><a id="4680" class="Symbol">}</a>
      <a id="4688" class="Symbol">â</a> <a id="4690" href="NbE.html#4347" class="Bound">Î</a> <a id="4692" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="4694" href="NbE.html#4670" class="Bound">S</a> <a id="4696" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="4698" href="NbE.html#4672" class="Bound">T</a>
      <a id="4706" class="Symbol">â</a> <a id="4708" href="NbE.html#4347" class="Bound">Î</a> <a id="4710" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="4712" href="NbE.html#4670" class="Bound">S</a>
        <a id="4722" class="Comment">---------</a>
      <a id="4738" class="Symbol">â</a> <a id="4740" href="NbE.html#4347" class="Bound">Î</a> <a id="4742" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="4744" href="NbE.html#4672" class="Bound">T</a>

<a id="4747" class="Keyword">infix</a> <a id="4753" class="Number">4</a> <a id="4755" href="NbE.html#4342" class="Datatype Operator">_â¢_</a>
<a id="4759" class="Keyword">infix</a> <a id="4765" class="Number">5</a> <a id="4767" href="NbE.html#4587" class="InductiveConstructor Operator">Æ_</a>
<a id="4770" class="Keyword">infixl</a> <a id="4777" class="Number">7</a> <a id="4779" href="NbE.html#4661" class="InductiveConstructor Operator">_Â·_</a>
<a id="4783" class="Keyword">infix</a> <a id="4789" class="Number">9</a> <a id="4791" href="NbE.html#4527" class="InductiveConstructor Operator">`_</a>
</pre>
We can define some sample programs in the language using these
constructors:
<pre class="Agda"><a id="4884" class="Comment">-- Î»x. x</a>
<a id="ex0"></a><a id="4893" href="NbE.html#4893" class="Function">ex0</a> <a id="4897" class="Symbol">:</a> <a id="4899" class="Symbol">â</a> <a id="4901" class="Symbol">{</a><a id="4902" href="NbE.html#4902" class="Bound">Î</a> <a id="4904" class="Symbol">:</a> <a id="4906" href="NbE.html#1943" class="Datatype">Ctx</a><a id="4909" class="Symbol">}</a> <a id="4911" class="Symbol">{</a><a id="4912" href="NbE.html#4912" class="Bound">T</a> <a id="4914" class="Symbol">:</a> <a id="4916" href="NbE.html#1051" class="Datatype">Type</a><a id="4920" class="Symbol">}</a> <a id="4922" class="Symbol">â</a> <a id="4924" href="NbE.html#4902" class="Bound">Î</a> <a id="4926" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="4928" href="NbE.html#4912" class="Bound">T</a> <a id="4930" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="4932" href="NbE.html#4912" class="Bound">T</a>
<a id="4934" href="NbE.html#4893" class="Function">ex0</a> <a id="4938" class="Symbol">=</a> <a id="4940" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="4942" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="4944" class="Symbol">(</a><a id="4945" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="4947" class="Symbol">)</a>

<a id="4950" class="Comment">-- (Î»x. x) zero</a>
<a id="ex1"></a><a id="4966" href="NbE.html#4966" class="Function">ex1</a> <a id="4970" class="Symbol">=</a> <a id="4972" href="NbE.html#4893" class="Function">ex0</a> <a id="4976" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="4978" href="NbE.html#4377" class="InductiveConstructor">zero</a> <a id="4983" class="Symbol">{</a><a id="4984" href="NbE.html#1961" class="InductiveConstructor">â</a><a id="4985" class="Symbol">}</a>

<a id="4988" class="Comment">-- suc ((Î»x. x) zero)</a>
<a id="ex2"></a><a id="5010" href="NbE.html#5010" class="Function">ex2</a> <a id="5014" class="Symbol">=</a> <a id="5016" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="5020" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="5022" href="NbE.html#4966" class="Function">ex1</a>

<a id="5027" class="Comment">-- x:nat, y:nat â¢ suc ((Î»z. suc y) x)</a>
<a id="ex3"></a><a id="5065" href="NbE.html#5065" class="Function">ex3</a> <a id="5069" class="Symbol">:</a> <a id="5071" href="NbE.html#1961" class="InductiveConstructor">â</a> <a id="5073" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="5075" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="5079" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="5081" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="5085" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="5087" href="NbE.html#1070" class="InductiveConstructor">nat</a>
<a id="5091" href="NbE.html#5065" class="Function">ex3</a> <a id="5095" class="Symbol">=</a> <a id="5097" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="5101" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="5103" class="Symbol">((</a><a id="5105" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="5107" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="5111" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="5113" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="5115" class="Symbol">(</a><a id="5116" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="5119" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="5121" class="Symbol">))</a> <a id="5124" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="5126" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="5128" class="Symbol">(</a><a id="5129" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="5132" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="5134" class="Symbol">))</a>
</pre>
<p>Now that we have defined our language, we are almost ready to start
describing an algorithm for normalization by evaluation. However, to
prove the soundness of this algorithm, we will need to define two more
basic language constructs: substitutions and equality.</p>
<p>We expect the following soundness properties for a normalization
algorithm nf(t) that produces a normal form for a typed term
<code>Î â¢ t : T</code>:</p>
<ul>
<li><code>Î â¢ nf(t) : T</code> (well-typedness of normal form)</li>
<li><code>â¦ nf(t) â§ = â¦ t â§</code> (preservation of meaning)</li>
<li><code>nf(nf(t)) = nf(t)</code> (idempotency)</li>
</ul>
<p>For preservation of meaning, our interpretations of functional terms
are functions, whose equality is undecidable. However, in STLC, we have
that two terms are Î²Î·-equivalent iff their interpretationss are equal.
So, we wish to define an extension of Î²Î·-equivalence for System T s.t.
it implies equal interpretations (thus making the proposition
<code>â¦ nf(t) â§ = â¦ t â§</code> decidable).</p>
<p>To define our extension of Î²Î·-equivalence, we begin by defining
substitution (which we will use to define Î²-reductions and
Î·-expansions).</p>
<p>Substitution for System T is defined using the rules for parallel
substitution and the rule for the application of a substitution as they
are introduced in section 2.6.</p>
<p>A parallel substitution <code>Î â¢ Ï : Î</code> provides a well-typed
term in Î to substitute for each variable in the context Î.</p>
We use â© instead of â¢ since that is already reserved for typing
judgements (and keep using â¥ for the âparallelâ in âparallel
substitutionsâ for operationsions related to this type).
<pre class="Agda"><a id="6683" class="Keyword">data</a> <a id="Sub"></a><a id="6688" href="NbE.html#6688" class="Datatype">Sub</a> <a id="6692" class="Symbol">:</a> <a id="6694" href="NbE.html#1943" class="Datatype">Ctx</a> <a id="6698" class="Symbol">â</a> <a id="6700" href="NbE.html#1943" class="Datatype">Ctx</a> <a id="6704" class="Symbol">â</a> <a id="6706" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="6710" class="Keyword">where</a>
  <a id="Sub.â"></a><a id="6718" href="NbE.html#6718" class="InductiveConstructor">â</a> <a id="6720" class="Symbol">:</a> <a id="6722" class="Symbol">â</a> <a id="6724" class="Symbol">{</a><a id="6725" href="NbE.html#6725" class="Bound">Î</a><a id="6726" class="Symbol">}</a> <a id="6728" class="Symbol">â</a> <a id="6730" href="NbE.html#6688" class="Datatype">Sub</a> <a id="6734" href="NbE.html#6725" class="Bound">Î</a> <a id="6736" href="NbE.html#1961" class="InductiveConstructor">â</a>

  <a id="Sub._,_"></a><a id="6741" href="NbE.html#6741" class="InductiveConstructor Operator">_,_</a> <a id="6745" class="Symbol">:</a> <a id="6747" class="Symbol">â</a> <a id="6749" class="Symbol">{</a><a id="6750" href="NbE.html#6750" class="Bound">Î</a> <a id="6752" href="NbE.html#6752" class="Bound">Î</a> <a id="6754" class="Symbol">:</a> <a id="6756" href="NbE.html#1943" class="Datatype">Ctx</a><a id="6759" class="Symbol">}</a> <a id="6761" class="Symbol">{</a><a id="6762" href="NbE.html#6762" class="Bound">S</a> <a id="6764" class="Symbol">:</a> <a id="6766" href="NbE.html#1051" class="Datatype">Type</a><a id="6770" class="Symbol">}</a>
        <a id="6780" class="Symbol">â</a> <a id="6782" href="NbE.html#6688" class="Datatype">Sub</a> <a id="6786" href="NbE.html#6750" class="Bound">Î</a> <a id="6788" href="NbE.html#6752" class="Bound">Î</a>
        <a id="6798" class="Symbol">â</a> <a id="6800" href="NbE.html#6750" class="Bound">Î</a> <a id="6802" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="6804" href="NbE.html#6762" class="Bound">S</a>
          <a id="6816" class="Comment">---------</a>
        <a id="6834" class="Symbol">â</a> <a id="6836" href="NbE.html#6688" class="Datatype">Sub</a> <a id="6840" href="NbE.html#6750" class="Bound">Î</a> <a id="6842" class="Symbol">(</a><a id="6843" href="NbE.html#6752" class="Bound">Î</a> <a id="6845" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="6847" href="NbE.html#6762" class="Bound">S</a><a id="6848" class="Symbol">)</a>
</pre>
<p>Before defining the application of a substitution
<code>Î â¢ t [ Ï ] :</code>T, we introduce renaming.</p>
<p>Renaming is a specialized substitution where we can only substitute
variables with other variables (i.e.Â a renaming <code>Î â¢ Ïáµ£ : Î</code>
provides a variable in Î to replace for every variable in Î).</p>
It is necessary to first to define renaming substitutions so that
termination is guaranteed for our operations.
<pre class="Agda"><a id="7260" class="Keyword">data</a> <a id="Ren"></a><a id="7265" href="NbE.html#7265" class="Datatype">Ren</a> <a id="7269" class="Symbol">:</a> <a id="7271" href="NbE.html#1943" class="Datatype">Ctx</a> <a id="7275" class="Symbol">â</a> <a id="7277" href="NbE.html#1943" class="Datatype">Ctx</a> <a id="7281" class="Symbol">â</a> <a id="7283" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="7287" class="Keyword">where</a>
  <a id="Ren.â"></a><a id="7295" href="NbE.html#7295" class="InductiveConstructor">â</a> <a id="7297" class="Symbol">:</a> <a id="7299" class="Symbol">â</a> <a id="7301" class="Symbol">{</a><a id="7302" href="NbE.html#7302" class="Bound">Î</a> <a id="7304" class="Symbol">:</a> <a id="7306" href="NbE.html#1943" class="Datatype">Ctx</a><a id="7309" class="Symbol">}</a> <a id="7311" class="Symbol">â</a> <a id="7313" href="NbE.html#7265" class="Datatype">Ren</a> <a id="7317" href="NbE.html#7302" class="Bound">Î</a> <a id="7319" href="NbE.html#1961" class="InductiveConstructor">â</a>

  <a id="Ren._,_"></a><a id="7324" href="NbE.html#7324" class="InductiveConstructor Operator">_,_</a> <a id="7328" class="Symbol">:</a> <a id="7330" class="Symbol">â</a> <a id="7332" class="Symbol">{</a><a id="7333" href="NbE.html#7333" class="Bound">Î</a> <a id="7335" href="NbE.html#7335" class="Bound">Î</a> <a id="7337" class="Symbol">:</a> <a id="7339" href="NbE.html#1943" class="Datatype">Ctx</a><a id="7342" class="Symbol">}</a> <a id="7344" class="Symbol">{</a><a id="7345" href="NbE.html#7345" class="Bound">S</a> <a id="7347" class="Symbol">:</a> <a id="7349" href="NbE.html#1051" class="Datatype">Type</a><a id="7353" class="Symbol">}</a>
      <a id="7361" class="Symbol">â</a> <a id="7363" href="NbE.html#7265" class="Datatype">Ren</a> <a id="7367" href="NbE.html#7333" class="Bound">Î</a> <a id="7369" href="NbE.html#7335" class="Bound">Î</a>
      <a id="7377" class="Symbol">â</a> <a id="7379" href="NbE.html#7333" class="Bound">Î</a> <a id="7381" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="7383" href="NbE.html#7345" class="Bound">S</a>
        <a id="7393" class="Comment">-------------</a>
      <a id="7413" class="Symbol">â</a> <a id="7415" href="NbE.html#7265" class="Datatype">Ren</a> <a id="7419" href="NbE.html#7333" class="Bound">Î</a> <a id="7421" class="Symbol">(</a><a id="7422" href="NbE.html#7335" class="Bound">Î</a> <a id="7424" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="7426" href="NbE.html#7345" class="Bound">S</a><a id="7427" class="Symbol">)</a>
</pre>
We can use a renaming substitution to convert lookup judgements
(i.e.Â rename variables). In fact, this is the operation that we need to
define separately to guarantee termination of the application of a
substitution.
<pre class="Agda"><a id="rename"></a><a id="7659" href="NbE.html#7659" class="Function">rename</a> <a id="7666" class="Symbol">:</a> <a id="7668" class="Symbol">â</a> <a id="7670" class="Symbol">{</a><a id="7671" href="NbE.html#7671" class="Bound">Î</a> <a id="7673" href="NbE.html#7673" class="Bound">Î</a> <a id="7675" class="Symbol">:</a> <a id="7677" href="NbE.html#1943" class="Datatype">Ctx</a><a id="7680" class="Symbol">}</a> <a id="7682" class="Symbol">{</a><a id="7683" href="NbE.html#7683" class="Bound">T</a> <a id="7685" class="Symbol">:</a> <a id="7687" href="NbE.html#1051" class="Datatype">Type</a><a id="7691" class="Symbol">}</a>
       <a id="7700" class="Symbol">â</a> <a id="7702" href="NbE.html#7673" class="Bound">Î</a> <a id="7704" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="7706" href="NbE.html#7683" class="Bound">T</a>
       <a id="7715" class="Symbol">â</a> <a id="7717" href="NbE.html#7265" class="Datatype">Ren</a> <a id="7721" href="NbE.html#7671" class="Bound">Î</a> <a id="7723" href="NbE.html#7673" class="Bound">Î</a>
         <a id="7734" class="Comment">-------</a>
       <a id="7749" class="Symbol">â</a> <a id="7751" href="NbE.html#7671" class="Bound">Î</a> <a id="7753" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="7755" href="NbE.html#7683" class="Bound">T</a>
<a id="7757" href="NbE.html#7659" class="Function">rename</a> <a id="7764" href="NbE.html#3705" class="InductiveConstructor">`Z</a>     <a id="7771" class="Symbol">(</a><a id="7772" href="NbE.html#7772" class="Bound">Ï</a> <a id="7774" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="7776" href="NbE.html#7776" class="Bound">x</a><a id="7777" class="Symbol">)</a> <a id="7779" class="Symbol">=</a> <a id="7781" href="NbE.html#7776" class="Bound">x</a>
<a id="7783" href="NbE.html#7659" class="Function">rename</a> <a id="7790" class="Symbol">(</a><a id="7791" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="7794" href="NbE.html#7794" class="Bound">x</a><a id="7795" class="Symbol">)</a> <a id="7797" class="Symbol">(</a><a id="7798" href="NbE.html#7798" class="Bound">Ï</a> <a id="7800" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="7802" class="Symbol">_)</a> <a id="7805" class="Symbol">=</a> <a id="7807" href="NbE.html#7659" class="Function">rename</a> <a id="7814" href="NbE.html#7794" class="Bound">x</a> <a id="7816" href="NbE.html#7798" class="Bound">Ï</a>
</pre>
<p>We define parallel substitutions and renaming substitutions with the
previous rules so that we can define a shifting operation over them.
Shifting a renaming substitution shifts all indices in the renaming by
one â in other words, given a renaming between Î and Î, we can create a
renaming between Î , T and Î.</p>
We will use this to extend a renaming under a binder.
<pre class="Agda"><a id="_âáµ£"></a><a id="8198" href="NbE.html#8198" class="Function Operator">_âáµ£</a> <a id="8202" class="Symbol">:</a> <a id="8204" class="Symbol">â</a> <a id="8206" class="Symbol">{</a><a id="8207" href="NbE.html#8207" class="Bound">Î</a> <a id="8209" href="NbE.html#8209" class="Bound">Î</a> <a id="8211" class="Symbol">:</a> <a id="8213" href="NbE.html#1943" class="Datatype">Ctx</a><a id="8216" class="Symbol">}</a> <a id="8218" class="Symbol">{</a><a id="8219" href="NbE.html#8219" class="Bound">T</a> <a id="8221" class="Symbol">:</a> <a id="8223" href="NbE.html#1051" class="Datatype">Type</a><a id="8227" class="Symbol">}</a>
    <a id="8233" class="Symbol">â</a> <a id="8235" href="NbE.html#7265" class="Datatype">Ren</a> <a id="8239" href="NbE.html#8207" class="Bound">Î</a> <a id="8241" href="NbE.html#8209" class="Bound">Î</a>
      <a id="8249" class="Comment">-------------</a>
    <a id="8267" class="Symbol">â</a> <a id="8269" href="NbE.html#7265" class="Datatype">Ren</a> <a id="8273" class="Symbol">(</a><a id="8274" href="NbE.html#8207" class="Bound">Î</a> <a id="8276" class="InductiveConstructor Operator">,</a> <a id="8278" href="NbE.html#8219" class="Bound">T</a><a id="8279" class="Symbol">)</a> <a id="8281" href="NbE.html#8209" class="Bound">Î</a>
<a id="8283" href="NbE.html#7295" class="InductiveConstructor">â</a> <a id="8285" href="NbE.html#8198" class="Function Operator">âáµ£</a>       <a id="8294" class="Symbol">=</a> <a id="8296" href="NbE.html#7295" class="InductiveConstructor">â</a>
<a id="8298" class="Symbol">(</a><a id="8299" href="NbE.html#8299" class="Bound">Ïáµ£</a> <a id="8302" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="8304" href="NbE.html#8304" class="Bound">x</a><a id="8305" class="Symbol">)</a> <a id="8307" href="NbE.html#8198" class="Function Operator">âáµ£</a> <a id="8310" class="Symbol">=</a> <a id="8312" href="NbE.html#8299" class="Bound">Ïáµ£</a> <a id="8315" href="NbE.html#8198" class="Function Operator">âáµ£</a> <a id="8318" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="8320" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="8323" href="NbE.html#8304" class="Bound">x</a>

<a id="8326" class="Keyword">infix</a> <a id="8332" class="Number">6</a> <a id="8334" href="NbE.html#8198" class="Function Operator">_âáµ£</a>
</pre>
With this operation in place, we can define the application of a
renaming substitution to rebase a term from a context Î to a context Î,
this is done by using the renaming substitution to replace all variables
used in the term by their corresponding variables in Î
<pre class="Agda"><a id="_[_]áµ£"></a><a id="8616" href="NbE.html#8616" class="Function Operator">_[_]áµ£</a> <a id="8622" class="Symbol">:</a> <a id="8624" class="Symbol">â</a> <a id="8626" class="Symbol">{</a><a id="8627" href="NbE.html#8627" class="Bound">Î</a> <a id="8629" href="NbE.html#8629" class="Bound">Î</a> <a id="8631" class="Symbol">:</a> <a id="8633" href="NbE.html#1943" class="Datatype">Ctx</a><a id="8636" class="Symbol">}</a> <a id="8638" class="Symbol">{</a><a id="8639" href="NbE.html#8639" class="Bound">T</a> <a id="8641" class="Symbol">:</a> <a id="8643" href="NbE.html#1051" class="Datatype">Type</a><a id="8647" class="Symbol">}</a>
        <a id="8657" class="Symbol">â</a> <a id="8659" href="NbE.html#8629" class="Bound">Î</a> <a id="8661" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="8663" href="NbE.html#8639" class="Bound">T</a>
        <a id="8673" class="Symbol">â</a> <a id="8675" href="NbE.html#7265" class="Datatype">Ren</a> <a id="8679" href="NbE.html#8627" class="Bound">Î</a> <a id="8681" href="NbE.html#8629" class="Bound">Î</a>
          <a id="8693" class="Comment">-------</a>
        <a id="8709" class="Symbol">â</a> <a id="8711" href="NbE.html#8627" class="Bound">Î</a> <a id="8713" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="8715" href="NbE.html#8639" class="Bound">T</a>
<a id="8717" href="NbE.html#4377" class="InductiveConstructor">zero</a> <a id="8722" href="NbE.html#8616" class="Function Operator">[</a> <a id="8724" class="Symbol">_</a> <a id="8726" href="NbE.html#8616" class="Function Operator">]áµ£</a> <a id="8729" class="Symbol">=</a> <a id="8731" href="NbE.html#4377" class="InductiveConstructor">zero</a>
<a id="8736" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="8740" href="NbE.html#8616" class="Function Operator">[</a> <a id="8742" class="Symbol">_</a> <a id="8744" href="NbE.html#8616" class="Function Operator">]áµ£</a> <a id="8747" class="Symbol">=</a> <a id="8749" href="NbE.html#4395" class="InductiveConstructor">suc</a>
<a id="8753" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="8757" href="NbE.html#8616" class="Function Operator">[</a> <a id="8759" class="Symbol">_</a> <a id="8761" href="NbE.html#8616" class="Function Operator">]áµ£</a> <a id="8764" class="Symbol">=</a> <a id="8766" href="NbE.html#4418" class="InductiveConstructor">rec</a>
<a id="8770" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="8772" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="8775" href="NbE.html#8616" class="Function Operator">[</a> <a id="8777" class="Symbol">_</a> <a id="8779" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="8781" href="NbE.html#8781" class="Bound">x</a> <a id="8783" href="NbE.html#8616" class="Function Operator">]áµ£</a> <a id="8786" class="Symbol">=</a> <a id="8788" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="8790" href="NbE.html#8781" class="Bound">x</a>
<a id="8792" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="8794" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="8797" href="NbE.html#8797" class="Bound">x</a> <a id="8799" href="NbE.html#8616" class="Function Operator">[</a> <a id="8801" href="NbE.html#8801" class="Bound">Ïáµ£</a> <a id="8804" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="8806" class="Symbol">_</a> <a id="8808" href="NbE.html#8616" class="Function Operator">]áµ£</a> <a id="8811" class="Symbol">=</a> <a id="8813" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="8815" href="NbE.html#8797" class="Bound">x</a> <a id="8817" href="NbE.html#8616" class="Function Operator">[</a> <a id="8819" href="NbE.html#8801" class="Bound">Ïáµ£</a> <a id="8822" href="NbE.html#8616" class="Function Operator">]áµ£</a>
<a id="8825" class="Symbol">(</a><a id="8826" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="8828" href="NbE.html#8828" class="Bound">t</a><a id="8829" class="Symbol">)</a> <a id="8831" href="NbE.html#8616" class="Function Operator">[</a> <a id="8833" href="NbE.html#8833" class="Bound">Ïáµ£</a> <a id="8836" href="NbE.html#8616" class="Function Operator">]áµ£</a> <a id="8839" class="Symbol">=</a> <a id="8841" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="8843" href="NbE.html#8828" class="Bound">t</a> <a id="8845" href="NbE.html#8616" class="Function Operator">[</a> <a id="8847" href="NbE.html#8833" class="Bound">Ïáµ£</a> <a id="8850" href="NbE.html#8198" class="Function Operator">âáµ£</a> <a id="8853" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="8855" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="8858" href="NbE.html#8616" class="Function Operator">]áµ£</a>
<a id="8861" class="Symbol">(</a><a id="8862" href="NbE.html#8862" class="Bound">r</a> <a id="8864" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="8866" href="NbE.html#8866" class="Bound">s</a><a id="8867" class="Symbol">)</a> <a id="8869" href="NbE.html#8616" class="Function Operator">[</a> <a id="8871" href="NbE.html#8871" class="Bound">Ïáµ£</a> <a id="8874" href="NbE.html#8616" class="Function Operator">]áµ£</a> <a id="8877" class="Symbol">=</a> <a id="8879" href="NbE.html#8862" class="Bound">r</a> <a id="8881" href="NbE.html#8616" class="Function Operator">[</a> <a id="8883" href="NbE.html#8871" class="Bound">Ïáµ£</a> <a id="8886" href="NbE.html#8616" class="Function Operator">]áµ£</a> <a id="8889" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="8891" href="NbE.html#8866" class="Bound">s</a> <a id="8893" href="NbE.html#8616" class="Function Operator">[</a> <a id="8895" href="NbE.html#8871" class="Bound">Ïáµ£</a> <a id="8898" href="NbE.html#8616" class="Function Operator">]áµ£</a>

<a id="8902" class="Keyword">infix</a> <a id="8908" class="Number">8</a> <a id="8910" href="NbE.html#8616" class="Function Operator">_[_]áµ£</a>
</pre>
<p>We also define a few âprimitiveâ renamings that will be convenient
for general substitutions:</p>
<p>The identity and incrementing renaming, defined mutually. The
identity renaming leaves all variables unchanged, while the incrementing
renaming increments all variables (which are really just indices) by
1</p>
<pre class="Agda"><a id="9231" class="Keyword">mutual</a>
  <a id="ren-id"></a><a id="9240" href="NbE.html#9240" class="Function">ren-id</a> <a id="9247" class="Symbol">:</a> <a id="9249" class="Symbol">â</a> <a id="9251" class="Symbol">{</a><a id="9252" href="NbE.html#9252" class="Bound">Î</a> <a id="9254" class="Symbol">:</a> <a id="9256" href="NbE.html#1943" class="Datatype">Ctx</a><a id="9259" class="Symbol">}</a> <a id="9261" class="Symbol">â</a> <a id="9263" href="NbE.html#7265" class="Datatype">Ren</a> <a id="9267" href="NbE.html#9252" class="Bound">Î</a> <a id="9269" href="NbE.html#9252" class="Bound">Î</a>
  <a id="9273" href="NbE.html#9240" class="Function">ren-id</a> <a id="9280" class="Symbol">{</a><a id="9281" href="NbE.html#1961" class="InductiveConstructor">â</a><a id="9282" class="Symbol">}</a> <a id="9284" class="Symbol">=</a> <a id="9286" href="NbE.html#7295" class="InductiveConstructor">â</a>
  <a id="9290" href="NbE.html#9240" class="Function">ren-id</a> <a id="9297" class="Symbol">{</a><a id="9298" href="NbE.html#9298" class="Bound">Î</a> <a id="9300" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="9302" href="NbE.html#9302" class="Bound">T</a><a id="9303" class="Symbol">}</a> <a id="9305" class="Symbol">=</a> <a id="9307" href="NbE.html#9324" class="Function">ren-incr</a> <a id="9316" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="9318" href="NbE.html#3705" class="InductiveConstructor">`Z</a>

  <a id="ren-incr"></a><a id="9324" href="NbE.html#9324" class="Function">ren-incr</a> <a id="9333" class="Symbol">:</a> <a id="9335" class="Symbol">â</a> <a id="9337" class="Symbol">{</a><a id="9338" href="NbE.html#9338" class="Bound">Î</a> <a id="9340" class="Symbol">:</a> <a id="9342" href="NbE.html#1943" class="Datatype">Ctx</a><a id="9345" class="Symbol">}</a> <a id="9347" class="Symbol">{</a><a id="9348" href="NbE.html#9348" class="Bound">T</a> <a id="9350" class="Symbol">:</a> <a id="9352" href="NbE.html#1051" class="Datatype">Type</a><a id="9356" class="Symbol">}</a> <a id="9358" class="Symbol">â</a> <a id="9360" href="NbE.html#7265" class="Datatype">Ren</a> <a id="9364" class="Symbol">(</a><a id="9365" href="NbE.html#9338" class="Bound">Î</a> <a id="9367" class="InductiveConstructor Operator">,</a> <a id="9369" href="NbE.html#9348" class="Bound">T</a><a id="9370" class="Symbol">)</a> <a id="9372" href="NbE.html#9338" class="Bound">Î</a>
  <a id="9376" href="NbE.html#9324" class="Function">ren-incr</a> <a id="9385" class="Symbol">=</a> <a id="9387" href="NbE.html#9240" class="Function">ren-id</a> <a id="9394" href="NbE.html#8198" class="Function Operator">âáµ£</a>
</pre>
<p>A renaming between a context Îâ² and Î, where Îâ² is an extension of Î.
This renaming is really a series of shifts based on how many extensions
to Î the context Îâ² contains.</p>
<pre class="Agda"><a id="ren-â¤"></a><a id="9583" href="NbE.html#9583" class="Function">ren-â¤</a> <a id="9589" class="Symbol">:</a> <a id="9591" class="Symbol">â</a> <a id="9593" class="Symbol">{</a><a id="9594" href="NbE.html#9594" class="Bound">Îâ²</a> <a id="9597" href="NbE.html#9597" class="Bound">Î</a> <a id="9599" class="Symbol">:</a> <a id="9601" href="NbE.html#1943" class="Datatype">Ctx</a><a id="9604" class="Symbol">}</a> <a id="9606" class="Symbol">â</a> <a id="9608" href="NbE.html#9594" class="Bound">Îâ²</a> <a id="9611" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="9613" href="NbE.html#9597" class="Bound">Î</a> <a id="9615" class="Symbol">â</a> <a id="9617" href="NbE.html#7265" class="Datatype">Ren</a> <a id="9621" href="NbE.html#9594" class="Bound">Îâ²</a> <a id="9624" href="NbE.html#9597" class="Bound">Î</a>
<a id="9626" href="NbE.html#9583" class="Function">ren-â¤</a> <a id="9632" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="9637" class="Symbol">=</a> <a id="9639" href="NbE.html#9240" class="Function">ren-id</a>
<a id="9646" href="NbE.html#9583" class="Function">ren-â¤</a> <a id="9652" class="Symbol">(</a><a id="9653" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="9659" href="NbE.html#9659" class="Bound">pf</a><a id="9661" class="Symbol">)</a> <a id="9663" class="Symbol">=</a> <a id="9665" class="Symbol">(</a><a id="9666" href="NbE.html#9583" class="Function">ren-â¤</a> <a id="9672" href="NbE.html#9659" class="Bound">pf</a><a id="9674" class="Symbol">)</a> <a id="9676" href="NbE.html#8198" class="Function Operator">âáµ£</a>
</pre>
Since a renaming is really just a specialized substitution, we can
transform any renaming substitution into a parallel substitution
<pre class="Agda"><a id="subst-ren"></a><a id="9824" href="NbE.html#9824" class="Function">subst-ren</a> <a id="9834" class="Symbol">:</a> <a id="9836" class="Symbol">â</a> <a id="9838" class="Symbol">{</a><a id="9839" href="NbE.html#9839" class="Bound">Î</a> <a id="9841" href="NbE.html#9841" class="Bound">Î</a> <a id="9843" class="Symbol">:</a> <a id="9845" href="NbE.html#1943" class="Datatype">Ctx</a><a id="9848" class="Symbol">}</a> <a id="9850" class="Symbol">â</a> <a id="9852" href="NbE.html#7265" class="Datatype">Ren</a> <a id="9856" href="NbE.html#9839" class="Bound">Î</a> <a id="9858" href="NbE.html#9841" class="Bound">Î</a> <a id="9860" class="Symbol">â</a> <a id="9862" href="NbE.html#6688" class="Datatype">Sub</a> <a id="9866" href="NbE.html#9839" class="Bound">Î</a> <a id="9868" href="NbE.html#9841" class="Bound">Î</a>
<a id="9870" href="NbE.html#9824" class="Function">subst-ren</a> <a id="9880" href="NbE.html#7295" class="InductiveConstructor">â</a> <a id="9882" class="Symbol">=</a> <a id="9884" href="NbE.html#6718" class="InductiveConstructor">â</a>
<a id="9886" href="NbE.html#9824" class="Function">subst-ren</a> <a id="9896" class="Symbol">(</a><a id="9897" href="NbE.html#9897" class="Bound">Ïáµ£</a> <a id="9900" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="9902" href="NbE.html#9902" class="Bound">x</a><a id="9903" class="Symbol">)</a> <a id="9905" class="Symbol">=</a> <a id="9907" href="NbE.html#9824" class="Function">subst-ren</a> <a id="9917" href="NbE.html#9897" class="Bound">Ïáµ£</a> <a id="9920" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="9922" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="9924" href="NbE.html#9902" class="Bound">x</a>
</pre>
<p>We can now use our renaming substitutions to build out parallel
substitutions and their operations, such that their operations are
guaranteed to terminate.</p>
Similarly as for renaming substitutions, we define a shifting operation
for parallel substitutions, to be used for extending a substitution
under a binder.
<pre class="Agda"><a id="_â"></a><a id="10252" href="NbE.html#10252" class="Function Operator">_â</a> <a id="10255" class="Symbol">:</a> <a id="10257" class="Symbol">â</a> <a id="10259" class="Symbol">{</a><a id="10260" href="NbE.html#10260" class="Bound">Î</a> <a id="10262" href="NbE.html#10262" class="Bound">Î</a> <a id="10264" class="Symbol">:</a> <a id="10266" href="NbE.html#1943" class="Datatype">Ctx</a><a id="10269" class="Symbol">}</a> <a id="10271" class="Symbol">{</a><a id="10272" href="NbE.html#10272" class="Bound">T</a> <a id="10274" class="Symbol">:</a> <a id="10276" href="NbE.html#1051" class="Datatype">Type</a><a id="10280" class="Symbol">}</a>
      <a id="10288" class="Symbol">â</a> <a id="10290" href="NbE.html#6688" class="Datatype">Sub</a> <a id="10294" href="NbE.html#10260" class="Bound">Î</a> <a id="10296" href="NbE.html#10262" class="Bound">Î</a>
        <a id="10306" class="Comment">-------------</a>
      <a id="10326" class="Symbol">â</a> <a id="10328" href="NbE.html#6688" class="Datatype">Sub</a> <a id="10332" class="Symbol">(</a><a id="10333" href="NbE.html#10260" class="Bound">Î</a> <a id="10335" class="InductiveConstructor Operator">,</a> <a id="10337" href="NbE.html#10272" class="Bound">T</a><a id="10338" class="Symbol">)</a> <a id="10340" href="NbE.html#10262" class="Bound">Î</a>
<a id="10342" href="NbE.html#6718" class="InductiveConstructor">â</a> <a id="10344" href="NbE.html#10252" class="Function Operator">â</a>       <a id="10352" class="Symbol">=</a> <a id="10354" href="NbE.html#6718" class="InductiveConstructor">â</a>
<a id="10356" class="Symbol">(</a><a id="10357" href="NbE.html#10357" class="Bound">Ï</a> <a id="10359" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="10361" href="NbE.html#10361" class="Bound">s</a><a id="10362" class="Symbol">)</a> <a id="10364" href="NbE.html#10252" class="Function Operator">â</a> <a id="10366" class="Symbol">=</a> <a id="10368" href="NbE.html#10357" class="Bound">Ï</a> <a id="10370" href="NbE.html#10252" class="Function Operator">â</a> <a id="10372" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="10374" href="NbE.html#10361" class="Bound">s</a> <a id="10376" href="NbE.html#8616" class="Function Operator">[</a> <a id="10378" href="NbE.html#9324" class="Function">ren-incr</a> <a id="10387" href="NbE.html#8616" class="Function Operator">]áµ£</a>

<a id="10391" class="Keyword">infix</a> <a id="10397" class="Number">6</a> <a id="10399" href="NbE.html#10252" class="Function Operator">_â</a>
</pre>
Now, we can define the application of a parallel substitution
<code>Î â¢ Ï : Î</code> to a term <code>Î â¢ t : T</code>
(e.g.Â <code>t [ Ï ]</code>)
<pre class="Agda"><a id="_[_]"></a><a id="10528" href="NbE.html#10528" class="Function Operator">_[_]</a> <a id="10533" class="Symbol">:</a> <a id="10535" class="Symbol">â</a> <a id="10537" class="Symbol">{</a><a id="10538" href="NbE.html#10538" class="Bound">Î</a> <a id="10540" href="NbE.html#10540" class="Bound">Î</a> <a id="10542" class="Symbol">:</a> <a id="10544" href="NbE.html#1943" class="Datatype">Ctx</a><a id="10547" class="Symbol">}</a> <a id="10549" class="Symbol">{</a><a id="10550" href="NbE.html#10550" class="Bound">T</a> <a id="10552" class="Symbol">:</a> <a id="10554" href="NbE.html#1051" class="Datatype">Type</a><a id="10558" class="Symbol">}</a>
     <a id="10565" class="Symbol">â</a> <a id="10567" href="NbE.html#10540" class="Bound">Î</a> <a id="10569" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="10571" href="NbE.html#10550" class="Bound">T</a>
     <a id="10578" class="Symbol">â</a> <a id="10580" href="NbE.html#6688" class="Datatype">Sub</a> <a id="10584" href="NbE.html#10538" class="Bound">Î</a> <a id="10586" href="NbE.html#10540" class="Bound">Î</a>
       <a id="10595" class="Comment">-------</a>
     <a id="10608" class="Symbol">â</a> <a id="10610" href="NbE.html#10538" class="Bound">Î</a> <a id="10612" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="10614" href="NbE.html#10550" class="Bound">T</a>
<a id="10616" href="NbE.html#4377" class="InductiveConstructor">zero</a> <a id="10621" href="NbE.html#10528" class="Function Operator">[</a> <a id="10623" class="Symbol">_</a> <a id="10625" href="NbE.html#10528" class="Function Operator">]</a> <a id="10627" class="Symbol">=</a> <a id="10629" href="NbE.html#4377" class="InductiveConstructor">zero</a>
<a id="10634" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="10638" href="NbE.html#10528" class="Function Operator">[</a> <a id="10640" class="Symbol">_</a> <a id="10642" href="NbE.html#10528" class="Function Operator">]</a> <a id="10644" class="Symbol">=</a> <a id="10646" href="NbE.html#4395" class="InductiveConstructor">suc</a>
<a id="10650" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="10654" href="NbE.html#10528" class="Function Operator">[</a> <a id="10656" class="Symbol">_</a> <a id="10658" href="NbE.html#10528" class="Function Operator">]</a> <a id="10660" class="Symbol">=</a> <a id="10662" href="NbE.html#4418" class="InductiveConstructor">rec</a>
<a id="10666" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="10668" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="10671" href="NbE.html#10528" class="Function Operator">[</a> <a id="10673" class="Symbol">_</a> <a id="10675" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="10677" href="NbE.html#10677" class="Bound">x</a> <a id="10679" href="NbE.html#10528" class="Function Operator">]</a> <a id="10681" class="Symbol">=</a> <a id="10683" href="NbE.html#10677" class="Bound">x</a>
<a id="10685" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="10687" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="10690" href="NbE.html#10690" class="Bound">x</a> <a id="10692" href="NbE.html#10528" class="Function Operator">[</a> <a id="10694" href="NbE.html#10694" class="Bound">Ï</a> <a id="10696" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="10698" class="Symbol">_</a> <a id="10700" href="NbE.html#10528" class="Function Operator">]</a> <a id="10702" class="Symbol">=</a> <a id="10704" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="10706" href="NbE.html#10690" class="Bound">x</a> <a id="10708" href="NbE.html#10528" class="Function Operator">[</a> <a id="10710" href="NbE.html#10694" class="Bound">Ï</a> <a id="10712" href="NbE.html#10528" class="Function Operator">]</a>
<a id="10714" class="Symbol">(</a><a id="10715" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="10717" href="NbE.html#10717" class="Bound">t</a><a id="10718" class="Symbol">)</a> <a id="10720" href="NbE.html#10528" class="Function Operator">[</a> <a id="10722" href="NbE.html#10722" class="Bound">Ï</a> <a id="10724" href="NbE.html#10528" class="Function Operator">]</a> <a id="10726" class="Symbol">=</a> <a id="10728" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="10730" class="Symbol">(</a><a id="10731" href="NbE.html#10717" class="Bound">t</a> <a id="10733" href="NbE.html#10528" class="Function Operator">[</a> <a id="10735" href="NbE.html#10722" class="Bound">Ï</a> <a id="10737" href="NbE.html#10252" class="Function Operator">â</a> <a id="10739" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="10741" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="10743" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="10746" href="NbE.html#10528" class="Function Operator">]</a><a id="10747" class="Symbol">)</a>
<a id="10749" class="Symbol">(</a><a id="10750" href="NbE.html#10750" class="Bound">r</a> <a id="10752" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="10754" href="NbE.html#10754" class="Bound">s</a><a id="10755" class="Symbol">)</a> <a id="10757" href="NbE.html#10528" class="Function Operator">[</a> <a id="10759" href="NbE.html#10759" class="Bound">Ï</a> <a id="10761" href="NbE.html#10528" class="Function Operator">]</a> <a id="10763" class="Symbol">=</a> <a id="10765" href="NbE.html#10750" class="Bound">r</a> <a id="10767" href="NbE.html#10528" class="Function Operator">[</a> <a id="10769" href="NbE.html#10759" class="Bound">Ï</a> <a id="10771" href="NbE.html#10528" class="Function Operator">]</a> <a id="10773" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="10775" href="NbE.html#10754" class="Bound">s</a> <a id="10777" href="NbE.html#10528" class="Function Operator">[</a> <a id="10779" href="NbE.html#10759" class="Bound">Ï</a> <a id="10781" href="NbE.html#10528" class="Function Operator">]</a>

<a id="10784" class="Keyword">infix</a> <a id="10790" class="Number">8</a> <a id="10792" href="NbE.html#10528" class="Function Operator">_[_]</a>
</pre>
Substitutions can also be composed, by applying a substitution
<code>Îâ â¢ Ï : Ctxâ</code> to every term in a substitution
<code>Îâ â¢ Ï : Ctxâ</code>
<pre class="Agda"><a id="_â_"></a><a id="10937" href="NbE.html#10937" class="Function Operator">_â_</a> <a id="10941" class="Symbol">:</a> <a id="10943" class="Symbol">â</a> <a id="10945" class="Symbol">{</a><a id="10946" href="NbE.html#10946" class="Bound">Îâ</a> <a id="10949" href="NbE.html#10949" class="Bound">Îâ</a> <a id="10952" href="NbE.html#10952" class="Bound">Îâ</a> <a id="10955" class="Symbol">:</a> <a id="10957" href="NbE.html#1943" class="Datatype">Ctx</a><a id="10960" class="Symbol">}</a> <a id="10962" class="Symbol">â</a> <a id="10964" href="NbE.html#6688" class="Datatype">Sub</a> <a id="10968" href="NbE.html#10949" class="Bound">Îâ</a> <a id="10971" href="NbE.html#10952" class="Bound">Îâ</a> <a id="10974" class="Symbol">â</a> <a id="10976" href="NbE.html#6688" class="Datatype">Sub</a> <a id="10980" href="NbE.html#10946" class="Bound">Îâ</a> <a id="10983" href="NbE.html#10949" class="Bound">Îâ</a> <a id="10986" class="Symbol">â</a> <a id="10988" href="NbE.html#6688" class="Datatype">Sub</a> <a id="10992" href="NbE.html#10946" class="Bound">Îâ</a> <a id="10995" href="NbE.html#10952" class="Bound">Îâ</a>
<a id="10998" href="NbE.html#6718" class="InductiveConstructor">â</a>       <a id="11006" href="NbE.html#10937" class="Function Operator">â</a> <a id="11008" class="Symbol">_</a> <a id="11010" class="Symbol">=</a> <a id="11012" href="NbE.html#6718" class="InductiveConstructor">â</a>
<a id="11014" class="Symbol">(</a><a id="11015" href="NbE.html#11015" class="Bound">Ï</a> <a id="11017" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="11019" href="NbE.html#11019" class="Bound">s</a><a id="11020" class="Symbol">)</a> <a id="11022" href="NbE.html#10937" class="Function Operator">â</a> <a id="11024" href="NbE.html#11024" class="Bound">Ï</a> <a id="11026" class="Symbol">=</a> <a id="11028" class="Symbol">(</a><a id="11029" href="NbE.html#11015" class="Bound">Ï</a> <a id="11031" href="NbE.html#10937" class="Function Operator">â</a> <a id="11033" href="NbE.html#11024" class="Bound">Ï</a><a id="11034" class="Symbol">)</a> <a id="11036" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="11038" href="NbE.html#11019" class="Bound">s</a> <a id="11040" href="NbE.html#10528" class="Function Operator">[</a> <a id="11042" href="NbE.html#11024" class="Bound">Ï</a> <a id="11044" href="NbE.html#10528" class="Function Operator">]</a>
</pre>
<p>We will want a weakening substitution, that allows us to weaken a
well typed term in Î to a context Îâ² that extends Î.</p>
Really, this substitution is the renaming substitution between extended
contexts
<pre class="Agda"><a id="weaken"></a><a id="11260" href="NbE.html#11260" class="Function">weaken</a> <a id="11267" class="Symbol">:</a> <a id="11269" class="Symbol">â</a> <a id="11271" class="Symbol">{</a><a id="11272" href="NbE.html#11272" class="Bound">Îâ²</a> <a id="11275" href="NbE.html#11275" class="Bound">Î</a> <a id="11277" class="Symbol">:</a> <a id="11279" href="NbE.html#1943" class="Datatype">Ctx</a><a id="11282" class="Symbol">}</a>
       <a id="11291" class="Symbol">â</a> <a id="11293" href="NbE.html#11272" class="Bound">Îâ²</a> <a id="11296" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="11298" href="NbE.html#11275" class="Bound">Î</a>
         <a id="11309" class="Comment">--------</a>
       <a id="11325" class="Symbol">â</a> <a id="11327" href="NbE.html#6688" class="Datatype">Sub</a> <a id="11331" href="NbE.html#11272" class="Bound">Îâ²</a> <a id="11334" href="NbE.html#11275" class="Bound">Î</a>
<a id="11336" href="NbE.html#11260" class="Function">weaken</a> <a id="11343" href="NbE.html#11343" class="Bound">pf</a> <a id="11346" class="Symbol">=</a> <a id="11348" href="NbE.html#9824" class="Function">subst-ren</a> <a id="11358" class="Symbol">(</a><a id="11359" href="NbE.html#9583" class="Function">ren-â¤</a> <a id="11365" href="NbE.html#11343" class="Bound">pf</a><a id="11367" class="Symbol">)</a>
</pre>
For convenience, we will also want some shorthand for applying a
weakening substitution to a term
<pre class="Agda"><a id="_â¤â¢_"></a><a id="11480" href="NbE.html#11480" class="Function Operator">_â¤â¢_</a> <a id="11485" class="Symbol">:</a> <a id="11487" class="Symbol">â</a> <a id="11489" class="Symbol">{</a><a id="11490" href="NbE.html#11490" class="Bound">Îâ²</a> <a id="11493" href="NbE.html#11493" class="Bound">Î</a> <a id="11495" class="Symbol">:</a> <a id="11497" href="NbE.html#1943" class="Datatype">Ctx</a><a id="11500" class="Symbol">}</a> <a id="11502" class="Symbol">{</a><a id="11503" href="NbE.html#11503" class="Bound">T</a> <a id="11505" class="Symbol">:</a> <a id="11507" href="NbE.html#1051" class="Datatype">Type</a><a id="11511" class="Symbol">}</a> <a id="11513" class="Symbol">â</a> <a id="11515" href="NbE.html#11490" class="Bound">Îâ²</a> <a id="11518" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="11520" href="NbE.html#11493" class="Bound">Î</a> <a id="11522" class="Symbol">â</a> <a id="11524" href="NbE.html#11493" class="Bound">Î</a> <a id="11526" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="11528" href="NbE.html#11503" class="Bound">T</a> <a id="11530" class="Symbol">â</a> <a id="11532" href="NbE.html#11490" class="Bound">Îâ²</a> <a id="11535" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="11537" href="NbE.html#11503" class="Bound">T</a>
<a id="11539" href="NbE.html#11539" class="Bound">pf</a> <a id="11542" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="11545" href="NbE.html#11545" class="Bound">t</a> <a id="11547" class="Symbol">=</a> <a id="11549" href="NbE.html#11545" class="Bound">t</a> <a id="11551" href="NbE.html#10528" class="Function Operator">[</a> <a id="11553" href="NbE.html#11260" class="Function">weaken</a> <a id="11560" href="NbE.html#11539" class="Bound">pf</a> <a id="11563" href="NbE.html#10528" class="Function Operator">]</a>

<a id="11566" class="Keyword">infixr</a> <a id="11573" class="Number">5</a> <a id="11575" href="NbE.html#11480" class="Function Operator">_â¤â¢_</a>
</pre>
Additionally, we define an identity and incrementing parallel
substitution, which are simply the identity and incrementing renaming
substitutions
<pre class="Agda"><a id="subst-id"></a><a id="11739" href="NbE.html#11739" class="Function">subst-id</a> <a id="11748" class="Symbol">:</a> <a id="11750" class="Symbol">â</a> <a id="11752" class="Symbol">{</a><a id="11753" href="NbE.html#11753" class="Bound">Î</a> <a id="11755" class="Symbol">:</a> <a id="11757" href="NbE.html#1943" class="Datatype">Ctx</a><a id="11760" class="Symbol">}</a> <a id="11762" class="Symbol">â</a> <a id="11764" href="NbE.html#6688" class="Datatype">Sub</a> <a id="11768" href="NbE.html#11753" class="Bound">Î</a> <a id="11770" href="NbE.html#11753" class="Bound">Î</a>
<a id="11772" href="NbE.html#11739" class="Function">subst-id</a> <a id="11781" class="Symbol">=</a> <a id="11783" href="NbE.html#9824" class="Function">subst-ren</a> <a id="11793" href="NbE.html#9240" class="Function">ren-id</a>

<a id="subst-incr"></a><a id="11801" href="NbE.html#11801" class="Function">subst-incr</a> <a id="11812" class="Symbol">:</a> <a id="11814" class="Symbol">â</a> <a id="11816" class="Symbol">{</a><a id="11817" href="NbE.html#11817" class="Bound">Î</a> <a id="11819" class="Symbol">:</a> <a id="11821" href="NbE.html#1943" class="Datatype">Ctx</a><a id="11824" class="Symbol">}</a> <a id="11826" class="Symbol">{</a><a id="11827" href="NbE.html#11827" class="Bound">T</a> <a id="11829" class="Symbol">:</a> <a id="11831" href="NbE.html#1051" class="Datatype">Type</a><a id="11835" class="Symbol">}</a> <a id="11837" class="Symbol">â</a> <a id="11839" href="NbE.html#6688" class="Datatype">Sub</a> <a id="11843" class="Symbol">(</a><a id="11844" href="NbE.html#11817" class="Bound">Î</a> <a id="11846" class="InductiveConstructor Operator">,</a> <a id="11848" href="NbE.html#11827" class="Bound">T</a><a id="11849" class="Symbol">)</a> <a id="11851" href="NbE.html#11817" class="Bound">Î</a>
<a id="11853" href="NbE.html#11801" class="Function">subst-incr</a> <a id="11864" class="Symbol">=</a> <a id="11866" href="NbE.html#9824" class="Function">subst-ren</a> <a id="11876" href="NbE.html#9324" class="Function">ren-incr</a>
</pre>
The incrementing substitution will be used to establish Î·-equivalence,
we will also benfit from some shorthand for its application to a term
<pre class="Agda"><a id="_ââ¢_"></a><a id="12039" href="NbE.html#12039" class="Function Operator">_ââ¢_</a> <a id="12044" class="Symbol">:</a> <a id="12046" class="Symbol">â</a> <a id="12048" class="Symbol">{</a><a id="12049" href="NbE.html#12049" class="Bound">Î</a> <a id="12051" class="Symbol">:</a> <a id="12053" href="NbE.html#1943" class="Datatype">Ctx</a><a id="12056" class="Symbol">}</a> <a id="12058" class="Symbol">{</a><a id="12059" href="NbE.html#12059" class="Bound">T</a> <a id="12061" class="Symbol">:</a> <a id="12063" href="NbE.html#1051" class="Datatype">Type</a><a id="12067" class="Symbol">}</a> <a id="12069" class="Symbol">â</a> <a id="12071" class="Symbol">(</a><a id="12072" href="NbE.html#12072" class="Bound">S</a> <a id="12074" class="Symbol">:</a> <a id="12076" href="NbE.html#1051" class="Datatype">Type</a><a id="12080" class="Symbol">)</a> <a id="12082" class="Symbol">â</a> <a id="12084" href="NbE.html#12049" class="Bound">Î</a> <a id="12086" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="12088" href="NbE.html#12059" class="Bound">T</a> <a id="12090" class="Symbol">â</a> <a id="12092" href="NbE.html#12049" class="Bound">Î</a> <a id="12094" class="InductiveConstructor Operator">,</a> <a id="12096" href="NbE.html#12072" class="Bound">S</a> <a id="12098" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="12100" href="NbE.html#12059" class="Bound">T</a>
<a id="12102" class="Symbol">_</a> <a id="12104" href="NbE.html#12039" class="Function Operator">ââ¢</a> <a id="12107" href="NbE.html#12107" class="Bound">t</a> <a id="12109" class="Symbol">=</a> <a id="12111" href="NbE.html#12107" class="Bound">t</a> <a id="12113" href="NbE.html#10528" class="Function Operator">[</a> <a id="12115" href="NbE.html#11801" class="Function">subst-incr</a> <a id="12126" href="NbE.html#10528" class="Function Operator">]</a>

<a id="12129" class="Keyword">infixr</a> <a id="12136" class="Number">5</a> <a id="12138" href="NbE.html#12039" class="Function Operator">_ââ¢_</a>
</pre>
To establish Î²-equivalence, we define an operation for substituting the
first free variable in a term <code>Î , x:S â¢ t : T</code> with a term
<code>Î â¢ s : S</code> (i.e.Â <code>t [ s / x ]</code>), which is really
shorthand for <code>t [ id , s / x ]</code>
<pre class="Agda"><a id="_[_/x]"></a><a id="12371" href="NbE.html#12371" class="Function Operator">_[_/x]</a> <a id="12378" class="Symbol">:</a> <a id="12380" class="Symbol">â</a> <a id="12382" class="Symbol">{</a><a id="12383" href="NbE.html#12383" class="Bound">Î</a> <a id="12385" class="Symbol">:</a> <a id="12387" href="NbE.html#1943" class="Datatype">Ctx</a><a id="12390" class="Symbol">}</a> <a id="12392" class="Symbol">{</a><a id="12393" href="NbE.html#12393" class="Bound">S</a> <a id="12395" href="NbE.html#12395" class="Bound">T</a> <a id="12397" class="Symbol">:</a> <a id="12399" href="NbE.html#1051" class="Datatype">Type</a><a id="12403" class="Symbol">}</a>
  <a id="12407" class="Symbol">â</a> <a id="12409" href="NbE.html#12383" class="Bound">Î</a> <a id="12411" class="InductiveConstructor Operator">,</a> <a id="12413" href="NbE.html#12395" class="Bound">T</a> <a id="12415" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="12417" href="NbE.html#12393" class="Bound">S</a>
  <a id="12421" class="Symbol">â</a> <a id="12423" href="NbE.html#12383" class="Bound">Î</a> <a id="12425" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="12427" href="NbE.html#12395" class="Bound">T</a>
    <a id="12433" class="Comment">---------</a>
  <a id="12445" class="Symbol">â</a> <a id="12447" href="NbE.html#12383" class="Bound">Î</a> <a id="12449" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="12451" href="NbE.html#12393" class="Bound">S</a>
<a id="12453" href="NbE.html#12453" class="Bound">s</a> <a id="12455" href="NbE.html#12371" class="Function Operator">[</a> <a id="12457" href="NbE.html#12457" class="Bound">t</a> <a id="12459" href="NbE.html#12371" class="Function Operator">/x]</a> <a id="12463" class="Symbol">=</a>  <a id="12466" href="NbE.html#12453" class="Bound">s</a> <a id="12468" href="NbE.html#10528" class="Function Operator">[</a> <a id="12470" href="NbE.html#11739" class="Function">subst-id</a> <a id="12479" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="12481" href="NbE.html#12457" class="Bound">t</a> <a id="12483" href="NbE.html#10528" class="Function Operator">]</a>

<a id="12486" class="Keyword">infix</a> <a id="12492" class="Number">8</a> <a id="12494" href="NbE.html#12371" class="Function Operator">_[_/x]</a>
</pre>
<p>With these defined, we can introduce a new relation between two
terms: definitional equality. In the thesis, this is written as
<code>Î â¢ t = tâ² : T</code>, we will use t == tâ² in Agda</p>
<p>The relation is written such that the definitional equality of two
terms implies the equality of their interpretations
(<code>Î â¢ t = tâ² : T</code> iff <code>â¦ t â§ = â¦ tâ² â§</code>); it is the
extension of ÎÎ·-equivalence for System T suggested earlier</p>
We will use this relation to prove the soundness property of
preservation of meaning for NbE (i.e.Â <code>â¦ nf(t) â§ = â¦ t â§</code>)
<pre class="Agda"><a id="13039" class="Keyword">data</a> <a id="_==_"></a><a id="13044" href="NbE.html#13044" class="Datatype Operator">_==_</a> <a id="13049" class="Symbol">:</a> <a id="13051" class="Symbol">â</a> <a id="13053" class="Symbol">{</a><a id="13054" href="NbE.html#13054" class="Bound">Î</a> <a id="13056" class="Symbol">:</a> <a id="13058" href="NbE.html#1943" class="Datatype">Ctx</a><a id="13061" class="Symbol">}</a> <a id="13063" class="Symbol">{</a><a id="13064" href="NbE.html#13064" class="Bound">T</a> <a id="13066" class="Symbol">:</a> <a id="13068" href="NbE.html#1051" class="Datatype">Type</a><a id="13072" class="Symbol">}</a> <a id="13074" class="Symbol">â</a> <a id="13076" href="NbE.html#13054" class="Bound">Î</a> <a id="13078" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="13080" href="NbE.html#13064" class="Bound">T</a> <a id="13082" class="Symbol">â</a> <a id="13084" href="NbE.html#13054" class="Bound">Î</a> <a id="13086" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="13088" href="NbE.html#13064" class="Bound">T</a> <a id="13090" class="Symbol">â</a> <a id="13092" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="13096" class="Keyword">where</a>

  <a id="13105" class="Comment">-- Computation rules</a>
  <a id="_==_.Î²-rec-z"></a><a id="13128" href="NbE.html#13128" class="InductiveConstructor">Î²-rec-z</a> <a id="13136" class="Symbol">:</a> <a id="13138" class="Symbol">â</a> <a id="13140" class="Symbol">{</a><a id="13141" href="NbE.html#13141" class="Bound">Î</a> <a id="13143" class="Symbol">:</a> <a id="13145" href="NbE.html#1943" class="Datatype">Ctx</a><a id="13148" class="Symbol">}</a> <a id="13150" class="Symbol">{</a><a id="13151" href="NbE.html#13151" class="Bound">T</a> <a id="13153" class="Symbol">:</a> <a id="13155" href="NbE.html#1051" class="Datatype">Type</a><a id="13159" class="Symbol">}</a>
              <a id="13175" class="Symbol">{</a><a id="13176" href="NbE.html#13176" class="Bound">z</a> <a id="13178" class="Symbol">:</a> <a id="13180" href="NbE.html#13141" class="Bound">Î</a> <a id="13182" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="13184" href="NbE.html#13151" class="Bound">T</a><a id="13185" class="Symbol">}</a>
              <a id="13201" class="Symbol">{</a><a id="13202" href="NbE.html#13202" class="Bound">s</a> <a id="13204" class="Symbol">:</a> <a id="13206" href="NbE.html#13141" class="Bound">Î</a> <a id="13208" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="13210" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="13214" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="13216" href="NbE.html#13151" class="Bound">T</a> <a id="13218" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="13220" href="NbE.html#13151" class="Bound">T</a><a id="13221" class="Symbol">}</a>
              <a id="13237" class="Comment">-----------------------</a>
            <a id="13273" class="Symbol">â</a> <a id="13275" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="13279" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13281" href="NbE.html#13176" class="Bound">z</a> <a id="13283" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13285" href="NbE.html#13202" class="Bound">s</a> <a id="13287" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13289" href="NbE.html#4377" class="InductiveConstructor">zero</a> <a id="13294" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="13297" href="NbE.html#13176" class="Bound">z</a>

  <a id="_==_.Î²-rec-s"></a><a id="13302" href="NbE.html#13302" class="InductiveConstructor">Î²-rec-s</a> <a id="13310" class="Symbol">:</a> <a id="13312" class="Symbol">â</a> <a id="13314" class="Symbol">{</a><a id="13315" href="NbE.html#13315" class="Bound">Î</a> <a id="13317" class="Symbol">:</a> <a id="13319" href="NbE.html#1943" class="Datatype">Ctx</a><a id="13322" class="Symbol">}</a> <a id="13324" class="Symbol">{</a><a id="13325" href="NbE.html#13325" class="Bound">T</a> <a id="13327" class="Symbol">:</a> <a id="13329" href="NbE.html#1051" class="Datatype">Type</a><a id="13333" class="Symbol">}</a>
      <a id="13341" class="Symbol">{</a><a id="13342" href="NbE.html#13342" class="Bound">z</a> <a id="13344" class="Symbol">:</a> <a id="13346" href="NbE.html#13315" class="Bound">Î</a> <a id="13348" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="13350" href="NbE.html#13325" class="Bound">T</a><a id="13351" class="Symbol">}</a>
      <a id="13359" class="Symbol">{</a><a id="13360" href="NbE.html#13360" class="Bound">s</a> <a id="13362" class="Symbol">:</a> <a id="13364" href="NbE.html#13315" class="Bound">Î</a> <a id="13366" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="13368" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="13372" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="13374" href="NbE.html#13325" class="Bound">T</a> <a id="13376" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="13378" href="NbE.html#13325" class="Bound">T</a><a id="13379" class="Symbol">}</a>
      <a id="13387" class="Symbol">{</a><a id="13388" href="NbE.html#13388" class="Bound">n</a> <a id="13390" class="Symbol">:</a> <a id="13392" href="NbE.html#13315" class="Bound">Î</a> <a id="13394" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="13396" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="13399" class="Symbol">}</a>
      <a id="13407" class="Comment">----------------------------------------------------</a>
    <a id="13464" class="Symbol">â</a> <a id="13466" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="13470" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13472" href="NbE.html#13342" class="Bound">z</a> <a id="13474" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13476" href="NbE.html#13360" class="Bound">s</a> <a id="13478" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13480" class="Symbol">(</a><a id="13481" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="13485" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13487" href="NbE.html#13388" class="Bound">n</a><a id="13488" class="Symbol">)</a> <a id="13490" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="13493" href="NbE.html#13360" class="Bound">s</a> <a id="13495" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13497" href="NbE.html#13388" class="Bound">n</a> <a id="13499" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13501" class="Symbol">(</a><a id="13502" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="13506" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13508" href="NbE.html#13342" class="Bound">z</a> <a id="13510" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13512" href="NbE.html#13360" class="Bound">s</a> <a id="13514" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13516" href="NbE.html#13388" class="Bound">n</a><a id="13517" class="Symbol">)</a>

  <a id="_==_.Î²-Æ"></a><a id="13522" href="NbE.html#13522" class="InductiveConstructor">Î²-Æ</a> <a id="13526" class="Symbol">:</a> <a id="13528" class="Symbol">â</a> <a id="13530" class="Symbol">{</a><a id="13531" href="NbE.html#13531" class="Bound">Î</a> <a id="13533" class="Symbol">:</a> <a id="13535" href="NbE.html#1943" class="Datatype">Ctx</a><a id="13538" class="Symbol">}</a> <a id="13540" class="Symbol">{</a><a id="13541" href="NbE.html#13541" class="Bound">S</a> <a id="13543" href="NbE.html#13543" class="Bound">T</a> <a id="13545" class="Symbol">:</a> <a id="13547" href="NbE.html#1051" class="Datatype">Type</a><a id="13551" class="Symbol">}</a>
          <a id="13563" class="Symbol">{</a><a id="13564" href="NbE.html#13564" class="Bound">t</a> <a id="13566" class="Symbol">:</a> <a id="13568" href="NbE.html#13531" class="Bound">Î</a> <a id="13570" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="13572" href="NbE.html#13541" class="Bound">S</a> <a id="13574" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="13576" href="NbE.html#13543" class="Bound">T</a><a id="13577" class="Symbol">}</a>
          <a id="13589" class="Symbol">{</a><a id="13590" href="NbE.html#13590" class="Bound">s</a> <a id="13592" class="Symbol">:</a> <a id="13594" href="NbE.html#13531" class="Bound">Î</a> <a id="13596" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="13598" href="NbE.html#13541" class="Bound">S</a><a id="13599" class="Symbol">}</a>
          <a id="13611" class="Comment">----------------------</a>
        <a id="13642" class="Symbol">â</a> <a id="13644" class="Symbol">(</a><a id="13645" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="13647" href="NbE.html#13564" class="Bound">t</a><a id="13648" class="Symbol">)</a> <a id="13650" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13652" href="NbE.html#13590" class="Bound">s</a> <a id="13654" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="13657" href="NbE.html#13564" class="Bound">t</a> <a id="13659" href="NbE.html#12371" class="Function Operator">[</a> <a id="13661" href="NbE.html#13590" class="Bound">s</a> <a id="13663" href="NbE.html#12371" class="Function Operator">/x]</a>

  <a id="13670" class="Comment">-- Function extensionality, i.e. Î â¢ t = Î â¢ Î»x. t x : S â T</a>
  <a id="_==_.Î·"></a><a id="13733" href="NbE.html#13733" class="InductiveConstructor">Î·</a> <a id="13735" class="Symbol">:</a> <a id="13737" class="Symbol">â</a> <a id="13739" class="Symbol">{</a><a id="13740" href="NbE.html#13740" class="Bound">Î</a> <a id="13742" class="Symbol">:</a> <a id="13744" href="NbE.html#1943" class="Datatype">Ctx</a><a id="13747" class="Symbol">}</a> <a id="13749" class="Symbol">{</a><a id="13750" href="NbE.html#13750" class="Bound">S</a> <a id="13752" href="NbE.html#13752" class="Bound">T</a> <a id="13754" class="Symbol">:</a> <a id="13756" href="NbE.html#1051" class="Datatype">Type</a><a id="13760" class="Symbol">}</a>
        <a id="13770" class="Symbol">{</a><a id="13771" href="NbE.html#13771" class="Bound">t</a> <a id="13773" class="Symbol">:</a> <a id="13775" href="NbE.html#13740" class="Bound">Î</a> <a id="13777" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="13779" href="NbE.html#13750" class="Bound">S</a> <a id="13781" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="13783" href="NbE.html#13752" class="Bound">T</a><a id="13784" class="Symbol">}</a>
        <a id="13794" class="Comment">----------------------</a>
      <a id="13823" class="Symbol">â</a> <a id="13825" href="NbE.html#13771" class="Bound">t</a> <a id="13827" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="13830" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="13832" class="Symbol">(</a><a id="13833" href="NbE.html#13750" class="Bound">S</a> <a id="13835" href="NbE.html#12039" class="Function Operator">ââ¢</a> <a id="13838" href="NbE.html#13771" class="Bound">t</a><a id="13839" class="Symbol">)</a> <a id="13841" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="13843" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="13845" href="NbE.html#3705" class="InductiveConstructor">`Z</a>

  <a id="13851" class="Comment">-- Compatibility rules</a>
  <a id="13876" class="Comment">--</a>
  <a id="13881" class="Comment">-- Note that we do not need a rule for constants and variables as</a>
  <a id="13949" class="Comment">-- is given in the thesis as we are using an intrinsically typed</a>
  <a id="14016" class="Comment">-- representation, so refl catches all of these cases</a>
  <a id="_==_.abs-compatible"></a><a id="14072" href="NbE.html#14072" class="InductiveConstructor">abs-compatible</a> <a id="14087" class="Symbol">:</a> <a id="14089" class="Symbol">â</a> <a id="14091" class="Symbol">{</a><a id="14092" href="NbE.html#14092" class="Bound">Î</a> <a id="14094" class="Symbol">:</a> <a id="14096" href="NbE.html#1943" class="Datatype">Ctx</a><a id="14099" class="Symbol">}</a> <a id="14101" class="Symbol">{</a><a id="14102" href="NbE.html#14102" class="Bound">S</a> <a id="14104" href="NbE.html#14104" class="Bound">T</a> <a id="14106" class="Symbol">:</a> <a id="14108" href="NbE.html#1051" class="Datatype">Type</a><a id="14112" class="Symbol">}</a> <a id="14114" class="Symbol">{</a><a id="14115" href="NbE.html#14115" class="Bound">t</a> <a id="14117" href="NbE.html#14117" class="Bound">tâ²</a> <a id="14120" class="Symbol">:</a> <a id="14122" href="NbE.html#14092" class="Bound">Î</a> <a id="14124" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="14126" href="NbE.html#14102" class="Bound">S</a> <a id="14128" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="14130" href="NbE.html#14104" class="Bound">T</a><a id="14131" class="Symbol">}</a>
                   <a id="14152" class="Symbol">â</a> <a id="14154" href="NbE.html#14115" class="Bound">t</a> <a id="14156" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14159" href="NbE.html#14117" class="Bound">tâ²</a>
                     <a id="14183" class="Comment">-----------</a>
                   <a id="14214" class="Symbol">â</a> <a id="14216" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="14218" href="NbE.html#14115" class="Bound">t</a> <a id="14220" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14223" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="14225" href="NbE.html#14117" class="Bound">tâ²</a>

  <a id="_==_.app-compatible"></a><a id="14231" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a> <a id="14246" class="Symbol">:</a> <a id="14248" class="Symbol">â</a> <a id="14250" class="Symbol">{</a><a id="14251" href="NbE.html#14251" class="Bound">Î</a> <a id="14253" class="Symbol">:</a> <a id="14255" href="NbE.html#1943" class="Datatype">Ctx</a><a id="14258" class="Symbol">}</a> <a id="14260" class="Symbol">{</a><a id="14261" href="NbE.html#14261" class="Bound">S</a> <a id="14263" href="NbE.html#14263" class="Bound">T</a> <a id="14265" class="Symbol">:</a> <a id="14267" href="NbE.html#1051" class="Datatype">Type</a><a id="14271" class="Symbol">}</a>
                     <a id="14294" class="Symbol">{</a><a id="14295" href="NbE.html#14295" class="Bound">r</a> <a id="14297" href="NbE.html#14297" class="Bound">râ²</a> <a id="14300" class="Symbol">:</a> <a id="14302" href="NbE.html#14251" class="Bound">Î</a> <a id="14304" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="14306" href="NbE.html#14261" class="Bound">S</a> <a id="14308" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="14310" href="NbE.html#14263" class="Bound">T</a><a id="14311" class="Symbol">}</a> <a id="14313" class="Symbol">{</a><a id="14314" href="NbE.html#14314" class="Bound">s</a> <a id="14316" href="NbE.html#14316" class="Bound">sâ²</a> <a id="14319" class="Symbol">:</a> <a id="14321" href="NbE.html#14251" class="Bound">Î</a> <a id="14323" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="14325" href="NbE.html#14261" class="Bound">S</a><a id="14326" class="Symbol">}</a>
                   <a id="14347" class="Symbol">â</a> <a id="14349" href="NbE.html#14295" class="Bound">r</a> <a id="14351" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14354" href="NbE.html#14297" class="Bound">râ²</a>
                   <a id="14376" class="Symbol">â</a> <a id="14378" href="NbE.html#14314" class="Bound">s</a> <a id="14380" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14383" href="NbE.html#14316" class="Bound">sâ²</a>
                     <a id="14407" class="Comment">----------------</a>
                   <a id="14443" class="Symbol">â</a> <a id="14445" href="NbE.html#14295" class="Bound">r</a> <a id="14447" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="14449" href="NbE.html#14314" class="Bound">s</a> <a id="14451" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14454" href="NbE.html#14297" class="Bound">râ²</a> <a id="14457" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="14459" href="NbE.html#14316" class="Bound">sâ²</a>

  <a id="14465" class="Comment">-- Equivalence rules</a>
  <a id="_==_.refl"></a><a id="14488" href="NbE.html#14488" class="InductiveConstructor">refl</a> <a id="14493" class="Symbol">:</a> <a id="14495" class="Symbol">â</a> <a id="14497" class="Symbol">{</a><a id="14498" href="NbE.html#14498" class="Bound">Î</a> <a id="14500" class="Symbol">:</a> <a id="14502" href="NbE.html#1943" class="Datatype">Ctx</a><a id="14505" class="Symbol">}</a> <a id="14507" class="Symbol">{</a><a id="14508" href="NbE.html#14508" class="Bound">T</a> <a id="14510" class="Symbol">:</a> <a id="14512" href="NbE.html#1051" class="Datatype">Type</a><a id="14516" class="Symbol">}</a> <a id="14518" class="Symbol">{</a><a id="14519" href="NbE.html#14519" class="Bound">t</a> <a id="14521" class="Symbol">:</a> <a id="14523" href="NbE.html#14498" class="Bound">Î</a> <a id="14525" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="14527" href="NbE.html#14508" class="Bound">T</a><a id="14528" class="Symbol">}</a>
           <a id="14541" class="Comment">------</a>
         <a id="14557" class="Symbol">â</a> <a id="14559" href="NbE.html#14519" class="Bound">t</a> <a id="14561" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14564" href="NbE.html#14519" class="Bound">t</a>

  <a id="_==_.sym"></a><a id="14569" href="NbE.html#14569" class="InductiveConstructor">sym</a> <a id="14573" class="Symbol">:</a> <a id="14575" class="Symbol">â</a> <a id="14577" class="Symbol">{</a><a id="14578" href="NbE.html#14578" class="Bound">Î</a> <a id="14580" class="Symbol">:</a> <a id="14582" href="NbE.html#1943" class="Datatype">Ctx</a><a id="14585" class="Symbol">}</a> <a id="14587" class="Symbol">{</a><a id="14588" href="NbE.html#14588" class="Bound">T</a> <a id="14590" class="Symbol">:</a> <a id="14592" href="NbE.html#1051" class="Datatype">Type</a><a id="14596" class="Symbol">}</a> <a id="14598" class="Symbol">{</a><a id="14599" href="NbE.html#14599" class="Bound">t</a> <a id="14601" href="NbE.html#14601" class="Bound">tâ²</a> <a id="14604" class="Symbol">:</a> <a id="14606" href="NbE.html#14578" class="Bound">Î</a> <a id="14608" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="14610" href="NbE.html#14588" class="Bound">T</a><a id="14611" class="Symbol">}</a>
        <a id="14621" class="Symbol">â</a> <a id="14623" href="NbE.html#14599" class="Bound">t</a> <a id="14625" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14628" href="NbE.html#14601" class="Bound">tâ²</a>
          <a id="14641" class="Comment">-------</a>
        <a id="14657" class="Symbol">â</a> <a id="14659" href="NbE.html#14601" class="Bound">tâ²</a> <a id="14662" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14665" href="NbE.html#14599" class="Bound">t</a>

  <a id="_==_.trans"></a><a id="14670" href="NbE.html#14670" class="InductiveConstructor">trans</a> <a id="14676" class="Symbol">:</a> <a id="14678" class="Symbol">â</a> <a id="14680" class="Symbol">{</a><a id="14681" href="NbE.html#14681" class="Bound">Î</a> <a id="14683" class="Symbol">:</a> <a id="14685" href="NbE.html#1943" class="Datatype">Ctx</a><a id="14688" class="Symbol">}</a> <a id="14690" class="Symbol">{</a><a id="14691" href="NbE.html#14691" class="Bound">T</a> <a id="14693" class="Symbol">:</a> <a id="14695" href="NbE.html#1051" class="Datatype">Type</a><a id="14699" class="Symbol">}</a> <a id="14701" class="Symbol">{</a><a id="14702" href="NbE.html#14702" class="Bound">tâ</a> <a id="14705" href="NbE.html#14705" class="Bound">tâ</a> <a id="14708" href="NbE.html#14708" class="Bound">tâ</a> <a id="14711" class="Symbol">:</a> <a id="14713" href="NbE.html#14681" class="Bound">Î</a> <a id="14715" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="14717" href="NbE.html#14691" class="Bound">T</a><a id="14718" class="Symbol">}</a>
          <a id="14730" class="Symbol">â</a> <a id="14732" href="NbE.html#14702" class="Bound">tâ</a> <a id="14735" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14738" href="NbE.html#14705" class="Bound">tâ</a>
          <a id="14751" class="Symbol">â</a> <a id="14753" href="NbE.html#14705" class="Bound">tâ</a> <a id="14756" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14759" href="NbE.html#14708" class="Bound">tâ</a>
            <a id="14774" class="Comment">--------</a>
          <a id="14793" class="Symbol">â</a> <a id="14795" href="NbE.html#14702" class="Bound">tâ</a> <a id="14798" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="14801" href="NbE.html#14708" class="Bound">tâ</a>

<a id="14805" class="Keyword">infix</a> <a id="14811" class="Number">3</a> <a id="14813" href="NbE.html#13044" class="Datatype Operator">_==_</a>
</pre>
For the clarity of some of our proofs, it will also be helpful to have
the ability to use equational reasoning with respect to definitional
equality.
<pre class="Agda"><a id="14981" class="Keyword">module</a> <a id="==-Reasoning"></a><a id="14988" href="NbE.html#14988" class="Module">==-Reasoning</a> <a id="15001" class="Keyword">where</a>
  <a id="15009" class="Keyword">infix</a>  <a id="15016" class="Number">1</a> <a id="15018" href="NbE.html#15061" class="Function Operator">begin_</a>
  <a id="15027" class="Keyword">infixr</a> <a id="15034" class="Number">2</a> <a id="15036" href="NbE.html#15171" class="Function Operator">_==â¨_â©_</a>
  <a id="15046" class="Keyword">infix</a>  <a id="15053" class="Number">3</a> <a id="15055" href="NbE.html#15344" class="Function Operator">_â</a>

  <a id="==-Reasoning.begin_"></a><a id="15061" href="NbE.html#15061" class="Function Operator">begin_</a> <a id="15068" class="Symbol">:</a> <a id="15070" class="Symbol">â</a> <a id="15072" class="Symbol">{</a><a id="15073" href="NbE.html#15073" class="Bound">Î</a> <a id="15075" class="Symbol">:</a> <a id="15077" href="NbE.html#1943" class="Datatype">Ctx</a><a id="15080" class="Symbol">}</a> <a id="15082" class="Symbol">{</a><a id="15083" href="NbE.html#15083" class="Bound">T</a> <a id="15085" class="Symbol">:</a> <a id="15087" href="NbE.html#1051" class="Datatype">Type</a><a id="15091" class="Symbol">}</a> <a id="15093" class="Symbol">{</a><a id="15094" href="NbE.html#15094" class="Bound">t</a> <a id="15096" href="NbE.html#15096" class="Bound">tâ²</a> <a id="15099" class="Symbol">:</a> <a id="15101" href="NbE.html#15073" class="Bound">Î</a> <a id="15103" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="15105" href="NbE.html#15083" class="Bound">T</a><a id="15106" class="Symbol">}</a>
    <a id="15112" class="Symbol">â</a> <a id="15114" href="NbE.html#15094" class="Bound">t</a> <a id="15116" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="15119" href="NbE.html#15096" class="Bound">tâ²</a>
      <a id="15128" class="Comment">---------</a>
    <a id="15142" class="Symbol">â</a> <a id="15144" href="NbE.html#15094" class="Bound">t</a> <a id="15146" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="15149" href="NbE.html#15096" class="Bound">tâ²</a>
  <a id="15154" href="NbE.html#15061" class="Function Operator">begin</a> <a id="15160" href="NbE.html#15160" class="Bound">pf</a> <a id="15163" class="Symbol">=</a> <a id="15165" href="NbE.html#15160" class="Bound">pf</a>

  <a id="==-Reasoning._==â¨_â©_"></a><a id="15171" href="NbE.html#15171" class="Function Operator">_==â¨_â©_</a> <a id="15179" class="Symbol">:</a> <a id="15181" class="Symbol">â</a> <a id="15183" class="Symbol">{</a><a id="15184" href="NbE.html#15184" class="Bound">Î</a> <a id="15186" class="Symbol">:</a> <a id="15188" href="NbE.html#1943" class="Datatype">Ctx</a><a id="15191" class="Symbol">}</a> <a id="15193" class="Symbol">{</a><a id="15194" href="NbE.html#15194" class="Bound">T</a> <a id="15196" class="Symbol">:</a> <a id="15198" href="NbE.html#1051" class="Datatype">Type</a><a id="15202" class="Symbol">}</a> <a id="15204" class="Symbol">{</a><a id="15205" href="NbE.html#15205" class="Bound">tâ</a> <a id="15208" href="NbE.html#15208" class="Bound">tâ</a> <a id="15211" class="Symbol">:</a> <a id="15213" href="NbE.html#15184" class="Bound">Î</a> <a id="15215" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="15217" href="NbE.html#15194" class="Bound">T</a><a id="15218" class="Symbol">}</a>
    <a id="15224" class="Symbol">â</a> <a id="15226" class="Symbol">(</a><a id="15227" href="NbE.html#15227" class="Bound">tâ</a> <a id="15230" class="Symbol">:</a> <a id="15232" href="NbE.html#15184" class="Bound">Î</a> <a id="15234" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="15236" href="NbE.html#15194" class="Bound">T</a><a id="15237" class="Symbol">)</a>
    <a id="15243" class="Symbol">â</a> <a id="15245" href="NbE.html#15227" class="Bound">tâ</a> <a id="15248" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="15251" href="NbE.html#15205" class="Bound">tâ</a>
    <a id="15258" class="Symbol">â</a> <a id="15260" href="NbE.html#15205" class="Bound">tâ</a> <a id="15263" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="15266" href="NbE.html#15208" class="Bound">tâ</a>
      <a id="15275" class="Comment">-----</a>
    <a id="15285" class="Symbol">â</a> <a id="15287" href="NbE.html#15227" class="Bound">tâ</a> <a id="15290" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="15293" href="NbE.html#15208" class="Bound">tâ</a>
  <a id="15298" href="NbE.html#15298" class="Bound">tâ</a> <a id="15301" href="NbE.html#15171" class="Function Operator">==â¨</a> <a id="15305" href="NbE.html#15305" class="Bound">tââ¡tâ</a> <a id="15311" href="NbE.html#15171" class="Function Operator">â©</a> <a id="15313" href="NbE.html#15313" class="Bound">tââ¡tâ</a>  <a id="15320" class="Symbol">=</a>  <a id="15323" href="NbE.html#14670" class="InductiveConstructor">trans</a> <a id="15329" href="NbE.html#15305" class="Bound">tââ¡tâ</a> <a id="15335" href="NbE.html#15313" class="Bound">tââ¡tâ</a>

  <a id="==-Reasoning._â"></a><a id="15344" href="NbE.html#15344" class="Function Operator">_â</a> <a id="15347" class="Symbol">:</a> <a id="15349" class="Symbol">â</a> <a id="15351" class="Symbol">{</a><a id="15352" href="NbE.html#15352" class="Bound">Î</a> <a id="15354" class="Symbol">:</a> <a id="15356" href="NbE.html#1943" class="Datatype">Ctx</a><a id="15359" class="Symbol">}</a> <a id="15361" class="Symbol">{</a><a id="15362" href="NbE.html#15362" class="Bound">T</a> <a id="15364" class="Symbol">:</a> <a id="15366" href="NbE.html#1051" class="Datatype">Type</a><a id="15370" class="Symbol">}</a> <a id="15372" class="Symbol">â</a> <a id="15374" class="Symbol">(</a><a id="15375" href="NbE.html#15375" class="Bound">t</a> <a id="15377" class="Symbol">:</a> <a id="15379" href="NbE.html#15352" class="Bound">Î</a> <a id="15381" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="15383" href="NbE.html#15362" class="Bound">T</a><a id="15384" class="Symbol">)</a>
      <a id="15392" class="Comment">-----</a>
    <a id="15402" class="Symbol">â</a> <a id="15404" href="NbE.html#15375" class="Bound">t</a> <a id="15406" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="15409" href="NbE.html#15375" class="Bound">t</a>
  <a id="15413" href="NbE.html#15413" class="Bound">t</a> <a id="15415" href="NbE.html#15344" class="Function Operator">â</a>  <a id="15418" class="Symbol">=</a>  <a id="15421" href="NbE.html#14488" class="InductiveConstructor">refl</a>

<a id="15427" class="Keyword">open</a> <a id="15432" href="NbE.html#14988" class="Module">==-Reasoning</a> <a id="15445" class="Keyword">public</a>
</pre>
<p>Now, we are ready to start defining the algorithm for normalization
by evaluation. Normalization by evaluation is the process of obtaining
the normal form of a term by evaluating it in a meta language (in our
case, Agda).</p>
<p>Evaluating terms in System T in our meta language will require
defining the interpretations of its types, contexts, and terms.</p>
We use the following record to represent interpretations of types and
contexts in System T, indicated by â¦_â§.
<pre class="Agda"><a id="15926" class="Keyword">record</a> <a id="Interpretation"></a><a id="15933" href="NbE.html#15933" class="Record">Interpretation</a> <a id="15948" class="Symbol">(</a><a id="15949" href="NbE.html#15949" class="Bound">D</a> <a id="15951" class="Symbol">:</a> <a id="15953" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="15956" class="Symbol">)</a> <a id="15958" class="Symbol">:</a> <a id="15960" href="Agda.Primitive.html#326" class="Primitive">Setâ</a> <a id="15965" class="Keyword">where</a>
  <a id="15973" class="Keyword">field</a>
    <a id="Interpretation.â¦_â§"></a><a id="15983" href="NbE.html#15983" class="Field Operator">â¦_â§</a> <a id="15987" class="Symbol">:</a> <a id="15989" href="NbE.html#15949" class="Bound">D</a> <a id="15991" class="Symbol">â</a> <a id="15993" href="Agda.Primitive.html#326" class="Primitive">Set</a>

<a id="15998" class="Keyword">open</a> <a id="16003" href="NbE.html#15933" class="Module">Interpretation</a> <a id="16018" class="Symbol">{{...}}</a> <a id="16026" class="Keyword">public</a>
</pre>
<p>The thesis first introduces a more traditional interpretation of
these, but these definitions will need to be updated in our final
implementation of the NbE algorithm.</p>
<p>For types, we can interpret naturals in System T as â, and functions
in System T as Agda functions, defined inductively on their types.</p>
<pre><code>â¦ nat â§ = â
â¦ S â T â§ = â¦ S â§ â â¦ T â§</code></pre>
<p>An empty context is interpreted as the unit type, and an extension to
a context is defined inductively, with the extension itself being the
interpretation of the type the context is extended with.</p>
<pre><code>â¦ â â§ = â¤
â¦ Î , S â§ = â¦ Î â§ Ã â¦ S â§</code></pre>
<p>From now on, we will use the metavariable Ï is used to represent
elements of â¦ Î â§ for a context Î.</p>
<p>The interpretation of a variable expects the interpretation of a
context, and is essentially a lookup:</p>
<pre><code>â¦ Î â x:T â§ (Ï â â¦Îâ§) â â¦ T â§
â¦ Î , T â x:T â§ (Ï , a) = a
â¦ Î , y:S â x:T â§ (Ï , _) = â¦ Î â x:T â§ Ï</code></pre>
<p>The interpretation of a typed term expects the interpretation of a
context as well. It is more involed, so we only include the rule for
variables and abstractions:</p>
<pre><code>â¦ Î â¢ t : T â§ (Ï â â¦Îâ§) = â¦ T â§
â¦ Î â¢ x : T â§ Ï = â¦ Î â x:T â§ Ï
â¦ Î â¢ Î»x . t : S â T â§ Ï  a  = â¦ Î , x:S â¢ t : T â§ (Ï , a)</code></pre>
<p>As our final definition of interpretation will change, this is only a
rough sketch, but gives an idea of how we can evaluate terms in Agda.
For now, we only include the concrete interpretation of a context Î
(generalized over any interpretation of types), as it will remain
unchanged.</p>
<pre class="Agda"><a id="17547" class="Keyword">instance</a>
    <a id="17560" class="Comment">-- We only include the concrete interpretation of a</a>
    <a id="17616" class="Comment">-- context Î, generalized over any interpretation of</a>
    <a id="17673" class="Comment">-- types, to be used with the actual interpretation</a>
    <a id="17729" class="Comment">-- defined later</a>
    <a id="â¦Îâ§"></a><a id="17750" href="NbE.html#17750" class="Function">â¦Îâ§</a> <a id="17754" class="Symbol">:</a> <a id="17756" class="Symbol">{{</a><a id="17758" href="NbE.html#17758" class="Bound">_</a> <a id="17760" class="Symbol">:</a> <a id="17762" href="NbE.html#15933" class="Record">Interpretation</a> <a id="17777" href="NbE.html#1051" class="Datatype">Type</a><a id="17781" class="Symbol">}}</a> <a id="17784" class="Symbol">â</a> <a id="17786" href="NbE.html#15933" class="Record">Interpretation</a> <a id="17801" href="NbE.html#1943" class="Datatype">Ctx</a>
    <a id="17809" href="NbE.html#15983" class="Field Operator">Interpretation.â¦</a> <a id="17826" href="NbE.html#17750" class="Function">â¦Îâ§</a> <a id="17830" href="NbE.html#15983" class="Field Operator">â§</a> <a id="17832" href="NbE.html#1961" class="InductiveConstructor">â</a> <a id="17834" class="Symbol">=</a> <a id="17836" href="Agda.Builtin.Unit.html#164" class="Record">â¤</a>
    <a id="17842" href="NbE.html#15983" class="Field Operator">Interpretation.â¦</a> <a id="17859" href="NbE.html#17750" class="Function">â¦Îâ§</a> <a id="17863" href="NbE.html#15983" class="Field Operator">â§</a> <a id="17865" class="Symbol">(</a><a id="17866" href="NbE.html#17866" class="Bound">Î</a> <a id="17868" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="17870" href="NbE.html#17870" class="Bound">T</a><a id="17871" class="Symbol">)</a> <a id="17873" class="Symbol">=</a> <a id="17875" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="17877" href="NbE.html#17866" class="Bound">Î</a> <a id="17879" href="NbE.html#15983" class="Field Operator">â§</a> <a id="17881" href="Data.Product.html#1167" class="Function Operator">Ã</a> <a id="17883" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="17885" href="NbE.html#17870" class="Bound">T</a> <a id="17887" href="NbE.html#15983" class="Field Operator">â§</a>
</pre>
<p>To motivate our algorithm, first we recognize that normalization by
evaluation is, intuitively, the evaulation of an expression with
unknowns (e.g.Â variables) to another, possibly simplified, expression
with unknowns.</p>
<p>Because of this, we arrive at the first change to our interpretation
of terms. The interpretation of the base type nat is now terms of type
nat in their normal form â after all, a variable of type nat is
âblockedâ and cannot be evaluated any further. In other words, we now
have:</p>
<pre><code>â¦ nat â§ = terms of type nat in their normal form</code></pre>
<p>From now on, normalized terms with unknowns will be referred to as
neutral terms (indicated by the metavariable ð for âunknownâ), and
normalized terms in general will be referred to as normal terms
(indicated by the metavariable ð for âvalueâ).</p>
<p>Additionally, while evaluation gives us the ability to normalize
terms, it also transforms them into our meta language. We want a way to
return to System T, which will be a function we will refer to as
reification. We will refer to its opposite, e.g.Â the transformation of a
term in System T into our meta language, as reflection.</p>
<p>The normal form of a typed term t in context Î will be obtained by
using reflection and reification together. The following steps make up a
sketch of the algorithm:</p>
<ol type="1">
<li>reflect the variables of the context Î (all of which are neutral
terms)</li>
<li>interpret the value of the term using the environment of reflected
variables</li>
<li>âreifyâ the interpreted value of the term (i.e.Â returning it to a
term in normal form)</li>
</ol>
<p>Before we can actually define the algorithm, we need to formally
introduce normal and neutral terms in Agda, which we define mutually.
The constructors for these represent the different types of normal
terms, and they are parametrized by the terms themselves.</p>
<pre class="Agda"><a id="19729" class="Comment">-- Neutral terms</a>
<a id="19746" class="Keyword">data</a> <a id="Ne"></a><a id="19751" href="NbE.html#19751" class="Datatype">Ne</a> <a id="19754" class="Symbol">(</a><a id="19755" href="NbE.html#19755" class="Bound">T</a> <a id="19757" class="Symbol">:</a> <a id="19759" href="NbE.html#1051" class="Datatype">Type</a><a id="19763" class="Symbol">)</a> <a id="19765" class="Symbol">(</a><a id="19766" href="NbE.html#19766" class="Bound">Î</a> <a id="19768" class="Symbol">:</a> <a id="19770" href="NbE.html#1943" class="Datatype">Ctx</a><a id="19773" class="Symbol">)</a> <a id="19775" class="Symbol">:</a> <a id="19777" href="NbE.html#19766" class="Bound">Î</a> <a id="19779" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="19781" href="NbE.html#19755" class="Bound">T</a> <a id="19783" class="Symbol">â</a> <a id="19785" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="19789" class="Comment">-- Normal Terms</a>
<a id="19805" class="Keyword">data</a> <a id="Nf"></a><a id="19810" href="NbE.html#19810" class="Datatype">Nf</a> <a id="19813" class="Symbol">:</a> <a id="19815" class="Symbol">(</a><a id="19816" href="NbE.html#19816" class="Bound">T</a> <a id="19818" class="Symbol">:</a> <a id="19820" href="NbE.html#1051" class="Datatype">Type</a><a id="19824" class="Symbol">)</a> <a id="19826" class="Symbol">â</a> <a id="19828" class="Symbol">(</a><a id="19829" href="NbE.html#19829" class="Bound">Î</a> <a id="19831" class="Symbol">:</a> <a id="19833" href="NbE.html#1943" class="Datatype">Ctx</a><a id="19836" class="Symbol">)</a> <a id="19838" class="Symbol">â</a> <a id="19840" href="NbE.html#19829" class="Bound">Î</a> <a id="19842" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="19844" href="NbE.html#19816" class="Bound">T</a> <a id="19846" class="Symbol">â</a> <a id="19848" href="Agda.Primitive.html#326" class="Primitive">Set</a>
</pre>
Neutral terms are normal terms in their blocked form. Variables are the
âbase caseâ for blocked terms. Application on an unknown function to a
normal term is also blocked, as is recursion on an unknown natural.
blocked terms.
<pre class="Agda"><a id="20091" class="Keyword">data</a> <a id="20096" href="NbE.html#19751" class="Datatype">Ne</a> <a id="20099" href="NbE.html#20099" class="Bound">T</a> <a id="20101" href="NbE.html#20101" class="Bound">Î</a> <a id="20103" class="Keyword">where</a>
  <a id="Ne.ne-var"></a><a id="20111" href="NbE.html#20111" class="InductiveConstructor">ne-var</a> <a id="20118" class="Symbol">:</a> <a id="20120" class="Symbol">(</a><a id="20121" href="NbE.html#20121" class="Bound">x</a> <a id="20123" class="Symbol">:</a> <a id="20125" href="NbE.html#20101" class="Bound">Î</a> <a id="20127" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="20129" href="NbE.html#20099" class="Bound">T</a><a id="20130" class="Symbol">)</a>
           <a id="20143" class="Comment">------------</a>
         <a id="20165" class="Symbol">â</a> <a id="20167" href="NbE.html#19751" class="Datatype">Ne</a> <a id="20170" href="NbE.html#20099" class="Bound">T</a> <a id="20172" href="NbE.html#20101" class="Bound">Î</a> <a id="20174" class="Symbol">(</a><a id="20175" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="20177" href="NbE.html#20121" class="Bound">x</a><a id="20178" class="Symbol">)</a>

  <a id="Ne.ne-app"></a><a id="20183" href="NbE.html#20183" class="InductiveConstructor">ne-app</a> <a id="20190" class="Symbol">:</a> <a id="20192" class="Symbol">â</a> <a id="20194" class="Symbol">{</a><a id="20195" href="NbE.html#20195" class="Bound">S</a> <a id="20197" class="Symbol">:</a> <a id="20199" href="NbE.html#1051" class="Datatype">Type</a><a id="20203" class="Symbol">}</a> <a id="20205" class="Symbol">{</a><a id="20206" href="NbE.html#20206" class="Bound">ð</a> <a id="20208" class="Symbol">:</a> <a id="20210" href="NbE.html#20101" class="Bound">Î</a> <a id="20212" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="20214" href="NbE.html#20195" class="Bound">S</a> <a id="20216" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="20218" href="NbE.html#20099" class="Bound">T</a><a id="20219" class="Symbol">}</a> <a id="20221" class="Symbol">{</a><a id="20222" href="NbE.html#20222" class="Bound">ð</a> <a id="20224" class="Symbol">:</a> <a id="20226" href="NbE.html#20101" class="Bound">Î</a> <a id="20228" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="20230" href="NbE.html#20195" class="Bound">S</a><a id="20231" class="Symbol">}</a>
         <a id="20242" class="Symbol">â</a> <a id="20244" href="NbE.html#19751" class="Datatype">Ne</a> <a id="20247" class="Symbol">(</a><a id="20248" href="NbE.html#20195" class="Bound">S</a> <a id="20250" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="20252" href="NbE.html#20099" class="Bound">T</a><a id="20253" class="Symbol">)</a> <a id="20255" href="NbE.html#20101" class="Bound">Î</a> <a id="20257" href="NbE.html#20206" class="Bound">ð</a>
         <a id="20268" class="Symbol">â</a> <a id="20270" href="NbE.html#19810" class="Datatype">Nf</a> <a id="20273" href="NbE.html#20195" class="Bound">S</a> <a id="20275" href="NbE.html#20101" class="Bound">Î</a> <a id="20277" href="NbE.html#20222" class="Bound">ð</a>
           <a id="20290" class="Comment">--------------</a>
         <a id="20314" class="Symbol">â</a> <a id="20316" href="NbE.html#19751" class="Datatype">Ne</a> <a id="20319" href="NbE.html#20099" class="Bound">T</a> <a id="20321" href="NbE.html#20101" class="Bound">Î</a> <a id="20323" class="Symbol">(</a><a id="20324" href="NbE.html#20206" class="Bound">ð</a> <a id="20326" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="20328" href="NbE.html#20222" class="Bound">ð</a><a id="20329" class="Symbol">)</a>

  <a id="Ne.ne-rec"></a><a id="20334" href="NbE.html#20334" class="InductiveConstructor">ne-rec</a> <a id="20341" class="Symbol">:</a> <a id="20343" class="Symbol">{</a><a id="20344" href="NbE.html#20344" class="Bound">ðz</a> <a id="20347" class="Symbol">:</a> <a id="20349" href="NbE.html#20101" class="Bound">Î</a> <a id="20351" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="20353" href="NbE.html#20099" class="Bound">T</a><a id="20354" class="Symbol">}</a> <a id="20356" class="Symbol">{</a><a id="20357" href="NbE.html#20357" class="Bound">ðs</a> <a id="20360" class="Symbol">:</a> <a id="20362" href="NbE.html#20101" class="Bound">Î</a> <a id="20364" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="20366" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="20370" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="20372" href="NbE.html#20099" class="Bound">T</a> <a id="20374" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="20376" href="NbE.html#20099" class="Bound">T</a><a id="20377" class="Symbol">}</a> <a id="20379" class="Symbol">{</a><a id="20380" href="NbE.html#20380" class="Bound">ð</a> <a id="20382" class="Symbol">:</a> <a id="20384" href="NbE.html#20101" class="Bound">Î</a> <a id="20386" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="20388" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="20391" class="Symbol">}</a>
         <a id="20402" class="Symbol">â</a> <a id="20404" href="NbE.html#19810" class="Datatype">Nf</a> <a id="20407" href="NbE.html#20099" class="Bound">T</a> <a id="20409" href="NbE.html#20101" class="Bound">Î</a> <a id="20411" href="NbE.html#20344" class="Bound">ðz</a>
         <a id="20423" class="Symbol">â</a> <a id="20425" href="NbE.html#19810" class="Datatype">Nf</a> <a id="20428" class="Symbol">(</a><a id="20429" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="20433" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="20435" href="NbE.html#20099" class="Bound">T</a> <a id="20437" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="20439" href="NbE.html#20099" class="Bound">T</a><a id="20440" class="Symbol">)</a> <a id="20442" href="NbE.html#20101" class="Bound">Î</a> <a id="20444" href="NbE.html#20357" class="Bound">ðs</a>
         <a id="20456" class="Symbol">â</a> <a id="20458" href="NbE.html#19751" class="Datatype">Ne</a> <a id="20461" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="20465" href="NbE.html#20101" class="Bound">Î</a> <a id="20467" href="NbE.html#20380" class="Bound">ð</a>
           <a id="20480" class="Comment">--------------------------</a>
         <a id="20516" class="Symbol">â</a> <a id="20518" href="NbE.html#19751" class="Datatype">Ne</a> <a id="20521" href="NbE.html#20099" class="Bound">T</a> <a id="20523" href="NbE.html#20101" class="Bound">Î</a> <a id="20525" class="Symbol">(</a><a id="20526" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="20530" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="20532" href="NbE.html#20344" class="Bound">ðz</a> <a id="20535" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="20537" href="NbE.html#20357" class="Bound">ðs</a> <a id="20540" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="20542" href="NbE.html#20380" class="Bound">ð</a><a id="20543" class="Symbol">)</a>
</pre>
Normal terms are terms in their normal form. <code>zero</code>, and
<code>suc</code> applied to a normal term are normalized naturals. An
abstraction whose body is normalized is itself normalized, as is any
neutral term.
<pre class="Agda"><a id="20757" class="Keyword">data</a> <a id="20762" href="NbE.html#19810" class="Datatype">Nf</a> <a id="20765" class="Keyword">where</a>
  <a id="Nf.nf-zero"></a><a id="20773" href="NbE.html#20773" class="InductiveConstructor">nf-zero</a> <a id="20781" class="Symbol">:</a> <a id="20783" class="Symbol">â</a> <a id="20785" class="Symbol">{</a><a id="20786" href="NbE.html#20786" class="Bound">Î</a> <a id="20788" class="Symbol">:</a> <a id="20790" href="NbE.html#1943" class="Datatype">Ctx</a><a id="20793" class="Symbol">}</a> <a id="20795" class="Symbol">â</a> <a id="20797" href="NbE.html#19810" class="Datatype">Nf</a> <a id="20800" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="20804" href="NbE.html#20786" class="Bound">Î</a> <a id="20806" href="NbE.html#4377" class="InductiveConstructor">zero</a>

  <a id="Nf.nf-suc"></a><a id="20814" href="NbE.html#20814" class="InductiveConstructor">nf-suc</a> <a id="20821" class="Symbol">:</a> <a id="20823" class="Symbol">â</a> <a id="20825" class="Symbol">{</a><a id="20826" href="NbE.html#20826" class="Bound">Î</a> <a id="20828" class="Symbol">:</a> <a id="20830" href="NbE.html#1943" class="Datatype">Ctx</a><a id="20833" class="Symbol">}</a> <a id="20835" class="Symbol">{</a><a id="20836" href="NbE.html#20836" class="Bound">ð</a> <a id="20838" class="Symbol">:</a> <a id="20840" href="NbE.html#20826" class="Bound">Î</a> <a id="20842" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="20844" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="20847" class="Symbol">}</a>
         <a id="20858" class="Symbol">â</a> <a id="20860" href="NbE.html#19810" class="Datatype">Nf</a> <a id="20863" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="20867" href="NbE.html#20826" class="Bound">Î</a> <a id="20869" href="NbE.html#20836" class="Bound">ð</a>
           <a id="20882" class="Comment">------------------</a>
         <a id="20910" class="Symbol">â</a> <a id="20912" href="NbE.html#19810" class="Datatype">Nf</a> <a id="20915" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="20919" href="NbE.html#20826" class="Bound">Î</a> <a id="20921" class="Symbol">(</a><a id="20922" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="20926" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="20928" href="NbE.html#20836" class="Bound">ð</a><a id="20929" class="Symbol">)</a>

  <a id="Nf.nf-abs"></a><a id="20934" href="NbE.html#20934" class="InductiveConstructor">nf-abs</a> <a id="20941" class="Symbol">:</a> <a id="20943" class="Symbol">â</a> <a id="20945" class="Symbol">{</a><a id="20946" href="NbE.html#20946" class="Bound">S</a> <a id="20948" href="NbE.html#20948" class="Bound">T</a> <a id="20950" class="Symbol">:</a> <a id="20952" href="NbE.html#1051" class="Datatype">Type</a><a id="20956" class="Symbol">}</a> <a id="20958" class="Symbol">{</a><a id="20959" href="NbE.html#20959" class="Bound">Î</a> <a id="20961" class="Symbol">:</a> <a id="20963" href="NbE.html#1943" class="Datatype">Ctx</a><a id="20966" class="Symbol">}</a> <a id="20968" class="Symbol">{</a><a id="20969" href="NbE.html#20969" class="Bound">ð</a> <a id="20971" class="Symbol">:</a> <a id="20973" href="NbE.html#20959" class="Bound">Î</a> <a id="20975" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="20977" href="NbE.html#20946" class="Bound">S</a> <a id="20979" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="20981" href="NbE.html#20948" class="Bound">T</a><a id="20982" class="Symbol">}</a>
         <a id="20993" class="Symbol">â</a> <a id="20995" href="NbE.html#19810" class="Datatype">Nf</a> <a id="20998" href="NbE.html#20948" class="Bound">T</a> <a id="21000" class="Symbol">(</a><a id="21001" href="NbE.html#20959" class="Bound">Î</a> <a id="21003" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="21005" href="NbE.html#20946" class="Bound">S</a><a id="21006" class="Symbol">)</a> <a id="21008" href="NbE.html#20969" class="Bound">ð</a>
           <a id="21021" class="Comment">------------------</a>
         <a id="21049" class="Symbol">â</a> <a id="21051" href="NbE.html#19810" class="Datatype">Nf</a> <a id="21054" class="Symbol">(</a><a id="21055" href="NbE.html#20946" class="Bound">S</a> <a id="21057" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="21059" href="NbE.html#20948" class="Bound">T</a><a id="21060" class="Symbol">)</a> <a id="21062" href="NbE.html#20959" class="Bound">Î</a> <a id="21064" class="Symbol">(</a><a id="21065" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="21067" href="NbE.html#20969" class="Bound">ð</a><a id="21068" class="Symbol">)</a>

  <a id="Nf.nf-neutral"></a><a id="21073" href="NbE.html#21073" class="InductiveConstructor">nf-neutral</a> <a id="21084" class="Symbol">:</a> <a id="21086" class="Symbol">â</a> <a id="21088" class="Symbol">{</a><a id="21089" href="NbE.html#21089" class="Bound">T</a> <a id="21091" class="Symbol">:</a> <a id="21093" href="NbE.html#1051" class="Datatype">Type</a><a id="21097" class="Symbol">}</a> <a id="21099" class="Symbol">{</a><a id="21100" href="NbE.html#21100" class="Bound">Î</a> <a id="21102" class="Symbol">:</a> <a id="21104" href="NbE.html#1943" class="Datatype">Ctx</a><a id="21107" class="Symbol">}</a> <a id="21109" class="Symbol">{</a><a id="21110" href="NbE.html#21110" class="Bound">ð</a> <a id="21112" class="Symbol">:</a> <a id="21114" href="NbE.html#21100" class="Bound">Î</a> <a id="21116" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="21118" href="NbE.html#21089" class="Bound">T</a><a id="21119" class="Symbol">}</a>
             <a id="21134" class="Symbol">â</a> <a id="21136" href="NbE.html#19751" class="Datatype">Ne</a> <a id="21139" href="NbE.html#21089" class="Bound">T</a> <a id="21141" href="NbE.html#21100" class="Bound">Î</a> <a id="21143" href="NbE.html#21110" class="Bound">ð</a>
               <a id="21160" class="Comment">--------</a>
             <a id="21182" class="Symbol">â</a> <a id="21184" href="NbE.html#19810" class="Datatype">Nf</a> <a id="21187" href="NbE.html#21089" class="Bound">T</a> <a id="21189" href="NbE.html#21100" class="Bound">Î</a> <a id="21191" href="NbE.html#21110" class="Bound">ð</a>
</pre>
<p>With these defined, we can give a more formal (but still not final)
sketch of our algorithm:</p>
<pre><code>â¦ nat â§ = Nf nat

âáµ â Ne T â â¦ T â§
ââ¿áµáµ ð = ð
âË¢âáµ ð (a â â¦ S â§) = âáµ (ð ð) , ð = âË¢ a

âáµ â â¦ T â§ â Nf T
ââ¿áµáµ ð = ð
âË¢âáµ f = Î»x. âáµ (f(a)) , where a = âáµ x and x is &quot;fresh&quot;

âá¶áµË£ â â¦ Î â§
ââ = tt
âá¶áµË£,x:S = âá¶áµË£ , âË¢ x

nf(t) = âáµ (â¦ t â§ âá¶áµË£)</code></pre>
<p>The algorithm takes a term, evaluates it in an environment of
reflected variables, and then reifies it back to System T. However, this
sketch has an immediate issue to figure out â how to determine the
freshness condition for the variable x used when reifying at function
type.</p>
<p>As we are using de Brujin indices, this has a simple solution: just
extend the context. However, there is no context anywhere in our
definition of reification, so what context do we extend with the fresh
variable? This is actually intentional, because of an issue that is more
subtle: after we reflect the variable, it may later be reified in a
different context than it was created.</p>
<p>To address this, we introduce liftable terms. These are terms that
are generalized over contexts, and can be applied to any context Î.</p>
<p>An effect of this is that it could be that the resulting term is not
well defined. In fact, it will be the case that liftable neutral terms
can only be applied to extensions of the context under which they were
created. Because of this, liftable neutrals will need to return a
placeholder value (tt) for some contexts.</p>
We append the up arrow â for the liftable version of a System T
construct, and use ðÌ and ðÌ as the metavariables for liftable normal
terms and neutral terms respectively.
<pre class="Agda"><a id="22895" class="Comment">-- Liftable neutral term</a>
<a id="Neâ"></a><a id="22920" href="NbE.html#22920" class="Function">Neâ</a> <a id="22924" class="Symbol">:</a> <a id="22926" href="NbE.html#1051" class="Datatype">Type</a> <a id="22931" class="Symbol">â</a> <a id="22933" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="22937" href="NbE.html#22920" class="Function">Neâ</a> <a id="22941" href="NbE.html#22941" class="Bound">T</a> <a id="22943" class="Symbol">=</a> <a id="22945" class="Symbol">â</a> <a id="22947" class="Symbol">(</a><a id="22948" href="NbE.html#22948" class="Bound">Î</a> <a id="22950" class="Symbol">:</a> <a id="22952" href="NbE.html#1943" class="Datatype">Ctx</a><a id="22955" class="Symbol">)</a> <a id="22957" class="Symbol">â</a> <a id="22959" href="Data.Product.html#1806" class="Function">â[</a> <a id="22962" href="NbE.html#22962" class="Bound">t</a> <a id="22964" href="Data.Product.html#1806" class="Function">]</a> <a id="22966" href="NbE.html#19751" class="Datatype">Ne</a> <a id="22969" href="NbE.html#22941" class="Bound">T</a> <a id="22971" href="NbE.html#22948" class="Bound">Î</a> <a id="22973" href="NbE.html#22962" class="Bound">t</a> <a id="22975" href="Data.Sum.Base.html#734" class="Datatype Operator">â</a> <a id="22977" href="Agda.Builtin.Unit.html#164" class="Record">â¤</a>

<a id="22980" class="Comment">-- Liftable normal term</a>
<a id="Nfâ"></a><a id="23004" href="NbE.html#23004" class="Function">Nfâ</a> <a id="23008" class="Symbol">:</a> <a id="23010" href="NbE.html#1051" class="Datatype">Type</a> <a id="23015" class="Symbol">â</a> <a id="23017" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="23021" href="NbE.html#23004" class="Function">Nfâ</a> <a id="23025" href="NbE.html#23025" class="Bound">T</a> <a id="23027" class="Symbol">=</a> <a id="23029" class="Symbol">â</a> <a id="23031" class="Symbol">(</a><a id="23032" href="NbE.html#23032" class="Bound">Î</a> <a id="23034" class="Symbol">:</a> <a id="23036" href="NbE.html#1943" class="Datatype">Ctx</a><a id="23039" class="Symbol">)</a> <a id="23041" class="Symbol">â</a> <a id="23043" href="Data.Product.html#1806" class="Function">â[</a> <a id="23046" href="NbE.html#23046" class="Bound">t</a> <a id="23048" href="Data.Product.html#1806" class="Function">]</a> <a id="23050" href="NbE.html#19810" class="Datatype">Nf</a> <a id="23053" href="NbE.html#23025" class="Bound">T</a> <a id="23055" href="NbE.html#23032" class="Bound">Î</a> <a id="23057" href="NbE.html#23046" class="Bound">t</a>
</pre>
Application of liftable terms is overloaded, i.e.Â (ðÌ ðÌ)(Î) = ðÌ(Î)ðÌ(Î)
<pre class="Agda"><a id="_Â·â_"></a><a id="23146" href="NbE.html#23146" class="Function Operator">_Â·â_</a> <a id="23151" class="Symbol">:</a> <a id="23153" class="Symbol">â</a> <a id="23155" class="Symbol">{</a><a id="23156" href="NbE.html#23156" class="Bound">S</a> <a id="23158" href="NbE.html#23158" class="Bound">T</a> <a id="23160" class="Symbol">:</a> <a id="23162" href="NbE.html#1051" class="Datatype">Type</a><a id="23166" class="Symbol">}</a> <a id="23168" class="Symbol">â</a> <a id="23170" href="NbE.html#22920" class="Function">Neâ</a> <a id="23174" class="Symbol">(</a><a id="23175" href="NbE.html#23156" class="Bound">S</a> <a id="23177" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="23179" href="NbE.html#23158" class="Bound">T</a><a id="23180" class="Symbol">)</a> <a id="23182" class="Symbol">â</a>  <a id="23185" href="NbE.html#23004" class="Function">Nfâ</a> <a id="23189" href="NbE.html#23156" class="Bound">S</a> <a id="23191" class="Symbol">â</a> <a id="23193" href="NbE.html#22920" class="Function">Neâ</a> <a id="23197" href="NbE.html#23158" class="Bound">T</a>
<a id="23199" class="Symbol">(</a><a id="23200" href="NbE.html#23200" class="Bound">ðÌ</a> <a id="23203" href="NbE.html#23146" class="Function Operator">Â·â</a> <a id="23206" href="NbE.html#23206" class="Bound">ðÌ</a><a id="23208" class="Symbol">)</a> <a id="23210" href="NbE.html#23210" class="Bound">Î</a> <a id="23212" class="Keyword">with</a> <a id="23217" href="NbE.html#23200" class="Bound">ðÌ</a> <a id="23220" href="NbE.html#23210" class="Bound">Î</a>               <a id="23236" class="Symbol">|</a>          <a id="23247" href="NbE.html#23206" class="Bound">ðÌ</a> <a id="23250" href="NbE.html#23210" class="Bound">Î</a>
<a id="23252" class="Symbol">...</a>           <a id="23266" class="Symbol">|</a> <a id="23268" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="23273" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="23275" href="NbE.html#23275" class="Bound">ð</a> <a id="23277" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="23279" href="NbE.html#23279" class="Bound">pf-ð</a> <a id="23284" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="23286" class="Symbol">|</a> <a id="23288" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="23290" href="NbE.html#23290" class="Bound">ð</a> <a id="23292" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="23294" href="NbE.html#23294" class="Bound">pf-ð</a> <a id="23299" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="23301" class="Symbol">=</a>
      <a id="23309" class="Comment">-- Note that we need to provide proof</a>
      <a id="23353" class="Comment">-- that our resulting lifted term is</a>
      <a id="23396" class="Comment">-- a neutral term as well</a>
      <a id="23428" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="23433" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="23435" href="NbE.html#23275" class="Bound">ð</a> <a id="23437" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="23439" href="NbE.html#23290" class="Bound">ð</a> <a id="23441" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="23443" href="NbE.html#20183" class="InductiveConstructor">ne-app</a> <a id="23450" href="NbE.html#23279" class="Bound">pf-ð</a> <a id="23455" href="NbE.html#23294" class="Bound">pf-ð</a> <a id="23460" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
<a id="23462" class="Symbol">...</a>           <a id="23476" class="Symbol">|</a> <a id="23478" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="23483" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>           <a id="23496" class="Symbol">|</a> <a id="23498" class="Symbol">_</a>            <a id="23511" class="Symbol">=</a> <a id="23513" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="23518" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
</pre>
Since normalization by evaluation will need to be over liftable terms,
the concrete interpretation of the base type nat will in the end be
naturals with embedded liftable neutrals, which we can now finally
define in Agda, along with the interpretation of types.
<pre class="Agda"><a id="23796" class="Keyword">data</a> <a id="âÌ"></a><a id="23801" href="NbE.html#23801" class="Datatype">âÌ</a> <a id="23804" class="Symbol">:</a> <a id="23806" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="23810" class="Keyword">where</a>
  <a id="âÌ.zero"></a><a id="23818" href="NbE.html#23818" class="InductiveConstructor">zero</a> <a id="23823" class="Symbol">:</a> <a id="23825" href="NbE.html#23801" class="Datatype">âÌ</a>
  <a id="âÌ.suc"></a><a id="23830" href="NbE.html#23830" class="InductiveConstructor">suc</a> <a id="23834" class="Symbol">:</a> <a id="23836" href="NbE.html#23801" class="Datatype">âÌ</a> <a id="23839" class="Symbol">â</a> <a id="23841" href="NbE.html#23801" class="Datatype">âÌ</a>
  <a id="âÌ.ne"></a><a id="23846" href="NbE.html#23846" class="InductiveConstructor">ne</a> <a id="23849" class="Symbol">:</a> <a id="23851" href="NbE.html#22920" class="Function">Neâ</a> <a id="23855" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="23859" class="Symbol">â</a> <a id="23861" href="NbE.html#23801" class="Datatype">âÌ</a>

<a id="23865" class="Keyword">instance</a>
  <a id="â¦Typeâ§"></a><a id="23876" href="NbE.html#23876" class="Function">â¦Typeâ§</a> <a id="23883" class="Symbol">:</a> <a id="23885" href="NbE.html#15933" class="Record">Interpretation</a> <a id="23900" href="NbE.html#1051" class="Datatype">Type</a>
  <a id="23907" href="NbE.html#15983" class="Field Operator">Interpretation.â¦</a> <a id="23924" href="NbE.html#23876" class="Function">â¦Typeâ§</a> <a id="23931" href="NbE.html#15983" class="Field Operator">â§</a> <a id="23933" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="23937" class="Symbol">=</a> <a id="23939" href="NbE.html#23801" class="Datatype">âÌ</a>
  <a id="23944" href="NbE.html#15983" class="Field Operator">Interpretation.â¦</a> <a id="23961" href="NbE.html#23876" class="Function">â¦Typeâ§</a> <a id="23968" href="NbE.html#15983" class="Field Operator">â§</a> <a id="23970" class="Symbol">(</a><a id="23971" href="NbE.html#23971" class="Bound">S</a> <a id="23973" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="23975" href="NbE.html#23975" class="Bound">T</a><a id="23976" class="Symbol">)</a> <a id="23978" class="Symbol">=</a> <a id="23980" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="23982" href="NbE.html#23971" class="Bound">S</a> <a id="23984" href="NbE.html#15983" class="Field Operator">â§</a> <a id="23986" class="Symbol">â</a> <a id="23988" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="23990" href="NbE.html#23975" class="Bound">T</a> <a id="23992" href="NbE.html#15983" class="Field Operator">â§</a>
</pre>
<p>With this, we begin the most important part of normalization by
evaluation, the reflection and reification functions. These are mutually
recursive, and will be defined inductively on the type T</p>
<pre class="Agda"><a id="24202" class="Comment">-- Reflection of neutral terms of type T into</a>
<a id="24248" class="Comment">-- semantic objects in â¦Tâ§</a>
<a id="âáµ"></a><a id="24275" href="NbE.html#24275" class="Function">âáµ</a> <a id="24278" class="Symbol">:</a> <a id="24280" class="Symbol">{</a><a id="24281" href="NbE.html#24281" class="Bound">T</a> <a id="24283" class="Symbol">:</a> <a id="24285" href="NbE.html#1051" class="Datatype">Type</a><a id="24289" class="Symbol">}</a> <a id="24291" class="Symbol">â</a> <a id="24293" href="NbE.html#22920" class="Function">Neâ</a> <a id="24297" href="NbE.html#24281" class="Bound">T</a> <a id="24299" class="Symbol">â</a> <a id="24301" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="24303" href="NbE.html#24281" class="Bound">T</a> <a id="24305" href="NbE.html#15983" class="Field Operator">â§</a>

<a id="24308" class="Comment">-- Reification of semantic objects in â¦Tâ§ into</a>
<a id="24355" class="Comment">-- normal terms of type T</a>
<a id="âáµ"></a><a id="24381" href="NbE.html#24381" class="Function">âáµ</a> <a id="24384" class="Symbol">:</a> <a id="24386" class="Symbol">{</a><a id="24387" href="NbE.html#24387" class="Bound">T</a> <a id="24389" class="Symbol">:</a> <a id="24391" href="NbE.html#1051" class="Datatype">Type</a><a id="24395" class="Symbol">}</a> <a id="24397" class="Symbol">â</a> <a id="24399" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="24401" href="NbE.html#24387" class="Bound">T</a> <a id="24403" href="NbE.html#15983" class="Field Operator">â§</a> <a id="24405" class="Symbol">â</a> <a id="24407" href="NbE.html#23004" class="Function">Nfâ</a> <a id="24411" href="NbE.html#24387" class="Bound">T</a>
</pre>
As was the case in the sketch of the algorithm, the reflection of a
liftable neutral of type nat into the metalanguage (i.e.Â into a term âÌ)
is just the liftable neutral itself, embedded with the ne constructor.
<pre class="Agda"><a id="24638" href="NbE.html#24275" class="Function">âáµ</a> <a id="24641" class="Symbol">{</a><a id="24642" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="24645" class="Symbol">}</a> <a id="24647" href="NbE.html#24647" class="Bound">ðÌ</a> <a id="24650" class="Symbol">=</a> <a id="24652" href="NbE.html#23846" class="InductiveConstructor">ne</a> <a id="24655" href="NbE.html#24647" class="Bound">ðÌ</a>
</pre>
As for the reflection of neutral terms of type S â T into â¦Sâ§ â â¦Tâ§, we
reify a semantic object in â¦Sâ§ and then reflect the neutral term
resulting from the application of the reified object to the original
neutral term. Here, we use the liftable application operation we defined
earlier.
<pre class="Agda"><a id="24959" href="NbE.html#24275" class="Function">âáµ</a> <a id="24962" class="Symbol">{</a><a id="24963" href="NbE.html#24963" class="Bound">S</a> <a id="24965" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="24967" href="NbE.html#24967" class="Bound">T</a><a id="24968" class="Symbol">}</a> <a id="24970" href="NbE.html#24970" class="Bound">ðÌ</a> <a id="24973" href="NbE.html#24973" class="Bound">a</a> <a id="24975" class="Symbol">=</a> <a id="24977" href="NbE.html#24275" class="Function">âáµ</a> <a id="24980" class="Symbol">(</a><a id="24981" href="NbE.html#24970" class="Bound">ðÌ</a> <a id="24984" href="NbE.html#23146" class="Function Operator">Â·â</a> <a id="24987" href="NbE.html#24997" class="Function">ðÌ</a><a id="24989" class="Symbol">)</a> <a id="24991" class="Keyword">where</a> <a id="24997" href="NbE.html#24997" class="Function">ðÌ</a> <a id="25000" class="Symbol">=</a> <a id="25002" href="NbE.html#24381" class="Function">âáµ</a> <a id="25005" href="NbE.html#24973" class="Bound">a</a>
</pre>
For the reification of semantic objects of type â¦natâ§, which are our
naturals with embedded liftable neutrals (âÌ), we define the following
helper function.
<pre class="Agda"><a id="ââÌ"></a><a id="25177" href="NbE.html#25177" class="Function">ââÌ</a> <a id="25181" class="Symbol">:</a> <a id="25183" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="25185" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="25189" href="NbE.html#15983" class="Field Operator">â§</a> <a id="25191" class="Symbol">â</a> <a id="25193" href="NbE.html#23004" class="Function">Nfâ</a> <a id="25197" href="NbE.html#1070" class="InductiveConstructor">nat</a>
<a id="25201" href="NbE.html#25177" class="Function">ââÌ</a> <a id="25205" href="NbE.html#23818" class="InductiveConstructor">zero</a> <a id="25210" class="Symbol">=</a> <a id="25212" class="Symbol">(Î»</a> <a id="25215" href="NbE.html#25215" class="Bound">_</a> <a id="25217" class="Symbol">â</a> <a id="25219" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="25221" href="NbE.html#4377" class="InductiveConstructor">zero</a> <a id="25226" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="25228" href="NbE.html#20773" class="InductiveConstructor">nf-zero</a> <a id="25236" href="NbE.html#620" class="InductiveConstructor Operator">â©</a><a id="25237" class="Symbol">)</a>
</pre>
For the successor case, we reify the successor into a liftable successor
function (sucâ) applied to the reification of the argument to the
successor function
<pre class="Agda"><a id="25410" href="NbE.html#25177" class="Function">ââÌ</a> <a id="25414" class="Symbol">(</a><a id="25415" href="NbE.html#23830" class="InductiveConstructor">suc</a> <a id="25419" href="NbE.html#25419" class="Bound">n</a><a id="25420" class="Symbol">)</a> <a id="25422" class="Symbol">=</a> <a id="25424" href="NbE.html#25445" class="Function">sucâ</a> <a id="25429" class="Symbol">(</a><a id="25430" href="NbE.html#25177" class="Function">ââÌ</a> <a id="25434" href="NbE.html#25419" class="Bound">n</a><a id="25435" class="Symbol">)</a> <a id="25437" class="Keyword">where</a>
  <a id="25445" href="NbE.html#25445" class="Function">sucâ</a> <a id="25450" class="Symbol">:</a> <a id="25452" href="NbE.html#23004" class="Function">Nfâ</a> <a id="25456" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="25460" class="Symbol">â</a> <a id="25462" href="NbE.html#23004" class="Function">Nfâ</a> <a id="25466" href="NbE.html#1070" class="InductiveConstructor">nat</a>
  <a id="25472" href="NbE.html#25445" class="Function">sucâ</a> <a id="25477" href="NbE.html#25477" class="Bound">ðÌ</a> <a id="25480" href="NbE.html#25480" class="Bound">Î</a> <a id="25482" class="Symbol">=</a>
    <a id="25488" class="Keyword">let</a> <a id="25492" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="25494" href="NbE.html#25494" class="Bound">ð</a> <a id="25496" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="25498" href="NbE.html#25498" class="Bound">pf</a> <a id="25501" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="25503" class="Symbol">=</a> <a id="25505" href="NbE.html#25477" class="Bound">ðÌ</a> <a id="25508" href="NbE.html#25480" class="Bound">Î</a> <a id="25510" class="Keyword">in</a>
    <a id="25517" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="25519" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="25523" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="25525" href="NbE.html#25494" class="Bound">ð</a> <a id="25527" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="25529" href="NbE.html#20814" class="InductiveConstructor">nf-suc</a> <a id="25536" href="NbE.html#25498" class="Bound">pf</a> <a id="25539" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
</pre>
In the case of an embedded liftable neutral, we use <code>zero</code> as
a fallback if the liftable neutral is undefined at the context. Our
proof of soundness later will be proof that this fallback is not
necessary in our algorithm.
<pre class="Agda"><a id="25777" href="NbE.html#25177" class="Function">ââÌ</a> <a id="25781" class="Symbol">(</a><a id="25782" href="NbE.html#23846" class="InductiveConstructor">ne</a> <a id="25785" href="NbE.html#25785" class="Bound">ðÌ</a><a id="25787" class="Symbol">)</a> <a id="25789" href="NbE.html#25789" class="Bound">Î</a> <a id="25791" class="Keyword">with</a> <a id="25796" href="NbE.html#25785" class="Bound">ðÌ</a> <a id="25799" href="NbE.html#25789" class="Bound">Î</a>
<a id="25801" class="Symbol">...</a>            <a id="25816" class="Symbol">|</a> <a id="25818" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="25823" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="25825" href="NbE.html#25825" class="Bound">ð</a> <a id="25827" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="25829" href="NbE.html#25829" class="Bound">pf</a> <a id="25832" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="25834" class="Symbol">=</a> <a id="25836" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="25838" href="NbE.html#25825" class="Bound">ð</a> <a id="25840" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="25842" href="NbE.html#21073" class="InductiveConstructor">nf-neutral</a> <a id="25853" href="NbE.html#25829" class="Bound">pf</a> <a id="25856" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
<a id="25858" class="Symbol">...</a>            <a id="25873" class="Symbol">|</a> <a id="25875" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="25880" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>         <a id="25891" class="Symbol">=</a> <a id="25893" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="25895" href="NbE.html#4377" class="InductiveConstructor">zero</a> <a id="25900" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="25902" href="NbE.html#20773" class="InductiveConstructor">nf-zero</a> <a id="25910" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
</pre>
For reification at function type, we will need the following function
which creates a âfreshâ variable for a context Î. Really, this is just
the de Brujin index 0 for a context <code>Î , x:S</code>. This will be a
liftable variable that can be used in a context that is an extension of
<code>Î , x:S</code> (and is undefined otherwise).
<pre class="Agda"><a id="ðÌ"></a><a id="26236" href="NbE.html#26236" class="Function">ðÌ</a> <a id="26239" class="Symbol">:</a> <a id="26241" class="Symbol">(</a><a id="26242" href="NbE.html#26242" class="Bound">S</a> <a id="26244" class="Symbol">:</a> <a id="26246" href="NbE.html#1051" class="Datatype">Type</a><a id="26250" class="Symbol">)</a> <a id="26252" class="Symbol">â</a> <a id="26254" href="NbE.html#1943" class="Datatype">Ctx</a> <a id="26258" class="Symbol">â</a> <a id="26260" href="NbE.html#22920" class="Function">Neâ</a> <a id="26264" href="NbE.html#26242" class="Bound">S</a>
<a id="26266" href="NbE.html#26236" class="Function">ðÌ</a> <a id="26269" href="NbE.html#26269" class="Bound">S</a> <a id="26271" href="NbE.html#26271" class="Bound">Î</a> <a id="26273" href="NbE.html#26273" class="Bound">Îâ²</a>
  <a id="26278" class="Keyword">with</a> <a id="26283" href="NbE.html#26273" class="Bound">Îâ²</a> <a id="26286" href="NbE.html#3153" class="Function Operator">â¤?</a> <a id="26289" class="Symbol">(</a><a id="26290" href="NbE.html#26271" class="Bound">Î</a> <a id="26292" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="26294" href="NbE.html#26269" class="Bound">S</a><a id="26295" class="Symbol">)</a>
<a id="26297" class="Symbol">...</a>  <a id="26302" class="Symbol">|</a> <a id="26304" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="26307" class="Symbol">_</a>          <a id="26318" class="Symbol">=</a> <a id="26320" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="26325" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
<a id="26328" class="Symbol">...</a>  <a id="26333" class="Symbol">|</a> <a id="26335" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="26339" href="NbE.html#26339" class="Bound">pf</a>
  <a id="26344" class="Comment">-- The variable x in the extended context Îâ² can</a>
  <a id="26395" class="Comment">-- be accessed through the renaming between Îâ² and</a>
  <a id="26448" class="Comment">-- Î , S</a>
  <a id="26459" class="Keyword">with</a> <a id="26464" href="NbE.html#9583" class="Function">ren-â¤</a> <a id="26470" href="NbE.html#26339" class="Bound">pf</a>
<a id="26473" class="Symbol">...</a>  <a id="26478" class="Symbol">|</a> <a id="26480" class="Symbol">_</a> <a id="26482" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="26484" href="NbE.html#26484" class="Bound">x</a>         <a id="26494" class="Symbol">=</a> <a id="26496" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="26501" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="26503" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="26505" href="NbE.html#26484" class="Bound">x</a> <a id="26507" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="26509" href="NbE.html#20111" class="InductiveConstructor">ne-var</a> <a id="26516" href="NbE.html#26484" class="Bound">x</a> <a id="26518" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
</pre>
For our reification function, we reuse ââÌ at type nat.
<pre class="Agda"><a id="26589" href="NbE.html#24381" class="Function">âáµ</a> <a id="26592" class="Symbol">{</a><a id="26593" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="26596" class="Symbol">}</a> <a id="26598" class="Symbol">=</a> <a id="26600" href="NbE.html#25177" class="Function">ââÌ</a>
</pre>
For the eification of semantic objects of type â¦S â Tâ§ (which are
functions of type â¦Sâ§ â â¦Tâ§), the resulting normal term is an
abstraction over the reification of the function applied to the
reflection of the bound variable, for which we use ðÌ
<pre class="Agda"><a id="26864" href="NbE.html#24381" class="Function">âáµ</a> <a id="26867" class="Symbol">{</a><a id="26868" href="NbE.html#26868" class="Bound">S</a> <a id="26870" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="26872" href="NbE.html#26872" class="Bound">T</a><a id="26873" class="Symbol">}</a> <a id="26875" href="NbE.html#26875" class="Bound">f</a> <a id="26877" href="NbE.html#26877" class="Bound">Î</a> <a id="26879" class="Symbol">=</a>
  <a id="26883" class="Keyword">let</a> <a id="26887" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="26889" href="NbE.html#26889" class="Bound">ð</a> <a id="26891" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="26893" href="NbE.html#26893" class="Bound">pf</a> <a id="26896" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="26898" class="Symbol">=</a> <a id="26900" href="NbE.html#24381" class="Function">âáµ</a> <a id="26903" class="Symbol">(</a><a id="26904" href="NbE.html#26875" class="Bound">f</a> <a id="26906" href="NbE.html#26950" class="Function">a</a><a id="26907" class="Symbol">)</a> <a id="26909" class="Symbol">(</a><a id="26910" href="NbE.html#26877" class="Bound">Î</a> <a id="26912" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="26914" href="NbE.html#26868" class="Bound">S</a><a id="26915" class="Symbol">)</a> <a id="26917" class="Keyword">in</a>
  <a id="26922" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="26924" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="26926" href="NbE.html#26889" class="Bound">ð</a> <a id="26928" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="26930" href="NbE.html#20934" class="InductiveConstructor">nf-abs</a> <a id="26937" href="NbE.html#26893" class="Bound">pf</a> <a id="26940" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
  <a id="26944" class="Keyword">where</a> <a id="26950" href="NbE.html#26950" class="Function">a</a> <a id="26952" class="Symbol">=</a> <a id="26954" href="NbE.html#24275" class="Function">âáµ</a> <a id="26957" class="Symbol">(</a><a id="26958" href="NbE.html#26236" class="Function">ðÌ</a> <a id="26961" href="NbE.html#26868" class="Bound">S</a> <a id="26963" href="NbE.html#26877" class="Bound">Î</a><a id="26964" class="Symbol">)</a>
</pre>
With these two functions in place, we can define the reflection of a
context Î into an environment. This will be the reflected environment
over which a typed term in the context Î will be evaluated.
<pre class="Agda"><a id="âá¶áµË£"></a><a id="27178" href="NbE.html#27178" class="Function">âá¶áµË£</a> <a id="27183" class="Symbol">:</a> <a id="27185" class="Symbol">â</a> <a id="27187" class="Symbol">(</a><a id="27188" href="NbE.html#27188" class="Bound">Î</a> <a id="27190" class="Symbol">:</a> <a id="27192" href="NbE.html#1943" class="Datatype">Ctx</a><a id="27195" class="Symbol">)</a> <a id="27197" class="Symbol">â</a> <a id="27199" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="27201" href="NbE.html#27188" class="Bound">Î</a> <a id="27203" href="NbE.html#15983" class="Field Operator">â§</a>
<a id="27205" href="NbE.html#27178" class="Function">âá¶áµË£</a> <a id="27210" href="NbE.html#1961" class="InductiveConstructor">â</a>       <a id="27218" class="Symbol">=</a> <a id="27220" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
<a id="27223" href="NbE.html#27178" class="Function">âá¶áµË£</a> <a id="27228" class="Symbol">(</a><a id="27229" href="NbE.html#27229" class="Bound">Î</a> <a id="27231" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="27233" href="NbE.html#27233" class="Bound">T</a><a id="27234" class="Symbol">)</a> <a id="27236" class="Symbol">=</a> <a id="27238" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="27240" href="NbE.html#27178" class="Function">âá¶áµË£</a> <a id="27245" href="NbE.html#27229" class="Bound">Î</a>  <a id="27248" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="27250" href="NbE.html#24275" class="Function">âáµ</a> <a id="27253" class="Symbol">(</a><a id="27254" href="NbE.html#26236" class="Function">ðÌ</a> <a id="27257" href="NbE.html#27233" class="Bound">T</a> <a id="27259" href="NbE.html#27229" class="Bound">Î</a><a id="27260" class="Symbol">)</a> <a id="27262" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
</pre>
We also need to use reflection and reification to define the
interpretation of primitive recursion in System T, which must work with
liftable neutrals (as our interpretation of nat now has them embedded)
<pre class="Agda"><a id="recâ"></a><a id="27481" href="NbE.html#27481" class="Function">recâ</a> <a id="27486" class="Symbol">:</a> <a id="27488" class="Symbol">â</a> <a id="27490" class="Symbol">{</a><a id="27491" href="NbE.html#27491" class="Bound">T</a> <a id="27493" class="Symbol">:</a> <a id="27495" href="NbE.html#1051" class="Datatype">Type</a><a id="27499" class="Symbol">}</a> <a id="27501" class="Symbol">â</a> <a id="27503" href="NbE.html#23004" class="Function">Nfâ</a> <a id="27507" href="NbE.html#27491" class="Bound">T</a> <a id="27509" class="Symbol">â</a> <a id="27511" href="NbE.html#23004" class="Function">Nfâ</a> <a id="27515" class="Symbol">(</a><a id="27516" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="27520" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="27522" href="NbE.html#27491" class="Bound">T</a> <a id="27524" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="27526" href="NbE.html#27491" class="Bound">T</a><a id="27527" class="Symbol">)</a> <a id="27529" class="Symbol">â</a> <a id="27531" href="NbE.html#22920" class="Function">Neâ</a> <a id="27535" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="27539" class="Symbol">â</a> <a id="27541" href="NbE.html#22920" class="Function">Neâ</a> <a id="27545" href="NbE.html#27491" class="Bound">T</a>
<a id="27547" href="NbE.html#27481" class="Function">recâ</a> <a id="27552" href="NbE.html#27552" class="Bound">ðÌz</a> <a id="27556" href="NbE.html#27556" class="Bound">ðÌs</a> <a id="27560" href="NbE.html#27560" class="Bound">ðÌ</a> <a id="27563" href="NbE.html#27563" class="Bound">Î</a> <a id="27565" class="Keyword">with</a> <a id="27570" href="NbE.html#27560" class="Bound">ðÌ</a> <a id="27573" href="NbE.html#27563" class="Bound">Î</a>
<a id="27575" class="Symbol">...</a> <a id="27579" class="Symbol">|</a> <a id="27581" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="27586" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="27589" class="Symbol">=</a> <a id="27591" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="27596" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
<a id="27599" class="Symbol">...</a> <a id="27603" class="Symbol">|</a> <a id="27605" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="27610" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="27612" href="NbE.html#27612" class="Bound">ð</a> <a id="27614" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="27616" href="NbE.html#27616" class="Bound">pf-ð</a> <a id="27621" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="27623" class="Symbol">=</a>
  <a id="27627" class="Keyword">let</a> <a id="27631" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="27633" href="NbE.html#27633" class="Bound">ðz</a> <a id="27636" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="27638" href="NbE.html#27638" class="Bound">pf-ðz</a> <a id="27644" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="27646" class="Symbol">=</a> <a id="27648" class="Bound">ðÌz</a> <a id="27652" class="Bound">Î</a> <a id="27654" class="Keyword">in</a>
  <a id="27659" class="Keyword">let</a> <a id="27663" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="27665" href="NbE.html#27665" class="Bound">ðs</a> <a id="27668" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="27670" href="NbE.html#27670" class="Bound">pf-ðs</a> <a id="27676" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="27678" class="Symbol">=</a> <a id="27680" class="Bound">ðÌs</a> <a id="27684" class="Bound">Î</a> <a id="27686" class="Keyword">in</a>
  <a id="27691" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="27696" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="27698" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="27702" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="27704" href="NbE.html#27633" class="Bound">ðz</a> <a id="27707" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="27709" href="NbE.html#27665" class="Bound">ðs</a> <a id="27712" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="27714" href="NbE.html#27612" class="Bound">ð</a> <a id="27716" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="27718" href="NbE.html#20334" class="InductiveConstructor">ne-rec</a> <a id="27725" href="NbE.html#27638" class="Bound">pf-ðz</a> <a id="27731" href="NbE.html#27670" class="Bound">pf-ðs</a> <a id="27737" href="NbE.html#27616" class="Bound">pf-ð</a> <a id="27742" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>

<a id="â¦recâ§"></a><a id="27745" href="NbE.html#27745" class="Function">â¦recâ§</a> <a id="27751" class="Symbol">:</a> <a id="27753" class="Symbol">â</a> <a id="27755" class="Symbol">{</a><a id="27756" href="NbE.html#27756" class="Bound">T</a> <a id="27758" class="Symbol">:</a> <a id="27760" href="NbE.html#1051" class="Datatype">Type</a><a id="27764" class="Symbol">}</a> <a id="27766" class="Symbol">â</a> <a id="27768" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="27770" href="NbE.html#27756" class="Bound">T</a> <a id="27772" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="27774" class="Symbol">(</a><a id="27775" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="27779" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="27781" href="NbE.html#27756" class="Bound">T</a> <a id="27783" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="27785" href="NbE.html#27756" class="Bound">T</a><a id="27786" class="Symbol">)</a> <a id="27788" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="27790" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="27794" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="27796" href="NbE.html#27756" class="Bound">T</a> <a id="27798" href="NbE.html#15983" class="Field Operator">â§</a>
<a id="27800" href="NbE.html#27745" class="Function">â¦recâ§</a> <a id="27806" href="NbE.html#27806" class="Bound">z</a> <a id="27808" href="NbE.html#27808" class="Bound">s</a> <a id="27810" href="NbE.html#23818" class="InductiveConstructor">zero</a>       <a id="27821" class="Symbol">=</a> <a id="27823" href="NbE.html#27806" class="Bound">z</a>
<a id="27825" href="NbE.html#27745" class="Function">â¦recâ§</a> <a id="27831" href="NbE.html#27831" class="Bound">z</a> <a id="27833" href="NbE.html#27833" class="Bound">s</a> <a id="27835" class="Symbol">(</a><a id="27836" href="NbE.html#23830" class="InductiveConstructor">suc</a> <a id="27840" href="NbE.html#27840" class="Bound">n</a><a id="27841" class="Symbol">)</a>    <a id="27846" class="Symbol">=</a> <a id="27848" href="NbE.html#27833" class="Bound">s</a> <a id="27850" href="NbE.html#27840" class="Bound">n</a> <a id="27852" class="Symbol">(</a><a id="27853" href="NbE.html#27745" class="Function">â¦recâ§</a> <a id="27859" href="NbE.html#27831" class="Bound">z</a> <a id="27861" href="NbE.html#27833" class="Bound">s</a> <a id="27863" href="NbE.html#27840" class="Bound">n</a><a id="27864" class="Symbol">)</a>
<a id="27866" href="NbE.html#27745" class="Function">â¦recâ§</a> <a id="27872" class="Symbol">{</a><a id="27873" href="NbE.html#27873" class="Bound">T</a><a id="27874" class="Symbol">}</a> <a id="27876" href="NbE.html#27876" class="Bound">z</a> <a id="27878" href="NbE.html#27878" class="Bound">s</a> <a id="27880" class="Symbol">(</a><a id="27881" href="NbE.html#23846" class="InductiveConstructor">ne</a> <a id="27884" href="NbE.html#27884" class="Bound">ðÌ</a><a id="27886" class="Symbol">)</a> <a id="27888" class="Symbol">=</a>
  <a id="27892" href="NbE.html#24275" class="Function">âáµ</a> <a id="27895" class="Symbol">(</a><a id="27896" href="NbE.html#27481" class="Function">recâ</a> <a id="27901" href="NbE.html#27919" class="Function">ðÌz</a> <a id="27905" href="NbE.html#27932" class="Function">ðÌs</a> <a id="27909" href="NbE.html#27884" class="Bound">ðÌ</a><a id="27911" class="Symbol">)</a> <a id="27913" class="Keyword">where</a> <a id="27919" href="NbE.html#27919" class="Function">ðÌz</a> <a id="27923" class="Symbol">=</a> <a id="27925" href="NbE.html#24381" class="Function">âáµ</a> <a id="27928" href="NbE.html#27876" class="Bound">z</a> <a id="27930" class="Symbol">;</a> <a id="27932" href="NbE.html#27932" class="Function">ðÌs</a> <a id="27936" class="Symbol">=</a> <a id="27938" href="NbE.html#24381" class="Function">âáµ</a> <a id="27941" href="NbE.html#27878" class="Bound">s</a>
</pre>
Now that we have a concrete interpretation of types, and an
interpretation for primitive recursion, we can define the corresponding
interpretations of the lookup and typing judgements.
<pre class="Agda"><a id="â¦_âÎâ§"></a><a id="28141" href="NbE.html#28141" class="Function Operator">â¦_âÎâ§</a> <a id="28147" class="Symbol">:</a> <a id="28149" class="Symbol">â</a> <a id="28151" class="Symbol">{</a><a id="28152" href="NbE.html#28152" class="Bound">Î</a> <a id="28154" class="Symbol">:</a> <a id="28156" href="NbE.html#1943" class="Datatype">Ctx</a><a id="28159" class="Symbol">}</a> <a id="28161" class="Symbol">{</a><a id="28162" href="NbE.html#28162" class="Bound">T</a> <a id="28164" class="Symbol">:</a> <a id="28166" href="NbE.html#1051" class="Datatype">Type</a><a id="28170" class="Symbol">}</a> <a id="28172" class="Symbol">â</a> <a id="28174" href="NbE.html#28152" class="Bound">Î</a> <a id="28176" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="28178" href="NbE.html#28162" class="Bound">T</a> <a id="28180" class="Symbol">â</a> <a id="28182" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="28184" href="NbE.html#28152" class="Bound">Î</a> <a id="28186" href="NbE.html#15983" class="Field Operator">â§</a> <a id="28188" class="Symbol">â</a> <a id="28190" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="28192" href="NbE.html#28162" class="Bound">T</a> <a id="28194" href="NbE.html#15983" class="Field Operator">â§</a>
<a id="28196" href="NbE.html#28141" class="Function Operator">â¦_âÎâ§</a> <a id="28202" class="Symbol">{</a><a id="28203" href="NbE.html#28203" class="Bound">Î</a> <a id="28205" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="28207" href="NbE.html#28207" class="Bound">T</a><a id="28208" class="Symbol">}</a> <a id="28210" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="28213" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="28215" class="Symbol">_</a> <a id="28217" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="28219" href="NbE.html#28219" class="Bound">a</a> <a id="28221" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>     <a id="28227" class="Symbol">=</a> <a id="28229" href="NbE.html#28219" class="Bound">a</a>
<a id="28231" href="NbE.html#28141" class="Function Operator">â¦_âÎâ§</a> <a id="28237" class="Symbol">{</a><a id="28238" href="NbE.html#28238" class="Bound">Î</a> <a id="28240" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="28242" href="NbE.html#28242" class="Bound">T</a><a id="28243" class="Symbol">}</a> <a id="28245" class="Symbol">(</a><a id="28246" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="28249" href="NbE.html#28249" class="Bound">x</a><a id="28250" class="Symbol">)</a> <a id="28252" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="28254" href="NbE.html#28254" class="Bound">Ï</a> <a id="28256" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="28258" class="Symbol">_</a> <a id="28260" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="28262" class="Symbol">=</a> <a id="28264" href="NbE.html#28141" class="Function Operator">â¦</a> <a id="28266" href="NbE.html#28249" class="Bound">x</a> <a id="28268" href="NbE.html#28141" class="Function Operator">âÎâ§</a> <a id="28272" href="NbE.html#28254" class="Bound">Ï</a>

<a id="â¦â¢_â§"></a><a id="28275" href="NbE.html#28275" class="Function Operator">â¦â¢_â§</a> <a id="28280" class="Symbol">:</a> <a id="28282" class="Symbol">â</a> <a id="28284" class="Symbol">{</a><a id="28285" href="NbE.html#28285" class="Bound">Î</a> <a id="28287" class="Symbol">:</a> <a id="28289" href="NbE.html#1943" class="Datatype">Ctx</a><a id="28292" class="Symbol">}</a> <a id="28294" class="Symbol">{</a><a id="28295" href="NbE.html#28295" class="Bound">T</a> <a id="28297" class="Symbol">:</a> <a id="28299" href="NbE.html#1051" class="Datatype">Type</a><a id="28303" class="Symbol">}</a> <a id="28305" class="Symbol">â</a> <a id="28307" href="NbE.html#28285" class="Bound">Î</a> <a id="28309" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="28311" href="NbE.html#28295" class="Bound">T</a> <a id="28313" class="Symbol">â</a> <a id="28315" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="28317" href="NbE.html#28285" class="Bound">Î</a> <a id="28319" href="NbE.html#15983" class="Field Operator">â§</a> <a id="28321" class="Symbol">â</a> <a id="28323" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="28325" href="NbE.html#28295" class="Bound">T</a> <a id="28327" href="NbE.html#15983" class="Field Operator">â§</a>
<a id="28329" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="28332" href="NbE.html#4377" class="InductiveConstructor">zero</a> <a id="28337" href="NbE.html#28275" class="Function Operator">â§</a> <a id="28339" class="Symbol">_</a>  <a id="28342" class="Symbol">=</a> <a id="28344" href="NbE.html#23818" class="InductiveConstructor">zero</a>
<a id="28349" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="28352" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="28356" href="NbE.html#28275" class="Function Operator">â§</a> <a id="28358" class="Symbol">_</a>   <a id="28362" class="Symbol">=</a> <a id="28364" href="NbE.html#23830" class="InductiveConstructor">suc</a>
<a id="28368" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="28371" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="28375" href="NbE.html#28275" class="Function Operator">â§</a> <a id="28377" class="Symbol">_</a>   <a id="28381" class="Symbol">=</a> <a id="28383" href="NbE.html#27745" class="Function">â¦recâ§</a>
<a id="28389" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="28392" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="28394" href="NbE.html#28394" class="Bound">x</a> <a id="28396" href="NbE.html#28275" class="Function Operator">â§</a>     <a id="28402" class="Symbol">=</a> <a id="28404" href="NbE.html#28141" class="Function Operator">â¦</a> <a id="28406" href="NbE.html#28394" class="Bound">x</a> <a id="28408" href="NbE.html#28141" class="Function Operator">âÎâ§</a>
<a id="28412" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="28415" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="28417" href="NbE.html#28417" class="Bound">t</a> <a id="28419" href="NbE.html#28275" class="Function Operator">â§</a> <a id="28421" href="NbE.html#28421" class="Bound">Ï</a> <a id="28423" href="NbE.html#28423" class="Bound">a</a> <a id="28425" class="Symbol">=</a> <a id="28427" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="28430" href="NbE.html#28417" class="Bound">t</a> <a id="28432" href="NbE.html#28275" class="Function Operator">â§</a> <a id="28434" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="28436" href="NbE.html#28421" class="Bound">Ï</a> <a id="28438" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="28440" href="NbE.html#28423" class="Bound">a</a> <a id="28442" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
<a id="28444" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="28447" href="NbE.html#28447" class="Bound">r</a> <a id="28449" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="28451" href="NbE.html#28451" class="Bound">s</a> <a id="28453" href="NbE.html#28275" class="Function Operator">â§</a> <a id="28455" href="NbE.html#28455" class="Bound">Ï</a> <a id="28457" class="Symbol">=</a> <a id="28459" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="28462" href="NbE.html#28447" class="Bound">r</a> <a id="28464" href="NbE.html#28275" class="Function Operator">â§</a> <a id="28466" href="NbE.html#28455" class="Bound">Ï</a> <a id="28468" class="Symbol">(</a><a id="28469" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="28472" href="NbE.html#28451" class="Bound">s</a> <a id="28474" href="NbE.html#28275" class="Function Operator">â§</a>  <a id="28477" href="NbE.html#28455" class="Bound">Ï</a><a id="28478" class="Symbol">)</a>
</pre>
Finally, the algorithm for normalization by evaluation is as follows
<pre class="Agda"><a id="nbe"></a><a id="28562" href="NbE.html#28562" class="Function">nbe</a> <a id="28566" class="Symbol">:</a> <a id="28568" class="Symbol">â</a> <a id="28570" class="Symbol">{</a><a id="28571" href="NbE.html#28571" class="Bound">Î</a> <a id="28573" class="Symbol">:</a> <a id="28575" href="NbE.html#1943" class="Datatype">Ctx</a><a id="28578" class="Symbol">}</a> <a id="28580" class="Symbol">{</a><a id="28581" href="NbE.html#28581" class="Bound">T</a> <a id="28583" class="Symbol">:</a> <a id="28585" href="NbE.html#1051" class="Datatype">Type</a><a id="28589" class="Symbol">}</a> <a id="28591" class="Symbol">â</a> <a id="28593" href="NbE.html#28571" class="Bound">Î</a> <a id="28595" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="28597" href="NbE.html#28581" class="Bound">T</a> <a id="28599" class="Symbol">â</a> <a id="28601" href="Data.Product.html#1806" class="Function">â[</a> <a id="28604" href="NbE.html#28604" class="Bound">t</a> <a id="28606" href="Data.Product.html#1806" class="Function">]</a> <a id="28608" href="NbE.html#19810" class="Datatype">Nf</a> <a id="28611" href="NbE.html#28581" class="Bound">T</a> <a id="28613" href="NbE.html#28571" class="Bound">Î</a> <a id="28615" href="NbE.html#28604" class="Bound">t</a>
<a id="28617" href="NbE.html#28562" class="Function">nbe</a> <a id="28621" class="Symbol">{</a><a id="28622" href="NbE.html#28622" class="Bound">Î</a><a id="28623" class="Symbol">}</a> <a id="28625" href="NbE.html#28625" class="Bound">t</a> <a id="28627" class="Symbol">=</a> <a id="28629" href="NbE.html#24381" class="Function">âáµ</a> <a id="28632" class="Symbol">(</a><a id="28633" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="28636" href="NbE.html#28625" class="Bound">t</a> <a id="28638" href="NbE.html#28275" class="Function Operator">â§</a> <a id="28640" class="Symbol">(</a><a id="28641" href="NbE.html#27178" class="Function">âá¶áµË£</a> <a id="28646" href="NbE.html#28622" class="Bound">Î</a><a id="28647" class="Symbol">))</a> <a id="28650" href="NbE.html#28622" class="Bound">Î</a>

<a id="nf"></a><a id="28653" href="NbE.html#28653" class="Function">nf</a> <a id="28656" class="Symbol">:</a> <a id="28658" class="Symbol">â</a> <a id="28660" class="Symbol">{</a><a id="28661" href="NbE.html#28661" class="Bound">Î</a> <a id="28663" class="Symbol">:</a> <a id="28665" href="NbE.html#1943" class="Datatype">Ctx</a><a id="28668" class="Symbol">}</a> <a id="28670" class="Symbol">{</a><a id="28671" href="NbE.html#28671" class="Bound">T</a> <a id="28673" class="Symbol">:</a> <a id="28675" href="NbE.html#1051" class="Datatype">Type</a><a id="28679" class="Symbol">}</a> <a id="28681" class="Symbol">â</a> <a id="28683" href="NbE.html#28661" class="Bound">Î</a> <a id="28685" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="28687" href="NbE.html#28671" class="Bound">T</a> <a id="28689" class="Symbol">â</a> <a id="28691" href="NbE.html#28661" class="Bound">Î</a> <a id="28693" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="28695" href="NbE.html#28671" class="Bound">T</a>
<a id="28697" href="NbE.html#28653" class="Function">nf</a> <a id="28700" href="NbE.html#28700" class="Bound">t</a> <a id="28702" class="Symbol">=</a> <a id="28704" class="Keyword">let</a> <a id="28708" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="28710" href="NbE.html#28710" class="Bound">tâ²</a> <a id="28713" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="28715" class="Symbol">_</a> <a id="28717" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="28719" class="Symbol">=</a> <a id="28721" href="NbE.html#28562" class="Function">nbe</a> <a id="28725" href="NbE.html#28700" class="Bound">t</a> <a id="28727" class="Keyword">in</a> <a id="28730" href="NbE.html#28710" class="Bound">tâ²</a>
</pre>
<p>And here we have some examples of the algorithm in action, reusing
our examples from <a href="./SystemT.lagda.md">SystemT</a></p>
<pre class="Agda"><a id="28862" class="Comment">-- normal form of (Î»x. x) zero is zero</a>
<a id="nf-ex1"></a><a id="28901" href="NbE.html#28901" class="Function">nf-ex1</a> <a id="28908" class="Symbol">:</a> <a id="28910" href="NbE.html#28653" class="Function">nf</a> <a id="28913" href="NbE.html#4966" class="Function">ex1</a> <a id="28917" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="28919" class="InductiveConstructor">zero</a>
<a id="28924" href="NbE.html#28901" class="Function">nf-ex1</a> <a id="28931" class="Keyword">with</a> <a id="28936" href="NbE.html#4966" class="Function">ex1</a>
<a id="28940" href="NbE.html#28901" class="Function">...</a>       <a id="28950" class="Symbol">|</a> <a id="28952" class="Symbol">_</a>   <a id="28956" class="Symbol">=</a> <a id="28958" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="28964" class="Comment">-- normal form of suc ((Î»x. x) zero) is suc zero</a>
<a id="nf-ex2"></a><a id="29013" href="NbE.html#29013" class="Function">nf-ex2</a> <a id="29020" class="Symbol">:</a> <a id="29022" href="NbE.html#28653" class="Function">nf</a> <a id="29025" href="NbE.html#5010" class="Function">ex2</a> <a id="29029" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="29031" class="Symbol">(</a><a id="29032" class="InductiveConstructor">suc</a> <a id="29036" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="29038" class="InductiveConstructor">zero</a><a id="29042" class="Symbol">)</a>
<a id="29044" href="NbE.html#29013" class="Function">nf-ex2</a> <a id="29051" class="Keyword">with</a> <a id="29056" href="NbE.html#5010" class="Function">ex2</a>
<a id="29060" href="NbE.html#29013" class="Function">...</a>       <a id="29070" class="Symbol">|</a> <a id="29072" class="Symbol">_</a>   <a id="29076" class="Symbol">=</a> <a id="29078" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="29084" class="Comment">-- normal form of x:nat, y:nat â¢ suc ((Î»z. suc y) x)</a>
<a id="29137" class="Comment">-- is x:nat, y:nat â¢ suc (suc y)</a>
<a id="nf-ex3"></a><a id="29170" href="NbE.html#29170" class="Function">nf-ex3</a> <a id="29177" class="Symbol">:</a> <a id="29179" href="NbE.html#28653" class="Function">nf</a> <a id="29182" href="NbE.html#5065" class="Function">ex3</a> <a id="29186" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="29188" class="Symbol">(</a><a id="29189" class="InductiveConstructor">suc</a> <a id="29193" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="29195" class="Symbol">(</a><a id="29196" class="InductiveConstructor">suc</a> <a id="29200" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="29202" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="29204" class="Symbol">(</a><a id="29205" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="29207" class="Symbol">)))</a>
<a id="29211" href="NbE.html#29170" class="Function">nf-ex3</a> <a id="29218" class="Keyword">with</a> <a id="29223" href="NbE.html#5065" class="Function">ex3</a>
<a id="29227" href="NbE.html#29170" class="Function">...</a>       <a id="29237" class="Symbol">|</a> <a id="29239" class="Symbol">_</a>   <a id="29243" class="Symbol">=</a> <a id="29245" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<p>As for the soundness properties we want from this algorithm: -
<code>Î â¢ nf(t) : T</code> (well-typedness) We are using an
intrinsically typed representation of terms, so this property is given
to us automatically</p>
<ul>
<li><p><code>â¦ nf(t) â§ = â¦ t â§</code> (preservation of meaning) We will
prove this in the following section using definitional equality</p></li>
<li><p><code>nf(nf(t)) = nf(t)</code> (idempotency) This follows
directly from the preservation of meaning and completeness properties of
the algorithm:</p>
<p>By the soundness property of preservation of meaning, we have
<code>Î â¢ nf t = t : T</code>, which implies
<code>nf (nf t) = nf(t)</code> by completeness</p></li>
</ul>
<p>For proving the completeness property of NbE, our goal is to prove
that two programs with the same meaning (i.e.Â definitionally equal) have
the same normal form:</p>
<pre><code>Î â¢ t = tâ² : T implies nf(t) = nf(tâ²)</code></pre>
<p>We can prove this using some equational reasoning paired with the
definitional equality of two terms impliying they are semantically equal
(included as a postulate for now)</p>
<pre class="Agda"><a id="30305" class="Keyword">postulate</a>
  <a id="==ââ¦â¡â§"></a><a id="30317" href="NbE.html#30317" class="Postulate">==ââ¦â¡â§</a> <a id="30324" class="Symbol">:</a> <a id="30326" class="Symbol">â</a> <a id="30328" class="Symbol">{</a><a id="30329" href="NbE.html#30329" class="Bound">Î</a> <a id="30331" class="Symbol">:</a> <a id="30333" href="NbE.html#1943" class="Datatype">Ctx</a><a id="30336" class="Symbol">}</a> <a id="30338" class="Symbol">{</a><a id="30339" href="NbE.html#30339" class="Bound">T</a> <a id="30341" class="Symbol">:</a> <a id="30343" href="NbE.html#1051" class="Datatype">Type</a><a id="30347" class="Symbol">}</a> <a id="30349" class="Symbol">{</a><a id="30350" href="NbE.html#30350" class="Bound">t</a> <a id="30352" href="NbE.html#30352" class="Bound">tâ²</a> <a id="30355" class="Symbol">:</a> <a id="30357" href="NbE.html#30329" class="Bound">Î</a> <a id="30359" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="30361" href="NbE.html#30339" class="Bound">T</a><a id="30362" class="Symbol">}</a> <a id="30364" class="Symbol">{</a><a id="30365" href="NbE.html#30365" class="Bound">Ï</a> <a id="30367" class="Symbol">:</a> <a id="30369" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="30371" href="NbE.html#30329" class="Bound">Î</a> <a id="30373" href="NbE.html#15983" class="Field Operator">â§</a><a id="30374" class="Symbol">}</a>
         <a id="30385" class="Symbol">â</a> <a id="30387" href="NbE.html#30350" class="Bound">t</a> <a id="30389" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="30392" href="NbE.html#30352" class="Bound">tâ²</a>
         <a id="30404" class="Symbol">â</a> <a id="30406" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="30409" href="NbE.html#30350" class="Bound">t</a> <a id="30411" href="NbE.html#28275" class="Function Operator">â§</a> <a id="30413" href="NbE.html#30365" class="Bound">Ï</a> <a id="30415" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="30417" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="30420" href="NbE.html#30352" class="Bound">tâ²</a> <a id="30423" href="NbE.html#28275" class="Function Operator">â§</a> <a id="30425" href="NbE.html#30365" class="Bound">Ï</a>

<a id="completeness"></a><a id="30428" href="NbE.html#30428" class="Function">completeness</a> <a id="30441" class="Symbol">:</a> <a id="30443" class="Symbol">â</a> <a id="30445" class="Symbol">{</a><a id="30446" href="NbE.html#30446" class="Bound">Î</a> <a id="30448" class="Symbol">:</a> <a id="30450" href="NbE.html#1943" class="Datatype">Ctx</a><a id="30453" class="Symbol">}</a> <a id="30455" class="Symbol">{</a><a id="30456" href="NbE.html#30456" class="Bound">T</a> <a id="30458" class="Symbol">:</a> <a id="30460" href="NbE.html#1051" class="Datatype">Type</a><a id="30464" class="Symbol">}</a> <a id="30466" class="Symbol">{</a><a id="30467" href="NbE.html#30467" class="Bound">t</a> <a id="30469" href="NbE.html#30469" class="Bound">tâ²</a> <a id="30472" class="Symbol">:</a> <a id="30474" href="NbE.html#30446" class="Bound">Î</a> <a id="30476" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="30478" href="NbE.html#30456" class="Bound">T</a><a id="30479" class="Symbol">}</a>
             <a id="30494" class="Symbol">â</a> <a id="30496" href="NbE.html#30467" class="Bound">t</a> <a id="30498" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="30501" href="NbE.html#30469" class="Bound">tâ²</a>
             <a id="30517" class="Symbol">â</a> <a id="30519" href="NbE.html#28653" class="Function">nf</a> <a id="30522" href="NbE.html#30467" class="Bound">t</a> <a id="30524" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="30526" href="NbE.html#28653" class="Function">nf</a> <a id="30529" href="NbE.html#30469" class="Bound">tâ²</a>
<a id="30532" href="NbE.html#30428" class="Function">completeness</a> <a id="30545" class="Symbol">{</a><a id="30546" href="NbE.html#30546" class="Bound">Î</a><a id="30547" class="Symbol">}</a> <a id="30549" href="NbE.html#30549" class="Bound">t==tâ²</a> <a id="30555" class="Keyword">rewrite</a> <a id="30563" href="NbE.html#30317" class="Postulate">==ââ¦â¡â§</a> <a id="30570" class="Symbol">{</a><a id="30571" class="Argument">Ï</a> <a id="30573" class="Symbol">=</a> <a id="30575" href="NbE.html#27178" class="Function">âá¶áµË£</a> <a id="30580" href="NbE.html#30546" class="Bound">Î</a><a id="30581" class="Symbol">}</a> <a id="30583" href="NbE.html#30549" class="Bound">t==tâ²</a> <a id="30589" class="Symbol">=</a> <a id="30591" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
<!--

<pre class="Agda"><a id="30615" class="Comment">-- Equivalent terms are definitionally equal</a>
<a id="â¡â=="></a><a id="30660" href="NbE.html#30660" class="Function">â¡â==</a> <a id="30665" class="Symbol">:</a> <a id="30667" class="Symbol">â</a> <a id="30669" class="Symbol">{</a><a id="30670" href="NbE.html#30670" class="Bound">Î</a> <a id="30672" class="Symbol">:</a> <a id="30674" href="NbE.html#1943" class="Datatype">Ctx</a><a id="30677" class="Symbol">}</a> <a id="30679" class="Symbol">{</a><a id="30680" href="NbE.html#30680" class="Bound">T</a> <a id="30682" class="Symbol">:</a> <a id="30684" href="NbE.html#1051" class="Datatype">Type</a><a id="30688" class="Symbol">}</a> <a id="30690" class="Symbol">{</a><a id="30691" href="NbE.html#30691" class="Bound">t</a> <a id="30693" href="NbE.html#30693" class="Bound">tâ²</a> <a id="30696" class="Symbol">:</a> <a id="30698" href="NbE.html#30670" class="Bound">Î</a> <a id="30700" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="30702" href="NbE.html#30680" class="Bound">T</a><a id="30703" class="Symbol">}</a>
     <a id="30710" class="Symbol">â</a> <a id="30712" href="NbE.html#30691" class="Bound">t</a> <a id="30714" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="30716" href="NbE.html#30693" class="Bound">tâ²</a>
       <a id="30726" class="Comment">-------</a>
     <a id="30739" class="Symbol">â</a> <a id="30741" href="NbE.html#30691" class="Bound">t</a> <a id="30743" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="30746" href="NbE.html#30693" class="Bound">tâ²</a>
<a id="30749" href="NbE.html#30660" class="Function">â¡â==</a> <a id="30754" href="NbE.html#30754" class="Bound">pf</a> <a id="30757" class="Keyword">rewrite</a> <a id="30765" href="NbE.html#30754" class="Bound">pf</a> <a id="30768" class="Symbol">=</a> <a id="30770" href="NbE.html#14488" class="InductiveConstructor">refl</a>

<a id="30776" class="Comment">-- A few properties about the â¤ relation,</a>
<a id="30818" class="Comment">-- which are all required to prove irrelevance</a>
<a id="30865" class="Comment">-- of proof for the relation</a>

<a id="invert-â¤"></a><a id="30895" href="NbE.html#30895" class="Function">invert-â¤</a> <a id="30904" class="Symbol">:</a> <a id="30906" class="Symbol">â</a> <a id="30908" class="Symbol">{</a><a id="30909" href="NbE.html#30909" class="Bound">Î</a> <a id="30911" href="NbE.html#30911" class="Bound">Îâ²</a> <a id="30914" class="Symbol">:</a> <a id="30916" href="NbE.html#1943" class="Datatype">Ctx</a><a id="30919" class="Symbol">}</a> <a id="30921" class="Symbol">{</a><a id="30922" href="NbE.html#30922" class="Bound">T</a> <a id="30924" class="Symbol">:</a> <a id="30926" href="NbE.html#1051" class="Datatype">Type</a><a id="30930" class="Symbol">}</a>
         <a id="30941" class="Symbol">â</a> <a id="30943" href="NbE.html#30911" class="Bound">Îâ²</a> <a id="30946" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="30948" href="NbE.html#30909" class="Bound">Î</a> <a id="30950" class="InductiveConstructor Operator">,</a> <a id="30952" href="NbE.html#30922" class="Bound">T</a>
           <a id="30965" class="Comment">----------</a>
         <a id="30985" class="Symbol">â</a> <a id="30987" href="NbE.html#30911" class="Bound">Îâ²</a> <a id="30990" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="30992" href="NbE.html#30909" class="Bound">Î</a>
<a id="30994" href="NbE.html#30895" class="Function">invert-â¤</a> <a id="31003" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="31008" class="Symbol">=</a> <a id="31010" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31016" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>
<a id="31021" href="NbE.html#30895" class="Function">invert-â¤</a> <a id="31030" class="Symbol">(</a><a id="31031" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31037" href="NbE.html#31037" class="Bound">x</a><a id="31038" class="Symbol">)</a> <a id="31040" class="Symbol">=</a> <a id="31042" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31048" class="Symbol">(</a><a id="31049" href="NbE.html#30895" class="Function">invert-â¤</a> <a id="31058" href="NbE.html#31037" class="Bound">x</a><a id="31059" class="Symbol">)</a>

<a id="â¤-ext-uniq-T"></a><a id="31062" href="NbE.html#31062" class="Function">â¤-ext-uniq-T</a> <a id="31075" class="Symbol">:</a> <a id="31077" class="Symbol">â</a> <a id="31079" class="Symbol">{</a><a id="31080" href="NbE.html#31080" class="Bound">Î</a> <a id="31082" href="NbE.html#31082" class="Bound">Îâ²</a> <a id="31085" class="Symbol">:</a> <a id="31087" href="NbE.html#1943" class="Datatype">Ctx</a><a id="31090" class="Symbol">}</a> <a id="31092" class="Symbol">{</a><a id="31093" href="NbE.html#31093" class="Bound">S</a> <a id="31095" href="NbE.html#31095" class="Bound">T</a> <a id="31097" class="Symbol">:</a> <a id="31099" href="NbE.html#1051" class="Datatype">Type</a><a id="31103" class="Symbol">}</a>
           <a id="31116" class="Symbol">â</a> <a id="31118" href="NbE.html#31082" class="Bound">Îâ²</a> <a id="31121" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="31123" href="NbE.html#31080" class="Bound">Î</a> <a id="31125" class="InductiveConstructor Operator">,</a> <a id="31127" href="NbE.html#31095" class="Bound">T</a>
           <a id="31140" class="Symbol">â</a> <a id="31142" href="NbE.html#31082" class="Bound">Îâ²</a> <a id="31145" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="31147" href="NbE.html#31080" class="Bound">Î</a> <a id="31149" class="InductiveConstructor Operator">,</a> <a id="31151" href="NbE.html#31093" class="Bound">S</a>
             <a id="31166" class="Comment">----------</a>
           <a id="31188" class="Symbol">â</a> <a id="31190" href="NbE.html#31095" class="Bound">T</a> <a id="31192" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="31194" href="NbE.html#31093" class="Bound">S</a>

<a id="â¤-antisym"></a><a id="31197" href="NbE.html#31197" class="Function">â¤-antisym</a> <a id="31207" class="Symbol">:</a> <a id="31209" class="Symbol">â</a> <a id="31211" class="Symbol">{</a><a id="31212" href="NbE.html#31212" class="Bound">Î</a> <a id="31214" href="NbE.html#31214" class="Bound">Îâ²</a> <a id="31217" class="Symbol">:</a> <a id="31219" href="NbE.html#1943" class="Datatype">Ctx</a><a id="31222" class="Symbol">}</a>
          <a id="31234" class="Symbol">â</a> <a id="31236" href="NbE.html#31212" class="Bound">Î</a> <a id="31238" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="31240" href="NbE.html#31214" class="Bound">Îâ²</a>
          <a id="31253" class="Symbol">â</a> <a id="31255" href="NbE.html#31214" class="Bound">Îâ²</a> <a id="31258" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="31260" href="NbE.html#31212" class="Bound">Î</a>
            <a id="31274" class="Comment">------</a>
          <a id="31291" class="Symbol">â</a> <a id="31293" href="NbE.html#31212" class="Bound">Î</a> <a id="31295" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="31297" href="NbE.html#31214" class="Bound">Îâ²</a>

<a id="Îâ°Î,T"></a><a id="31301" href="NbE.html#31301" class="Function">Îâ°Î,T</a> <a id="31307" class="Symbol">:</a> <a id="31309" class="Symbol">â</a> <a id="31311" class="Symbol">{</a><a id="31312" href="NbE.html#31312" class="Bound">Î</a> <a id="31314" class="Symbol">:</a> <a id="31316" href="NbE.html#1943" class="Datatype">Ctx</a><a id="31319" class="Symbol">}</a> <a id="31321" class="Symbol">{</a><a id="31322" href="NbE.html#31322" class="Bound">T</a> <a id="31324" class="Symbol">:</a> <a id="31326" href="NbE.html#1051" class="Datatype">Type</a><a id="31330" class="Symbol">}</a> <a id="31332" class="Symbol">â</a> <a id="31334" href="Relation.Nullary.html#656" class="Function Operator">Â¬</a> <a id="31336" class="Symbol">(</a><a id="31337" href="NbE.html#31312" class="Bound">Î</a> <a id="31339" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="31341" href="NbE.html#31312" class="Bound">Î</a> <a id="31343" class="InductiveConstructor Operator">,</a> <a id="31345" href="NbE.html#31322" class="Bound">T</a><a id="31346" class="Symbol">)</a>

<a id="31349" href="NbE.html#31062" class="Function">â¤-ext-uniq-T</a> <a id="31362" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="31367" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="31372" class="Symbol">=</a> <a id="31374" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="31379" href="NbE.html#31062" class="Function">â¤-ext-uniq-T</a> <a id="31392" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="31397" class="Symbol">(</a><a id="31398" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31404" href="NbE.html#31404" class="Bound">c</a><a id="31405" class="Symbol">)</a> <a id="31407" class="Symbol">=</a> <a id="31409" href="Data.Empty.html#628" class="Function">â¥-elim</a> <a id="31416" class="Symbol">(</a><a id="31417" href="NbE.html#31301" class="Function">Îâ°Î,T</a> <a id="31423" href="NbE.html#31404" class="Bound">c</a><a id="31424" class="Symbol">)</a>
<a id="31426" href="NbE.html#31062" class="Function">â¤-ext-uniq-T</a> <a id="31439" class="Symbol">(</a><a id="31440" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31446" href="NbE.html#31446" class="Bound">c</a><a id="31447" class="Symbol">)</a> <a id="31449" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="31454" class="Symbol">=</a> <a id="31456" href="Data.Empty.html#628" class="Function">â¥-elim</a> <a id="31463" class="Symbol">(</a><a id="31464" href="NbE.html#31301" class="Function">Îâ°Î,T</a> <a id="31470" href="NbE.html#31446" class="Bound">c</a><a id="31471" class="Symbol">)</a>
<a id="31473" href="NbE.html#31062" class="Function">â¤-ext-uniq-T</a> <a id="31486" class="Symbol">(</a><a id="31487" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31493" href="NbE.html#31493" class="Bound">pâ</a><a id="31495" class="Symbol">)</a> <a id="31497" class="Symbol">(</a><a id="31498" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31504" href="NbE.html#31504" class="Bound">pâ</a><a id="31506" class="Symbol">)</a>
  <a id="31510" class="Keyword">rewrite</a> <a id="31518" href="NbE.html#31062" class="Function">â¤-ext-uniq-T</a> <a id="31531" href="NbE.html#31493" class="Bound">pâ</a> <a id="31534" href="NbE.html#31504" class="Bound">pâ</a> <a id="31537" class="Symbol">=</a> <a id="31539" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="31545" href="NbE.html#31197" class="Function">â¤-antisym</a> <a id="31555" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="31560" href="NbE.html#31560" class="Bound">Îâ²â¤Î</a> <a id="31565" class="Symbol">=</a> <a id="31567" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="31572" href="NbE.html#31197" class="Function">â¤-antisym</a> <a id="31582" class="Symbol">(</a><a id="31583" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31589" href="NbE.html#31589" class="Bound">Îâ¤Îâ²</a><a id="31593" class="Symbol">)</a> <a id="31595" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="31600" class="Symbol">=</a> <a id="31602" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="31607" href="NbE.html#31197" class="Function">â¤-antisym</a> <a id="31617" class="Symbol">(</a><a id="31618" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31624" class="Symbol">{</a><a id="31625" class="Argument">T</a> <a id="31627" class="Symbol">=</a> <a id="31629" href="NbE.html#31629" class="Bound">Tâ</a><a id="31631" class="Symbol">}</a> <a id="31633" href="NbE.html#31633" class="Bound">pâ</a><a id="31635" class="Symbol">)</a> <a id="31637" class="Symbol">(</a><a id="31638" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31644" class="Symbol">{</a><a id="31645" class="Argument">T</a> <a id="31647" class="Symbol">=</a> <a id="31649" href="NbE.html#31649" class="Bound">Tâ</a><a id="31651" class="Symbol">}</a> <a id="31653" href="NbE.html#31653" class="Bound">pâ</a><a id="31655" class="Symbol">)</a>
  <a id="31659" class="Keyword">with</a> <a id="31664" href="NbE.html#30895" class="Function">invert-â¤</a> <a id="31673" href="NbE.html#31633" class="Bound">pâ</a> <a id="31676" class="Symbol">|</a> <a id="31678" href="NbE.html#30895" class="Function">invert-â¤</a> <a id="31687" href="NbE.html#31653" class="Bound">pâ</a>
<a id="31690" class="Symbol">...</a> <a id="31694" class="Symbol">|</a> <a id="31696" href="NbE.html#31696" class="Bound">â¤â</a>         <a id="31707" class="Symbol">|</a> <a id="31709" href="NbE.html#31709" class="Bound">â¤â</a>
  <a id="31714" class="Keyword">with</a> <a id="31719" href="NbE.html#31197" class="Function">â¤-antisym</a> <a id="31729" href="NbE.html#31696" class="Bound">â¤â</a> <a id="31732" href="NbE.html#31709" class="Bound">â¤â</a>
<a id="31735" class="Symbol">...</a> <a id="31739" class="Symbol">|</a> <a id="31741" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="31748" class="Keyword">rewrite</a> <a id="31756" href="NbE.html#31062" class="Function">â¤-ext-uniq-T</a> <a id="31769" class="Bound">pâ</a> <a id="31772" class="Bound">pâ</a> <a id="31775" class="Symbol">=</a> <a id="31777" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="31783" href="NbE.html#31301" class="Function">Îâ°Î,T</a> <a id="31789" class="Symbol">{</a><a id="31790" href="NbE.html#31790" class="Bound">Î</a><a id="31791" class="Symbol">}</a> <a id="31793" class="Symbol">{</a><a id="31794" href="NbE.html#31794" class="Bound">T</a><a id="31795" class="Symbol">}</a> <a id="31797" href="NbE.html#31797" class="Bound">Îâ¤Î,T</a> <a id="31803" class="Keyword">with</a> <a id="31808" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="31814" class="Symbol">{</a><a id="31815" class="Argument">T</a> <a id="31817" class="Symbol">=</a> <a id="31819" href="NbE.html#31794" class="Bound">T</a><a id="31820" class="Symbol">}</a> <a id="31822" class="Symbol">(</a><a id="31823" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="31828" class="Symbol">{</a><a id="31829" href="NbE.html#31790" class="Bound">Î</a><a id="31830" class="Symbol">})</a>
<a id="31833" class="Symbol">...</a> <a id="31837" class="Symbol">|</a> <a id="31839" href="NbE.html#31839" class="Bound">Î,Tâ¤Î</a>
  <a id="31847" class="Keyword">with</a> <a id="31852" href="NbE.html#31197" class="Function">â¤-antisym</a> <a id="31862" class="Bound">Îâ¤Î,T</a> <a id="31868" href="NbE.html#31839" class="Bound">Î,Tâ¤Î</a>
<a id="31874" class="Symbol">...</a> <a id="31878" class="Symbol">|</a> <a id="31880" class="Symbol">()</a>

<a id="31884" class="Comment">-- Proof of context extension is irrelevant, and any</a>
<a id="31937" class="Comment">-- two proofs that a context is an extension of another</a>
<a id="31993" class="Comment">-- are equivalent</a>
<a id="â¤-pf-irrelevance"></a><a id="32011" href="NbE.html#32011" class="Function">â¤-pf-irrelevance</a> <a id="32028" class="Symbol">:</a> <a id="32030" class="Symbol">â</a> <a id="32032" class="Symbol">{</a><a id="32033" href="NbE.html#32033" class="Bound">Îâ²</a> <a id="32036" href="NbE.html#32036" class="Bound">Î</a> <a id="32038" class="Symbol">:</a> <a id="32040" href="NbE.html#1943" class="Datatype">Ctx</a><a id="32043" class="Symbol">}</a>
       <a id="32052" class="Symbol">â</a> <a id="32054" class="Symbol">(</a><a id="32055" href="NbE.html#32055" class="Bound">pfâ</a> <a id="32059" class="Symbol">:</a> <a id="32061" href="NbE.html#32033" class="Bound">Îâ²</a> <a id="32064" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="32066" href="NbE.html#32036" class="Bound">Î</a><a id="32067" class="Symbol">)</a>
       <a id="32076" class="Symbol">â</a> <a id="32078" class="Symbol">(</a><a id="32079" href="NbE.html#32079" class="Bound">pfâ</a> <a id="32083" class="Symbol">:</a> <a id="32085" href="NbE.html#32033" class="Bound">Îâ²</a> <a id="32088" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="32090" href="NbE.html#32036" class="Bound">Î</a><a id="32091" class="Symbol">)</a>
       <a id="32100" class="Symbol">â</a> <a id="32102" href="NbE.html#32055" class="Bound">pfâ</a> <a id="32106" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="32108" href="NbE.html#32079" class="Bound">pfâ</a>
<a id="32112" href="NbE.html#32011" class="Function">â¤-pf-irrelevance</a> <a id="32129" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="32134" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="32139" class="Symbol">=</a> <a id="32141" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="32146" href="NbE.html#32011" class="Function">â¤-pf-irrelevance</a> <a id="32163" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="32168" class="Symbol">(</a><a id="32169" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32175" href="NbE.html#32175" class="Bound">pf</a><a id="32177" class="Symbol">)</a> <a id="32179" class="Symbol">=</a> <a id="32181" href="Data.Empty.html#628" class="Function">â¥-elim</a> <a id="32188" class="Symbol">(</a><a id="32189" href="NbE.html#31301" class="Function">Îâ°Î,T</a> <a id="32195" href="NbE.html#32175" class="Bound">pf</a><a id="32197" class="Symbol">)</a>
<a id="32199" href="NbE.html#32011" class="Function">â¤-pf-irrelevance</a> <a id="32216" class="Symbol">(</a><a id="32217" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32223" href="NbE.html#32223" class="Bound">pf</a><a id="32225" class="Symbol">)</a> <a id="32227" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="32232" class="Symbol">=</a> <a id="32234" href="Data.Empty.html#628" class="Function">â¥-elim</a> <a id="32241" class="Symbol">(</a><a id="32242" href="NbE.html#31301" class="Function">Îâ°Î,T</a> <a id="32248" href="NbE.html#32223" class="Bound">pf</a><a id="32250" class="Symbol">)</a>
<a id="32252" href="NbE.html#32011" class="Function">â¤-pf-irrelevance</a> <a id="32269" class="Symbol">(</a><a id="32270" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32276" href="NbE.html#32276" class="Bound">pfâ</a><a id="32279" class="Symbol">)</a> <a id="32281" class="Symbol">(</a><a id="32282" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32288" href="NbE.html#32288" class="Bound">pfâ</a><a id="32291" class="Symbol">)</a> <a id="32293" class="Keyword">rewrite</a> <a id="32301" href="NbE.html#32011" class="Function">â¤-pf-irrelevance</a> <a id="32318" href="NbE.html#32276" class="Bound">pfâ</a> <a id="32322" href="NbE.html#32288" class="Bound">pfâ</a> <a id="32326" class="Symbol">=</a> <a id="32328" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="32334" class="Comment">-- Context extension is transitive</a>
<a id="â¤-trans"></a><a id="32369" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="32377" class="Symbol">:</a> <a id="32379" class="Symbol">â</a> <a id="32381" class="Symbol">{</a><a id="32382" href="NbE.html#32382" class="Bound">Îâ</a> <a id="32385" href="NbE.html#32385" class="Bound">Îâ</a> <a id="32388" href="NbE.html#32388" class="Bound">Îâ</a> <a id="32391" class="Symbol">:</a> <a id="32393" href="NbE.html#1943" class="Datatype">Ctx</a><a id="32396" class="Symbol">}</a>
        <a id="32406" class="Symbol">â</a> <a id="32408" href="NbE.html#32382" class="Bound">Îâ</a> <a id="32411" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="32413" href="NbE.html#32385" class="Bound">Îâ</a>
        <a id="32424" class="Symbol">â</a> <a id="32426" href="NbE.html#32385" class="Bound">Îâ</a> <a id="32429" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="32431" href="NbE.html#32388" class="Bound">Îâ</a>
          <a id="32444" class="Comment">-------</a>
        <a id="32460" class="Symbol">â</a> <a id="32462" href="NbE.html#32382" class="Bound">Îâ</a> <a id="32465" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="32467" href="NbE.html#32388" class="Bound">Îâ</a>
<a id="32470" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="32478" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="32483" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="32488" class="Symbol">=</a> <a id="32490" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>
<a id="32495" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="32503" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="32508" class="Symbol">(</a><a id="32509" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32515" href="NbE.html#32515" class="Bound">pf</a><a id="32517" class="Symbol">)</a> <a id="32519" class="Symbol">=</a> <a id="32521" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32527" href="NbE.html#32515" class="Bound">pf</a>
<a id="32530" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="32538" class="Symbol">(</a><a id="32539" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32545" href="NbE.html#32545" class="Bound">pf</a><a id="32547" class="Symbol">)</a> <a id="32549" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="32554" class="Symbol">=</a> <a id="32556" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32562" href="NbE.html#32545" class="Bound">pf</a>
<a id="32565" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="32573" class="Symbol">(</a><a id="32574" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32580" href="NbE.html#32580" class="Bound">pfâ</a><a id="32583" class="Symbol">)</a> <a id="32585" class="Symbol">(</a><a id="32586" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32592" href="NbE.html#32592" class="Bound">pfâ</a><a id="32595" class="Symbol">)</a> <a id="32597" class="Symbol">=</a> <a id="32599" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32605" class="Symbol">(</a><a id="32606" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="32614" href="NbE.html#32580" class="Bound">pfâ</a> <a id="32618" class="Symbol">(</a><a id="32619" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="32625" href="NbE.html#32592" class="Bound">pfâ</a><a id="32628" class="Symbol">))</a>

<a id="32632" class="Comment">-- Substitution / renaming lemmas</a>

<a id="32667" class="Comment">-- Renaming a lookup judgement is equivalent to applying the</a>
<a id="32728" class="Comment">-- renaming to a variable with that lookup judgement</a>
<a id="renameâ¡[x]áµ£"></a><a id="32781" href="NbE.html#32781" class="Function">renameâ¡[x]áµ£</a> <a id="32793" class="Symbol">:</a> <a id="32795" class="Symbol">â</a> <a id="32797" class="Symbol">{</a><a id="32798" href="NbE.html#32798" class="Bound">Î</a> <a id="32800" href="NbE.html#32800" class="Bound">Î</a> <a id="32802" class="Symbol">:</a> <a id="32804" href="NbE.html#1943" class="Datatype">Ctx</a><a id="32807" class="Symbol">}</a> <a id="32809" class="Symbol">{</a><a id="32810" href="NbE.html#32810" class="Bound">T</a> <a id="32812" class="Symbol">:</a> <a id="32814" href="NbE.html#1051" class="Datatype">Type</a><a id="32818" class="Symbol">}</a> <a id="32820" class="Symbol">{</a><a id="32821" href="NbE.html#32821" class="Bound">x</a> <a id="32823" class="Symbol">:</a> <a id="32825" href="NbE.html#32800" class="Bound">Î</a> <a id="32827" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="32829" href="NbE.html#32810" class="Bound">T</a><a id="32830" class="Symbol">}</a> <a id="32832" class="Symbol">{</a><a id="32833" href="NbE.html#32833" class="Bound">Ïáµ£</a> <a id="32836" class="Symbol">:</a> <a id="32838" href="NbE.html#7265" class="Datatype">Ren</a> <a id="32842" href="NbE.html#32798" class="Bound">Î</a> <a id="32844" href="NbE.html#32800" class="Bound">Î</a><a id="32845" class="Symbol">}</a>
            <a id="32859" class="Symbol">â</a> <a id="32861" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="32863" class="Symbol">(</a><a id="32864" href="NbE.html#7659" class="Function">rename</a> <a id="32871" href="NbE.html#32821" class="Bound">x</a> <a id="32873" href="NbE.html#32833" class="Bound">Ïáµ£</a><a id="32875" class="Symbol">)</a> <a id="32877" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="32879" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="32881" href="NbE.html#32821" class="Bound">x</a> <a id="32883" href="NbE.html#8616" class="Function Operator">[</a> <a id="32885" href="NbE.html#32833" class="Bound">Ïáµ£</a> <a id="32888" href="NbE.html#8616" class="Function Operator">]áµ£</a>
<a id="32891" href="NbE.html#32781" class="Function">renameâ¡[x]áµ£</a> <a id="32903" class="Symbol">{</a><a id="32904" class="Argument">x</a> <a id="32906" class="Symbol">=</a> <a id="32908" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="32910" class="Symbol">}</a> <a id="32912" class="Symbol">{</a><a id="32913" href="NbE.html#32913" class="Bound">Ïáµ£</a> <a id="32916" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="32918" href="NbE.html#32918" class="Bound">y</a><a id="32919" class="Symbol">}</a> <a id="32921" class="Symbol">=</a> <a id="32923" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="32928" href="NbE.html#32781" class="Function">renameâ¡[x]áµ£</a> <a id="32940" class="Symbol">{</a><a id="32941" class="Argument">x</a> <a id="32943" class="Symbol">=</a> <a id="32945" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="32948" href="NbE.html#32948" class="Bound">x</a><a id="32949" class="Symbol">}</a> <a id="32951" class="Symbol">{</a><a id="32952" href="NbE.html#32952" class="Bound">Ïáµ£</a> <a id="32955" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="32957" href="NbE.html#32957" class="Bound">y</a><a id="32958" class="Symbol">}</a> <a id="32960" class="Symbol">=</a> <a id="32962" href="NbE.html#32781" class="Function">renameâ¡[x]áµ£</a> <a id="32974" class="Symbol">{</a><a id="32975" class="Argument">x</a> <a id="32977" class="Symbol">=</a> <a id="32979" href="NbE.html#32948" class="Bound">x</a><a id="32980" class="Symbol">}</a> <a id="32982" class="Symbol">{</a><a id="32983" href="NbE.html#32952" class="Bound">Ïáµ£</a><a id="32985" class="Symbol">}</a>

<a id="32988" class="Comment">-- Applying a shifted renaming to a variable is equivalent</a>
<a id="33047" class="Comment">-- to incrementing the original renaming of the variable&#39;s</a>
<a id="33106" class="Comment">-- lookup judgemnet:</a>
<a id="33127" class="Comment">--   ` x [ Ï â ] â¡ `S (rename x Ï) (where Ï is a renaming substitution)</a>
<a id="shift-var"></a><a id="33199" href="NbE.html#33199" class="Function">shift-var</a> <a id="33209" class="Symbol">:</a> <a id="33211" class="Symbol">â</a> <a id="33213" class="Symbol">{</a><a id="33214" href="NbE.html#33214" class="Bound">Î</a> <a id="33216" href="NbE.html#33216" class="Bound">Î</a> <a id="33218" class="Symbol">:</a> <a id="33220" href="NbE.html#1943" class="Datatype">Ctx</a><a id="33223" class="Symbol">}</a> <a id="33225" class="Symbol">{</a><a id="33226" href="NbE.html#33226" class="Bound">S</a> <a id="33228" href="NbE.html#33228" class="Bound">T</a> <a id="33230" class="Symbol">:</a> <a id="33232" href="NbE.html#1051" class="Datatype">Type</a><a id="33236" class="Symbol">}</a> <a id="33238" class="Symbol">{</a><a id="33239" href="NbE.html#33239" class="Bound">x</a> <a id="33241" class="Symbol">:</a> <a id="33243" href="NbE.html#33214" class="Bound">Î</a> <a id="33245" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="33247" href="NbE.html#33228" class="Bound">T</a><a id="33248" class="Symbol">}</a> <a id="33250" class="Symbol">{</a><a id="33251" href="NbE.html#33251" class="Bound">Ïáµ£</a> <a id="33254" class="Symbol">:</a> <a id="33256" href="NbE.html#7265" class="Datatype">Ren</a> <a id="33260" href="NbE.html#33216" class="Bound">Î</a> <a id="33262" href="NbE.html#33214" class="Bound">Î</a><a id="33263" class="Symbol">}</a>
          <a id="33275" class="Symbol">â</a> <a id="33277" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="33279" href="NbE.html#33239" class="Bound">x</a> <a id="33281" href="NbE.html#10528" class="Function Operator">[</a> <a id="33283" href="NbE.html#9824" class="Function">subst-ren</a> <a id="33293" class="Symbol">(</a><a id="33294" href="NbE.html#8198" class="Function Operator">_âáµ£</a> <a id="33298" class="Symbol">{</a><a id="33299" class="Argument">T</a> <a id="33301" class="Symbol">=</a> <a id="33303" href="NbE.html#33226" class="Bound">S</a><a id="33304" class="Symbol">}</a> <a id="33306" href="NbE.html#33251" class="Bound">Ïáµ£</a><a id="33308" class="Symbol">)</a> <a id="33310" href="NbE.html#10528" class="Function Operator">]</a> <a id="33312" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="33314" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="33316" class="Symbol">(</a><a id="33317" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="33320" class="Symbol">(</a><a id="33321" href="NbE.html#7659" class="Function">rename</a> <a id="33328" href="NbE.html#33239" class="Bound">x</a> <a id="33330" href="NbE.html#33251" class="Bound">Ïáµ£</a><a id="33332" class="Symbol">))</a>
<a id="33335" href="NbE.html#33199" class="Function">shift-var</a> <a id="33345" class="Symbol">{</a><a id="33346" class="Argument">x</a> <a id="33348" class="Symbol">=</a> <a id="33350" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="33352" class="Symbol">}</a> <a id="33354" class="Symbol">{_</a> <a id="33357" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="33359" class="Symbol">_}</a> <a id="33362" class="Symbol">=</a> <a id="33364" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="33369" href="NbE.html#33199" class="Function">shift-var</a> <a id="33379" class="Symbol">{</a><a id="33380" class="Argument">x</a> <a id="33382" class="Symbol">=</a> <a id="33384" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="33387" href="NbE.html#33387" class="Bound">x</a><a id="33388" class="Symbol">}</a> <a id="33390" class="Symbol">{</a><a id="33391" href="NbE.html#33391" class="Bound">Ïáµ£</a> <a id="33394" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="33396" class="Symbol">_}</a> <a id="33399" class="Symbol">=</a> <a id="33401" href="NbE.html#33199" class="Function">shift-var</a> <a id="33411" class="Symbol">{</a><a id="33412" class="Argument">x</a> <a id="33414" class="Symbol">=</a> <a id="33416" href="NbE.html#33387" class="Bound">x</a><a id="33417" class="Symbol">}</a> <a id="33419" class="Symbol">{</a><a id="33420" href="NbE.html#33391" class="Bound">Ïáµ£</a><a id="33422" class="Symbol">}</a>

<a id="33425" class="Comment">-- Specialized version of the previous lemma</a>
<a id="shift-rename"></a><a id="33470" href="NbE.html#33470" class="Function">shift-rename</a> <a id="33483" class="Symbol">:</a> <a id="33485" class="Symbol">â</a> <a id="33487" class="Symbol">{</a><a id="33488" href="NbE.html#33488" class="Bound">Î</a> <a id="33490" href="NbE.html#33490" class="Bound">Î</a> <a id="33492" class="Symbol">:</a> <a id="33494" href="NbE.html#1943" class="Datatype">Ctx</a><a id="33497" class="Symbol">}</a> <a id="33499" class="Symbol">{</a><a id="33500" href="NbE.html#33500" class="Bound">S</a> <a id="33502" href="NbE.html#33502" class="Bound">T</a> <a id="33504" class="Symbol">:</a> <a id="33506" href="NbE.html#1051" class="Datatype">Type</a><a id="33510" class="Symbol">}</a> <a id="33512" class="Symbol">{</a><a id="33513" href="NbE.html#33513" class="Bound">x</a> <a id="33515" class="Symbol">:</a> <a id="33517" href="NbE.html#33488" class="Bound">Î</a> <a id="33519" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="33521" href="NbE.html#33502" class="Bound">T</a><a id="33522" class="Symbol">}</a> <a id="33524" class="Symbol">{</a><a id="33525" href="NbE.html#33525" class="Bound">Ïáµ£</a> <a id="33528" class="Symbol">:</a> <a id="33530" href="NbE.html#7265" class="Datatype">Ren</a> <a id="33534" href="NbE.html#33490" class="Bound">Î</a> <a id="33536" href="NbE.html#33488" class="Bound">Î</a><a id="33537" class="Symbol">}</a>
            <a id="33551" class="Symbol">â</a> <a id="33553" href="NbE.html#7659" class="Function">rename</a> <a id="33560" href="NbE.html#33513" class="Bound">x</a> <a id="33562" class="Symbol">(</a><a id="33563" href="NbE.html#8198" class="Function Operator">_âáµ£</a> <a id="33567" class="Symbol">{</a><a id="33568" class="Argument">T</a> <a id="33570" class="Symbol">=</a> <a id="33572" href="NbE.html#33500" class="Bound">S</a><a id="33573" class="Symbol">}</a> <a id="33575" href="NbE.html#33525" class="Bound">Ïáµ£</a><a id="33577" class="Symbol">)</a> <a id="33579" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="33581" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="33584" class="Symbol">(</a><a id="33585" href="NbE.html#7659" class="Function">rename</a> <a id="33592" href="NbE.html#33513" class="Bound">x</a> <a id="33594" href="NbE.html#33525" class="Bound">Ïáµ£</a><a id="33596" class="Symbol">)</a>
<a id="33598" href="NbE.html#33470" class="Function">shift-rename</a> <a id="33611" class="Symbol">{</a><a id="33612" class="Argument">x</a> <a id="33614" class="Symbol">=</a> <a id="33616" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="33618" class="Symbol">}</a> <a id="33620" class="Symbol">{_</a> <a id="33623" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="33625" class="Symbol">_}</a> <a id="33628" class="Symbol">=</a> <a id="33630" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="33635" href="NbE.html#33470" class="Function">shift-rename</a> <a id="33648" class="Symbol">{</a><a id="33649" class="Argument">x</a> <a id="33651" class="Symbol">=</a> <a id="33653" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="33656" href="NbE.html#33656" class="Bound">x</a><a id="33657" class="Symbol">}</a> <a id="33659" class="Symbol">{</a><a id="33660" href="NbE.html#33660" class="Bound">Ïáµ£</a> <a id="33663" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="33665" class="Symbol">_}</a> <a id="33668" class="Symbol">=</a> <a id="33670" href="NbE.html#33470" class="Function">shift-rename</a> <a id="33683" class="Symbol">{</a><a id="33684" class="Argument">x</a> <a id="33686" class="Symbol">=</a> <a id="33688" href="NbE.html#33656" class="Bound">x</a><a id="33689" class="Symbol">}</a> <a id="33691" class="Symbol">{</a><a id="33692" href="NbE.html#33660" class="Bound">Ïáµ£</a><a id="33694" class="Symbol">}</a>

<a id="33697" class="Comment">-- Renaming with the identity renaming has no effect</a>
<a id="rename-id"></a><a id="33750" href="NbE.html#33750" class="Function">rename-id</a> <a id="33760" class="Symbol">:</a> <a id="33762" class="Symbol">â</a> <a id="33764" class="Symbol">{</a><a id="33765" href="NbE.html#33765" class="Bound">Î</a> <a id="33767" class="Symbol">:</a> <a id="33769" href="NbE.html#1943" class="Datatype">Ctx</a><a id="33772" class="Symbol">}</a> <a id="33774" class="Symbol">{</a><a id="33775" href="NbE.html#33775" class="Bound">T</a> <a id="33777" class="Symbol">:</a> <a id="33779" href="NbE.html#1051" class="Datatype">Type</a><a id="33783" class="Symbol">}</a> <a id="33785" class="Symbol">{</a><a id="33786" href="NbE.html#33786" class="Bound">x</a> <a id="33788" class="Symbol">:</a> <a id="33790" href="NbE.html#33765" class="Bound">Î</a> <a id="33792" href="NbE.html#3674" class="Datatype Operator">â</a> <a id="33794" href="NbE.html#33775" class="Bound">T</a><a id="33795" class="Symbol">}</a>
          <a id="33807" class="Symbol">â</a> <a id="33809" href="NbE.html#7659" class="Function">rename</a> <a id="33816" href="NbE.html#33786" class="Bound">x</a> <a id="33818" href="NbE.html#9240" class="Function">ren-id</a> <a id="33825" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="33827" href="NbE.html#33786" class="Bound">x</a>
<a id="33829" href="NbE.html#33750" class="Function">rename-id</a> <a id="33839" class="Symbol">{</a><a id="33840" class="Argument">x</a> <a id="33842" class="Symbol">=</a> <a id="33844" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="33846" class="Symbol">}</a> <a id="33848" class="Symbol">=</a> <a id="33850" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="33855" href="NbE.html#33750" class="Function">rename-id</a> <a id="33865" class="Symbol">{</a><a id="33866" class="Argument">x</a> <a id="33868" class="Symbol">=</a> <a id="33870" class="Symbol">(</a><a id="33871" href="NbE.html#3772" class="InductiveConstructor Operator">`S_</a> <a id="33875" class="Symbol">{_}</a> <a id="33879" class="Symbol">{</a><a id="33880" href="NbE.html#33880" class="Bound">S</a><a id="33881" class="Symbol">}</a> <a id="33883" href="NbE.html#33883" class="Bound">x</a><a id="33884" class="Symbol">)}</a>
  <a id="33889" class="Keyword">rewrite</a> <a id="33897" href="NbE.html#33470" class="Function">shift-rename</a> <a id="33910" class="Symbol">{</a><a id="33911" class="Argument">S</a> <a id="33913" class="Symbol">=</a> <a id="33915" href="NbE.html#33880" class="Bound">S</a><a id="33916" class="Symbol">}</a> <a id="33918" class="Symbol">{</a><a id="33919" class="Argument">x</a> <a id="33921" class="Symbol">=</a> <a id="33923" href="NbE.html#33883" class="Bound">x</a><a id="33924" class="Symbol">}</a> <a id="33926" class="Symbol">{</a><a id="33927" class="Argument">Ïáµ£</a> <a id="33930" class="Symbol">=</a> <a id="33932" href="NbE.html#9240" class="Function">ren-id</a><a id="33938" class="Symbol">}</a> <a id="33940" class="Symbol">|</a> <a id="33942" href="NbE.html#33750" class="Function">rename-id</a> <a id="33952" class="Symbol">{</a><a id="33953" class="Argument">x</a> <a id="33955" class="Symbol">=</a> <a id="33957" href="NbE.html#33883" class="Bound">x</a><a id="33958" class="Symbol">}</a> <a id="33960" class="Symbol">=</a> <a id="33962" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="33968" class="Comment">-- Shifting is commutative between renaming/substitution: a shifted</a>
<a id="34036" class="Comment">-- renaming substitution is equivalent to a substitution created from</a>
<a id="34106" class="Comment">-- a shifted renaming</a>
<a id="shift-rename-subst"></a><a id="34128" href="NbE.html#34128" class="Function">shift-rename-subst</a> <a id="34147" class="Symbol">:</a> <a id="34149" class="Symbol">â</a> <a id="34151" class="Symbol">{</a><a id="34152" href="NbE.html#34152" class="Bound">Î</a> <a id="34154" href="NbE.html#34154" class="Bound">Î</a> <a id="34156" class="Symbol">:</a> <a id="34158" href="NbE.html#1943" class="Datatype">Ctx</a><a id="34161" class="Symbol">}</a> <a id="34163" class="Symbol">{</a><a id="34164" href="NbE.html#34164" class="Bound">T</a> <a id="34166" class="Symbol">:</a> <a id="34168" href="NbE.html#1051" class="Datatype">Type</a><a id="34172" class="Symbol">}</a> <a id="34174" class="Symbol">{</a><a id="34175" href="NbE.html#34175" class="Bound">Ïáµ£</a> <a id="34178" class="Symbol">:</a> <a id="34180" href="NbE.html#7265" class="Datatype">Ren</a> <a id="34184" href="NbE.html#34152" class="Bound">Î</a> <a id="34186" href="NbE.html#34154" class="Bound">Î</a><a id="34187" class="Symbol">}</a>
                   <a id="34208" class="Symbol">â</a> <a id="34210" href="NbE.html#9824" class="Function">subst-ren</a> <a id="34220" class="Symbol">(</a><a id="34221" href="NbE.html#8198" class="Function Operator">_âáµ£</a> <a id="34225" class="Symbol">{</a><a id="34226" class="Argument">T</a> <a id="34228" class="Symbol">=</a> <a id="34230" href="NbE.html#34164" class="Bound">T</a><a id="34231" class="Symbol">}</a> <a id="34233" href="NbE.html#34175" class="Bound">Ïáµ£</a><a id="34235" class="Symbol">)</a> <a id="34237" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="34239" href="NbE.html#10252" class="Function Operator">_â</a> <a id="34242" class="Symbol">{</a><a id="34243" class="Argument">T</a> <a id="34245" class="Symbol">=</a> <a id="34247" href="NbE.html#34164" class="Bound">T</a><a id="34248" class="Symbol">}</a> <a id="34250" class="Symbol">(</a><a id="34251" href="NbE.html#9824" class="Function">subst-ren</a> <a id="34261" href="NbE.html#34175" class="Bound">Ïáµ£</a><a id="34263" class="Symbol">)</a>
<a id="34265" href="NbE.html#34128" class="Function">shift-rename-subst</a> <a id="34284" class="Symbol">{</a><a id="34285" class="Argument">Ïáµ£</a> <a id="34288" class="Symbol">=</a> <a id="34290" href="NbE.html#7295" class="InductiveConstructor">â</a><a id="34291" class="Symbol">}</a> <a id="34293" class="Symbol">=</a> <a id="34295" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="34300" href="NbE.html#34128" class="Function">shift-rename-subst</a> <a id="34319" class="Symbol">{</a><a id="34320" class="Argument">T</a> <a id="34322" class="Symbol">=</a> <a id="34324" href="NbE.html#34324" class="Bound">T</a><a id="34325" class="Symbol">}</a> <a id="34327" class="Symbol">{</a><a id="34328" class="Argument">Ïáµ£</a> <a id="34331" class="Symbol">=</a> <a id="34333" href="NbE.html#7324" class="InductiveConstructor Operator">_,_</a> <a id="34337" class="Symbol">{</a><a id="34338" class="Argument">S</a> <a id="34340" class="Symbol">=</a> <a id="34342" href="NbE.html#34342" class="Bound">S</a><a id="34343" class="Symbol">}</a> <a id="34345" href="NbE.html#34345" class="Bound">Ïáµ£</a> <a id="34348" href="NbE.html#34348" class="Bound">x</a><a id="34349" class="Symbol">}</a>
  <a id="34353" class="Keyword">rewrite</a> <a id="34361" href="NbE.html#34128" class="Function">shift-rename-subst</a> <a id="34380" class="Symbol">{</a><a id="34381" class="Argument">T</a> <a id="34383" class="Symbol">=</a> <a id="34385" href="NbE.html#34324" class="Bound">T</a><a id="34386" class="Symbol">}</a> <a id="34388" class="Symbol">{</a><a id="34389" class="Argument">Ïáµ£</a> <a id="34392" class="Symbol">=</a> <a id="34394" href="NbE.html#34345" class="Bound">Ïáµ£</a><a id="34396" class="Symbol">}</a>
        <a id="34406" class="Symbol">|</a> <a id="34408" href="NbE.html#750" class="Function">â¡-sym</a> <a id="34414" class="Symbol">(</a><a id="34415" href="NbE.html#32781" class="Function">renameâ¡[x]áµ£</a> <a id="34427" class="Symbol">{</a><a id="34428" class="Argument">x</a> <a id="34430" class="Symbol">=</a> <a id="34432" href="NbE.html#34348" class="Bound">x</a><a id="34433" class="Symbol">}</a> <a id="34435" class="Symbol">{</a><a id="34436" class="Argument">Ïáµ£</a> <a id="34439" class="Symbol">=</a> <a id="34441" href="NbE.html#8198" class="Function Operator">_âáµ£</a> <a id="34445" class="Symbol">{</a><a id="34446" class="Argument">T</a> <a id="34448" class="Symbol">=</a> <a id="34450" href="NbE.html#34324" class="Bound">T</a><a id="34451" class="Symbol">}</a> <a id="34453" href="NbE.html#9240" class="Function">ren-id</a><a id="34459" class="Symbol">})</a>
        <a id="34470" class="Symbol">|</a> <a id="34472" href="NbE.html#33470" class="Function">shift-rename</a> <a id="34485" class="Symbol">{</a><a id="34486" class="Argument">S</a> <a id="34488" class="Symbol">=</a> <a id="34490" href="NbE.html#34324" class="Bound">T</a><a id="34491" class="Symbol">}</a> <a id="34493" class="Symbol">{</a><a id="34494" class="Argument">x</a> <a id="34496" class="Symbol">=</a> <a id="34498" href="NbE.html#34348" class="Bound">x</a><a id="34499" class="Symbol">}</a> <a id="34501" class="Symbol">{</a><a id="34502" class="Argument">Ïáµ£</a> <a id="34505" class="Symbol">=</a> <a id="34507" href="NbE.html#9240" class="Function">ren-id</a><a id="34513" class="Symbol">}</a>
        <a id="34523" class="Symbol">|</a> <a id="34525" href="NbE.html#33750" class="Function">rename-id</a> <a id="34535" class="Symbol">{</a><a id="34536" class="Argument">x</a> <a id="34538" class="Symbol">=</a> <a id="34540" href="NbE.html#34348" class="Bound">x</a><a id="34541" class="Symbol">}</a>                                 <a id="34575" class="Symbol">=</a> <a id="34577" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="34583" class="Comment">-- Lemma for expanding an identity substitution once</a>
<a id="idâ¡âid,x"></a><a id="34636" href="NbE.html#34636" class="Function">idâ¡âid,x</a> <a id="34645" class="Symbol">:</a> <a id="34647" class="Symbol">â</a> <a id="34649" class="Symbol">{</a><a id="34650" href="NbE.html#34650" class="Bound">Î</a> <a id="34652" class="Symbol">:</a> <a id="34654" href="NbE.html#1943" class="Datatype">Ctx</a><a id="34657" class="Symbol">}</a> <a id="34659" class="Symbol">{</a><a id="34660" href="NbE.html#34660" class="Bound">T</a> <a id="34662" class="Symbol">:</a> <a id="34664" href="NbE.html#1051" class="Datatype">Type</a><a id="34668" class="Symbol">}</a> <a id="34670" class="Symbol">â</a> <a id="34672" href="NbE.html#11739" class="Function">subst-id</a> <a id="34681" class="Symbol">{</a><a id="34682" href="NbE.html#34650" class="Bound">Î</a> <a id="34684" class="InductiveConstructor Operator">,</a> <a id="34686" href="NbE.html#34660" class="Bound">T</a><a id="34687" class="Symbol">}</a> <a id="34689" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="34691" class="Symbol">(</a><a id="34692" href="NbE.html#10252" class="Function Operator">_â</a> <a id="34695" class="Symbol">{</a><a id="34696" class="Argument">T</a> <a id="34698" class="Symbol">=</a> <a id="34700" href="NbE.html#34660" class="Bound">T</a><a id="34701" class="Symbol">}</a> <a id="34703" href="NbE.html#11739" class="Function">subst-id</a> <a id="34712" class="InductiveConstructor Operator">,</a> <a id="34714" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="34716" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="34718" class="Symbol">)</a>
<a id="34720" href="NbE.html#34636" class="Function">idâ¡âid,x</a> <a id="34729" class="Symbol">{</a><a id="34730" href="NbE.html#1961" class="InductiveConstructor">â</a><a id="34731" class="Symbol">}</a> <a id="34733" class="Symbol">=</a> <a id="34735" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="34740" href="NbE.html#34636" class="Function">idâ¡âid,x</a> <a id="34749" class="Symbol">{</a><a id="34750" href="NbE.html#34750" class="Bound">Î</a> <a id="34752" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="34754" href="NbE.html#34754" class="Bound">T</a><a id="34755" class="Symbol">}</a> <a id="34757" class="Symbol">{</a><a id="34758" href="NbE.html#34758" class="Bound">S</a><a id="34759" class="Symbol">}</a>
  <a id="34763" class="Keyword">rewrite</a> <a id="34771" href="NbE.html#34636" class="Function">idâ¡âid,x</a> <a id="34780" class="Symbol">{</a><a id="34781" href="NbE.html#34750" class="Bound">Î</a><a id="34782" class="Symbol">}</a> <a id="34784" class="Symbol">{</a><a id="34785" href="NbE.html#34754" class="Bound">T</a><a id="34786" class="Symbol">}</a>
        <a id="34796" class="Symbol">|</a> <a id="34798" href="NbE.html#34128" class="Function">shift-rename-subst</a> <a id="34817" class="Symbol">{</a><a id="34818" href="NbE.html#34750" class="Bound">Î</a> <a id="34820" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="34822" href="NbE.html#34754" class="Bound">T</a><a id="34823" class="Symbol">}</a> <a id="34825" class="Symbol">{</a><a id="34826" href="NbE.html#34750" class="Bound">Î</a><a id="34827" class="Symbol">}</a> <a id="34829" class="Symbol">{</a><a id="34830" href="NbE.html#34758" class="Bound">S</a><a id="34831" class="Symbol">}</a> <a id="34833" class="Symbol">{</a><a id="34834" class="Argument">Ïáµ£</a> <a id="34837" class="Symbol">=</a> <a id="34839" href="NbE.html#9240" class="Function">ren-id</a> <a id="34846" href="NbE.html#8198" class="Function Operator">âáµ£</a><a id="34848" class="Symbol">}</a> <a id="34850" class="Symbol">=</a> <a id="34852" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="34858" class="Comment">-- The identity substititon has no effect</a>
<a id="[id]-identity"></a><a id="34900" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="34914" class="Symbol">:</a> <a id="34916" class="Symbol">â</a> <a id="34918" class="Symbol">{</a><a id="34919" href="NbE.html#34919" class="Bound">Î</a> <a id="34921" class="Symbol">:</a> <a id="34923" href="NbE.html#1943" class="Datatype">Ctx</a><a id="34926" class="Symbol">}</a> <a id="34928" class="Symbol">{</a><a id="34929" href="NbE.html#34929" class="Bound">T</a> <a id="34931" class="Symbol">:</a> <a id="34933" href="NbE.html#1051" class="Datatype">Type</a><a id="34937" class="Symbol">}</a> <a id="34939" class="Symbol">{</a><a id="34940" href="NbE.html#34940" class="Bound">t</a> <a id="34942" class="Symbol">:</a> <a id="34944" href="NbE.html#34919" class="Bound">Î</a> <a id="34946" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="34948" href="NbE.html#34929" class="Bound">T</a><a id="34949" class="Symbol">}</a>
              <a id="34965" class="Symbol">â</a> <a id="34967" href="NbE.html#34940" class="Bound">t</a> <a id="34969" href="NbE.html#10528" class="Function Operator">[</a> <a id="34971" href="NbE.html#11739" class="Function">subst-id</a> <a id="34980" href="NbE.html#10528" class="Function Operator">]</a> <a id="34982" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="34984" href="NbE.html#34940" class="Bound">t</a>
<a id="34986" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35000" class="Symbol">{</a><a id="35001" class="Argument">t</a> <a id="35003" class="Symbol">=</a> <a id="35005" href="NbE.html#4377" class="InductiveConstructor">zero</a><a id="35009" class="Symbol">}</a> <a id="35011" class="Symbol">=</a> <a id="35013" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="35018" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35032" class="Symbol">{</a><a id="35033" class="Argument">t</a> <a id="35035" class="Symbol">=</a> <a id="35037" href="NbE.html#4395" class="InductiveConstructor">suc</a><a id="35040" class="Symbol">}</a> <a id="35042" class="Symbol">=</a> <a id="35044" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="35049" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35063" class="Symbol">{</a><a id="35064" class="Argument">t</a> <a id="35066" class="Symbol">=</a> <a id="35068" href="NbE.html#4418" class="InductiveConstructor">rec</a><a id="35071" class="Symbol">}</a> <a id="35073" class="Symbol">=</a> <a id="35075" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="35080" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35094" class="Symbol">{</a><a id="35095" class="Argument">t</a> <a id="35097" class="Symbol">=</a> <a id="35099" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="35101" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="35103" class="Symbol">}</a> <a id="35105" class="Symbol">=</a> <a id="35107" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="35112" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35126" class="Symbol">{</a><a id="35127" class="Argument">t</a> <a id="35129" class="Symbol">=</a> <a id="35131" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="35133" class="Symbol">(</a><a id="35134" href="NbE.html#3772" class="InductiveConstructor Operator">`S_</a> <a id="35138" class="Symbol">{_}</a> <a id="35142" class="Symbol">{</a><a id="35143" href="NbE.html#35143" class="Bound">S</a><a id="35144" class="Symbol">}</a> <a id="35146" href="NbE.html#35146" class="Bound">x</a><a id="35147" class="Symbol">)}</a>
  <a id="35152" class="Keyword">rewrite</a> <a id="35160" href="NbE.html#33199" class="Function">shift-var</a> <a id="35170" class="Symbol">{</a><a id="35171" class="Argument">S</a> <a id="35173" class="Symbol">=</a> <a id="35175" href="NbE.html#35143" class="Bound">S</a><a id="35176" class="Symbol">}</a> <a id="35178" class="Symbol">{</a><a id="35179" class="Argument">x</a> <a id="35181" class="Symbol">=</a> <a id="35183" href="NbE.html#35146" class="Bound">x</a><a id="35184" class="Symbol">}</a> <a id="35186" class="Symbol">{</a><a id="35187" class="Argument">Ïáµ£</a> <a id="35190" class="Symbol">=</a> <a id="35192" href="NbE.html#9240" class="Function">ren-id</a><a id="35198" class="Symbol">}</a> <a id="35200" class="Symbol">|</a> <a id="35202" href="NbE.html#33750" class="Function">rename-id</a> <a id="35212" class="Symbol">{</a><a id="35213" class="Argument">x</a> <a id="35215" class="Symbol">=</a> <a id="35217" href="NbE.html#35146" class="Bound">x</a><a id="35218" class="Symbol">}</a> <a id="35220" class="Symbol">=</a> <a id="35222" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="35227" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35241" class="Symbol">{</a><a id="35242" href="NbE.html#35242" class="Bound">Î</a><a id="35243" class="Symbol">}</a> <a id="35245" class="Symbol">{</a><a id="35246" href="NbE.html#35246" class="Bound">T</a><a id="35247" class="Symbol">}</a> <a id="35249" class="Symbol">{</a><a id="35250" href="NbE.html#4587" class="InductiveConstructor Operator">Æ_</a> <a id="35253" class="Symbol">{</a><a id="35254" href="NbE.html#35254" class="Bound">S</a><a id="35255" class="Symbol">}</a> <a id="35257" href="NbE.html#35257" class="Bound">t</a><a id="35258" class="Symbol">}</a>
  <a id="35262" class="Keyword">rewrite</a> <a id="35270" href="NbE.html#750" class="Function">â¡-sym</a> <a id="35276" class="Symbol">(</a><a id="35277" href="NbE.html#34636" class="Function">idâ¡âid,x</a> <a id="35286" class="Symbol">{</a><a id="35287" href="NbE.html#35242" class="Bound">Î</a><a id="35288" class="Symbol">}</a> <a id="35290" class="Symbol">{</a><a id="35291" href="NbE.html#35254" class="Bound">S</a><a id="35292" class="Symbol">})</a> <a id="35295" class="Symbol">|</a> <a id="35297" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35311" class="Symbol">{</a><a id="35312" class="Argument">t</a> <a id="35314" class="Symbol">=</a> <a id="35316" href="NbE.html#35257" class="Bound">t</a><a id="35317" class="Symbol">}</a> <a id="35319" class="Symbol">=</a> <a id="35321" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="35326" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35340" class="Symbol">{</a><a id="35341" class="Argument">t</a> <a id="35343" class="Symbol">=</a> <a id="35345" href="NbE.html#35345" class="Bound">r</a> <a id="35347" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="35349" href="NbE.html#35349" class="Bound">s</a><a id="35350" class="Symbol">}</a>
  <a id="35354" class="Keyword">rewrite</a> <a id="35362" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35376" class="Symbol">{</a><a id="35377" class="Argument">t</a> <a id="35379" class="Symbol">=</a> <a id="35381" href="NbE.html#35345" class="Bound">r</a><a id="35382" class="Symbol">}</a> <a id="35384" class="Symbol">|</a> <a id="35386" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35400" class="Symbol">{</a><a id="35401" class="Argument">t</a> <a id="35403" class="Symbol">=</a> <a id="35405" href="NbE.html#35349" class="Bound">s</a><a id="35406" class="Symbol">}</a> <a id="35408" class="Symbol">=</a> <a id="35410" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="id-compose-identity"></a><a id="35416" href="NbE.html#35416" class="Function">id-compose-identity</a> <a id="35436" class="Symbol">:</a> <a id="35438" class="Symbol">â</a> <a id="35440" class="Symbol">{</a><a id="35441" href="NbE.html#35441" class="Bound">Î</a> <a id="35443" href="NbE.html#35443" class="Bound">Î</a> <a id="35445" class="Symbol">:</a> <a id="35447" href="NbE.html#1943" class="Datatype">Ctx</a><a id="35450" class="Symbol">}</a> <a id="35452" class="Symbol">{</a><a id="35453" href="NbE.html#35453" class="Bound">Ï</a> <a id="35455" class="Symbol">:</a> <a id="35457" href="NbE.html#6688" class="Datatype">Sub</a> <a id="35461" href="NbE.html#35441" class="Bound">Î</a> <a id="35463" href="NbE.html#35443" class="Bound">Î</a><a id="35464" class="Symbol">}</a>
                    <a id="35486" class="Symbol">â</a> <a id="35488" href="NbE.html#35453" class="Bound">Ï</a> <a id="35490" href="NbE.html#10937" class="Function Operator">â</a> <a id="35492" href="NbE.html#11739" class="Function">subst-id</a> <a id="35501" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="35503" href="NbE.html#35453" class="Bound">Ï</a>
<a id="35505" href="NbE.html#35416" class="Function">id-compose-identity</a> <a id="35525" class="Symbol">{</a><a id="35526" class="Argument">Ï</a> <a id="35528" class="Symbol">=</a> <a id="35530" href="NbE.html#6718" class="InductiveConstructor">â</a><a id="35531" class="Symbol">}</a> <a id="35533" class="Symbol">=</a> <a id="35535" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="35540" href="NbE.html#35416" class="Function">id-compose-identity</a> <a id="35560" class="Symbol">{</a><a id="35561" class="Argument">Ï</a> <a id="35563" class="Symbol">=</a> <a id="35565" href="NbE.html#35565" class="Bound">Ï</a> <a id="35567" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="35569" href="NbE.html#35569" class="Bound">s</a><a id="35570" class="Symbol">}</a>
  <a id="35574" class="Keyword">rewrite</a> <a id="35582" href="NbE.html#35416" class="Function">id-compose-identity</a> <a id="35602" class="Symbol">{</a><a id="35603" class="Argument">Ï</a> <a id="35605" class="Symbol">=</a> <a id="35607" href="NbE.html#35565" class="Bound">Ï</a><a id="35608" class="Symbol">}</a> <a id="35610" class="Symbol">|</a> <a id="35612" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="35626" class="Symbol">{</a><a id="35627" class="Argument">t</a> <a id="35629" class="Symbol">=</a> <a id="35631" href="NbE.html#35569" class="Bound">s</a><a id="35632" class="Symbol">}</a> <a id="35634" class="Symbol">=</a> <a id="35636" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="35642" class="Keyword">postulate</a>
  <a id="subst-compose"></a><a id="35654" href="NbE.html#35654" class="Postulate">subst-compose</a> <a id="35668" class="Symbol">:</a> <a id="35670" class="Symbol">â</a> <a id="35672" class="Symbol">{</a><a id="35673" href="NbE.html#35673" class="Bound">Îâ</a> <a id="35676" href="NbE.html#35676" class="Bound">Îâ</a> <a id="35679" href="NbE.html#35679" class="Bound">Îâ</a> <a id="35682" class="Symbol">:</a> <a id="35684" href="NbE.html#1943" class="Datatype">Ctx</a><a id="35687" class="Symbol">}</a> <a id="35689" class="Symbol">{</a><a id="35690" href="NbE.html#35690" class="Bound">T</a> <a id="35692" class="Symbol">:</a> <a id="35694" href="NbE.html#1051" class="Datatype">Type</a><a id="35698" class="Symbol">}</a> <a id="35700" class="Symbol">{</a><a id="35701" href="NbE.html#35701" class="Bound">Ï</a> <a id="35703" class="Symbol">:</a> <a id="35705" href="NbE.html#6688" class="Datatype">Sub</a> <a id="35709" href="NbE.html#35673" class="Bound">Îâ</a> <a id="35712" href="NbE.html#35676" class="Bound">Îâ</a><a id="35714" class="Symbol">}</a> <a id="35716" class="Symbol">{</a><a id="35717" href="NbE.html#35717" class="Bound">Ï</a> <a id="35719" class="Symbol">:</a> <a id="35721" href="NbE.html#6688" class="Datatype">Sub</a> <a id="35725" href="NbE.html#35676" class="Bound">Îâ</a> <a id="35728" href="NbE.html#35679" class="Bound">Îâ</a><a id="35730" class="Symbol">}</a>
                    <a id="35752" class="Symbol">{</a><a id="35753" href="NbE.html#35753" class="Bound">t</a> <a id="35755" class="Symbol">:</a> <a id="35757" href="NbE.html#35679" class="Bound">Îâ</a> <a id="35760" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="35762" href="NbE.html#35690" class="Bound">T</a><a id="35763" class="Symbol">}</a>
                <a id="35781" class="Symbol">â</a> <a id="35783" href="NbE.html#35753" class="Bound">t</a> <a id="35785" href="NbE.html#10528" class="Function Operator">[</a> <a id="35787" href="NbE.html#35717" class="Bound">Ï</a> <a id="35789" href="NbE.html#10528" class="Function Operator">]</a> <a id="35791" href="NbE.html#10528" class="Function Operator">[</a> <a id="35793" href="NbE.html#35701" class="Bound">Ï</a> <a id="35795" href="NbE.html#10528" class="Function Operator">]</a> <a id="35797" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="35799" href="NbE.html#35753" class="Bound">t</a> <a id="35801" href="NbE.html#10528" class="Function Operator">[</a> <a id="35803" href="NbE.html#35717" class="Bound">Ï</a> <a id="35805" href="NbE.html#10937" class="Function Operator">â</a> <a id="35807" href="NbE.html#35701" class="Bound">Ï</a> <a id="35809" href="NbE.html#10528" class="Function Operator">]</a>

  <a id="subst-compose-â"></a><a id="35814" href="NbE.html#35814" class="Postulate">subst-compose-â</a> <a id="35830" class="Symbol">:</a> <a id="35832" class="Symbol">â</a> <a id="35834" class="Symbol">{</a><a id="35835" href="NbE.html#35835" class="Bound">Îâ</a> <a id="35838" href="NbE.html#35838" class="Bound">Îâ</a> <a id="35841" href="NbE.html#35841" class="Bound">Îâ</a> <a id="35844" class="Symbol">:</a> <a id="35846" href="NbE.html#1943" class="Datatype">Ctx</a><a id="35849" class="Symbol">}</a> <a id="35851" class="Symbol">{</a><a id="35852" href="NbE.html#35852" class="Bound">S</a> <a id="35854" class="Symbol">:</a> <a id="35856" href="NbE.html#1051" class="Datatype">Type</a><a id="35860" class="Symbol">}</a> <a id="35862" class="Symbol">{</a><a id="35863" href="NbE.html#35863" class="Bound">Ï</a> <a id="35865" class="Symbol">:</a> <a id="35867" href="NbE.html#6688" class="Datatype">Sub</a> <a id="35871" href="NbE.html#35835" class="Bound">Îâ</a> <a id="35874" href="NbE.html#35838" class="Bound">Îâ</a><a id="35876" class="Symbol">}</a>
                      <a id="35900" class="Symbol">{</a><a id="35901" href="NbE.html#35901" class="Bound">Ï</a> <a id="35903" class="Symbol">:</a> <a id="35905" href="NbE.html#6688" class="Datatype">Sub</a> <a id="35909" href="NbE.html#35838" class="Bound">Îâ</a> <a id="35912" href="NbE.html#35841" class="Bound">Îâ</a><a id="35914" class="Symbol">}</a> <a id="35916" class="Symbol">{</a><a id="35917" href="NbE.html#35917" class="Bound">s</a> <a id="35919" class="Symbol">:</a> <a id="35921" href="NbE.html#35835" class="Bound">Îâ</a> <a id="35924" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="35926" href="NbE.html#35852" class="Bound">S</a><a id="35927" class="Symbol">}</a>
                  <a id="35947" class="Symbol">â</a> <a id="35949" class="Symbol">(</a><a id="35950" href="NbE.html#35901" class="Bound">Ï</a> <a id="35952" href="NbE.html#10252" class="Function Operator">â</a><a id="35953" class="Symbol">)</a> <a id="35955" href="NbE.html#10937" class="Function Operator">â</a> <a id="35957" class="Symbol">(</a><a id="35958" href="NbE.html#35863" class="Bound">Ï</a> <a id="35960" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="35962" href="NbE.html#35917" class="Bound">s</a><a id="35963" class="Symbol">)</a> <a id="35965" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="35967" href="NbE.html#35901" class="Bound">Ï</a> <a id="35969" href="NbE.html#10937" class="Function Operator">â</a> <a id="35971" href="NbE.html#35863" class="Bound">Ï</a>

  <a id="35976" class="Comment">-- Weakening substitutions can be composed</a>
  <a id="weaken-compose"></a><a id="36021" href="NbE.html#36021" class="Postulate">weaken-compose</a> <a id="36036" class="Symbol">:</a> <a id="36038" class="Symbol">â</a> <a id="36040" class="Symbol">{</a><a id="36041" href="NbE.html#36041" class="Bound">Îâ</a> <a id="36044" href="NbE.html#36044" class="Bound">Îâ</a> <a id="36047" href="NbE.html#36047" class="Bound">Îâ</a> <a id="36050" class="Symbol">:</a> <a id="36052" href="NbE.html#1943" class="Datatype">Ctx</a><a id="36055" class="Symbol">}</a> <a id="36057" class="Symbol">{</a><a id="36058" href="NbE.html#36058" class="Bound">T</a> <a id="36060" class="Symbol">:</a> <a id="36062" href="NbE.html#1051" class="Datatype">Type</a><a id="36066" class="Symbol">}</a>
    <a id="36072" class="Symbol">â</a> <a id="36074" class="Symbol">(</a><a id="36075" href="NbE.html#36075" class="Bound">Îââ¤Îâ</a> <a id="36081" class="Symbol">:</a> <a id="36083" href="NbE.html#36041" class="Bound">Îâ</a> <a id="36086" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="36088" href="NbE.html#36044" class="Bound">Îâ</a><a id="36090" class="Symbol">)</a>
    <a id="36096" class="Symbol">â</a> <a id="36098" class="Symbol">(</a><a id="36099" href="NbE.html#36099" class="Bound">Îââ¤Îâ</a> <a id="36105" class="Symbol">:</a> <a id="36107" href="NbE.html#36044" class="Bound">Îâ</a> <a id="36110" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="36112" href="NbE.html#36047" class="Bound">Îâ</a><a id="36114" class="Symbol">)</a>
    <a id="36120" class="Symbol">â</a> <a id="36122" class="Symbol">(</a><a id="36123" href="NbE.html#36123" class="Bound">t</a> <a id="36125" class="Symbol">:</a> <a id="36127" href="NbE.html#36047" class="Bound">Îâ</a> <a id="36130" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="36132" href="NbE.html#36058" class="Bound">T</a><a id="36133" class="Symbol">)</a>
    <a id="36139" class="Symbol">â</a> <a id="36141" href="NbE.html#36075" class="Bound">Îââ¤Îâ</a> <a id="36147" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="36150" href="NbE.html#36099" class="Bound">Îââ¤Îâ</a> <a id="36156" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="36159" href="NbE.html#36123" class="Bound">t</a> <a id="36161" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="36163" class="Symbol">(</a><a id="36164" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="36172" href="NbE.html#36075" class="Bound">Îââ¤Îâ</a> <a id="36178" href="NbE.html#36099" class="Bound">Îââ¤Îâ</a><a id="36183" class="Symbol">)</a> <a id="36185" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="36188" href="NbE.html#36123" class="Bound">t</a>

  <a id="36193" class="Comment">-- TODO: not sure if this lemma will be necessary</a>
  <a id="==-rename"></a><a id="36245" href="NbE.html#36245" class="Postulate">==-rename</a> <a id="36255" class="Symbol">:</a> <a id="36257" class="Symbol">â</a> <a id="36259" class="Symbol">{</a><a id="36260" href="NbE.html#36260" class="Bound">Î</a> <a id="36262" href="NbE.html#36262" class="Bound">Î</a> <a id="36264" class="Symbol">:</a> <a id="36266" href="NbE.html#1943" class="Datatype">Ctx</a><a id="36269" class="Symbol">}</a> <a id="36271" class="Symbol">{</a><a id="36272" href="NbE.html#36272" class="Bound">T</a> <a id="36274" class="Symbol">:</a> <a id="36276" href="NbE.html#1051" class="Datatype">Type</a><a id="36280" class="Symbol">}</a> <a id="36282" class="Symbol">{</a><a id="36283" href="NbE.html#36283" class="Bound">t</a> <a id="36285" href="NbE.html#36285" class="Bound">tâ²</a> <a id="36288" class="Symbol">:</a> <a id="36290" href="NbE.html#36260" class="Bound">Î</a> <a id="36292" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="36294" href="NbE.html#36272" class="Bound">T</a><a id="36295" class="Symbol">}</a> <a id="36297" class="Symbol">{</a><a id="36298" href="NbE.html#36298" class="Bound">Ïáµ£</a> <a id="36301" class="Symbol">:</a> <a id="36303" href="NbE.html#7265" class="Datatype">Ren</a> <a id="36307" href="NbE.html#36262" class="Bound">Î</a> <a id="36309" href="NbE.html#36260" class="Bound">Î</a><a id="36310" class="Symbol">}</a>
            <a id="36324" class="Symbol">â</a> <a id="36326" href="NbE.html#36283" class="Bound">t</a> <a id="36328" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="36331" href="NbE.html#36285" class="Bound">tâ²</a>
            <a id="36346" class="Symbol">â</a> <a id="36348" href="NbE.html#36283" class="Bound">t</a> <a id="36350" href="NbE.html#8616" class="Function Operator">[</a> <a id="36352" href="NbE.html#36298" class="Bound">Ïáµ£</a> <a id="36355" href="NbE.html#8616" class="Function Operator">]áµ£</a> <a id="36358" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="36361" href="NbE.html#36285" class="Bound">tâ²</a> <a id="36364" href="NbE.html#8616" class="Function Operator">[</a> <a id="36366" href="NbE.html#36298" class="Bound">Ïáµ£</a> <a id="36369" href="NbE.html#8616" class="Function Operator">]áµ£</a>

  <a id="==-subst"></a><a id="36375" href="NbE.html#36375" class="Postulate">==-subst</a> <a id="36384" class="Symbol">:</a> <a id="36386" class="Symbol">â</a> <a id="36388" class="Symbol">{</a><a id="36389" href="NbE.html#36389" class="Bound">Î</a> <a id="36391" href="NbE.html#36391" class="Bound">Î</a> <a id="36393" class="Symbol">:</a> <a id="36395" href="NbE.html#1943" class="Datatype">Ctx</a><a id="36398" class="Symbol">}</a> <a id="36400" class="Symbol">{</a><a id="36401" href="NbE.html#36401" class="Bound">T</a> <a id="36403" class="Symbol">:</a> <a id="36405" href="NbE.html#1051" class="Datatype">Type</a><a id="36409" class="Symbol">}</a> <a id="36411" class="Symbol">{</a><a id="36412" href="NbE.html#36412" class="Bound">t</a> <a id="36414" href="NbE.html#36414" class="Bound">tâ²</a> <a id="36417" class="Symbol">:</a> <a id="36419" href="NbE.html#36389" class="Bound">Î</a> <a id="36421" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="36423" href="NbE.html#36401" class="Bound">T</a><a id="36424" class="Symbol">}</a> <a id="36426" class="Symbol">{</a><a id="36427" href="NbE.html#36427" class="Bound">Ï</a> <a id="36429" class="Symbol">:</a> <a id="36431" href="NbE.html#6688" class="Datatype">Sub</a> <a id="36435" href="NbE.html#36391" class="Bound">Î</a> <a id="36437" href="NbE.html#36389" class="Bound">Î</a><a id="36438" class="Symbol">}</a>
           <a id="36451" class="Symbol">â</a> <a id="36453" href="NbE.html#36412" class="Bound">t</a> <a id="36455" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="36458" href="NbE.html#36414" class="Bound">tâ²</a>
           <a id="36472" class="Symbol">â</a> <a id="36474" href="NbE.html#36412" class="Bound">t</a> <a id="36476" href="NbE.html#10528" class="Function Operator">[</a> <a id="36478" href="NbE.html#36427" class="Bound">Ï</a> <a id="36480" href="NbE.html#10528" class="Function Operator">]</a> <a id="36482" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="36485" href="NbE.html#36414" class="Bound">tâ²</a> <a id="36488" href="NbE.html#10528" class="Function Operator">[</a> <a id="36490" href="NbE.html#36427" class="Bound">Ï</a> <a id="36492" href="NbE.html#10528" class="Function Operator">]</a>

<a id="36495" class="Comment">-- Applying an increment renaming substitution to a term that already</a>
<a id="36565" class="Comment">-- has a weakening substitution applied to it is equivalent to shifting</a>
<a id="36637" class="Comment">-- the weakening substitution</a>
<a id="incr-â-â¡"></a><a id="36667" href="NbE.html#36667" class="Function">incr-â-â¡</a> <a id="36676" class="Symbol">:</a> <a id="36678" class="Symbol">â</a> <a id="36680" class="Symbol">{</a><a id="36681" href="NbE.html#36681" class="Bound">Î</a> <a id="36683" href="NbE.html#36683" class="Bound">Îâ²</a> <a id="36686" class="Symbol">:</a> <a id="36688" href="NbE.html#1943" class="Datatype">Ctx</a><a id="36691" class="Symbol">}</a> <a id="36693" class="Symbol">{</a><a id="36694" href="NbE.html#36694" class="Bound">Îâ²â¤Î</a> <a id="36699" class="Symbol">:</a> <a id="36701" href="NbE.html#36683" class="Bound">Îâ²</a> <a id="36704" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="36706" href="NbE.html#36681" class="Bound">Î</a><a id="36707" class="Symbol">}</a> <a id="36709" class="Symbol">{</a><a id="36710" href="NbE.html#36710" class="Bound">S</a> <a id="36712" href="NbE.html#36712" class="Bound">T</a> <a id="36714" class="Symbol">:</a> <a id="36716" href="NbE.html#1051" class="Datatype">Type</a><a id="36720" class="Symbol">}</a> <a id="36722" class="Symbol">{</a><a id="36723" href="NbE.html#36723" class="Bound">t</a> <a id="36725" class="Symbol">:</a> <a id="36727" href="NbE.html#36681" class="Bound">Î</a> <a id="36729" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="36731" href="NbE.html#36712" class="Bound">T</a><a id="36732" class="Symbol">}</a>
         <a id="36743" class="Symbol">â</a> <a id="36745" href="NbE.html#36710" class="Bound">S</a> <a id="36747" href="NbE.html#12039" class="Function Operator">ââ¢</a> <a id="36750" class="Symbol">(</a><a id="36751" href="NbE.html#36723" class="Bound">t</a> <a id="36753" href="NbE.html#10528" class="Function Operator">[</a> <a id="36755" href="NbE.html#11260" class="Function">weaken</a> <a id="36762" href="NbE.html#36694" class="Bound">Îâ²â¤Î</a> <a id="36767" href="NbE.html#10528" class="Function Operator">]</a><a id="36768" class="Symbol">)</a> <a id="36770" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">â¡</a> <a id="36772" href="NbE.html#36723" class="Bound">t</a> <a id="36774" href="NbE.html#10528" class="Function Operator">[</a> <a id="36776" href="NbE.html#9824" class="Function">subst-ren</a> <a id="36786" class="Symbol">(</a><a id="36787" href="NbE.html#9583" class="Function">ren-â¤</a> <a id="36793" href="NbE.html#36694" class="Bound">Îâ²â¤Î</a> <a id="36798" href="NbE.html#8198" class="Function Operator">âáµ£</a><a id="36800" class="Symbol">)</a> <a id="36802" href="NbE.html#10528" class="Function Operator">]</a>
<a id="36804" href="NbE.html#36667" class="Function">incr-â-â¡</a> <a id="36813" class="Symbol">{</a><a id="36814" class="Argument">Îâ²â¤Î</a> <a id="36819" class="Symbol">=</a> <a id="36821" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a><a id="36825" class="Symbol">}</a> <a id="36827" class="Symbol">{</a><a id="36828" class="Argument">t</a> <a id="36830" class="Symbol">=</a> <a id="36832" href="NbE.html#36832" class="Bound">t</a><a id="36833" class="Symbol">}</a> <a id="36835" class="Keyword">rewrite</a> <a id="36843" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="36857" class="Symbol">{</a><a id="36858" class="Argument">t</a> <a id="36860" class="Symbol">=</a> <a id="36862" href="NbE.html#36832" class="Bound">t</a><a id="36863" class="Symbol">}</a> <a id="36865" class="Symbol">=</a> <a id="36867" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="36872" href="NbE.html#36667" class="Function">incr-â-â¡</a> <a id="36881" class="Symbol">{</a><a id="36882" class="Argument">Îâ²â¤Î</a> <a id="36887" class="Symbol">=</a> <a id="36889" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="36895" class="Symbol">{</a><a id="36896" class="Argument">T</a> <a id="36898" class="Symbol">=</a> <a id="36900" href="NbE.html#36900" class="Bound">Sâ</a><a id="36902" class="Symbol">}</a> <a id="36904" href="NbE.html#36904" class="Bound">Îâ²â¤Î</a><a id="36908" class="Symbol">}</a> <a id="36910" class="Symbol">{</a><a id="36911" href="NbE.html#36911" class="Bound">Sâ</a><a id="36913" class="Symbol">}</a> <a id="36915" class="Symbol">{</a><a id="36916" class="Argument">t</a> <a id="36918" class="Symbol">=</a> <a id="36920" href="NbE.html#36920" class="Bound">t</a><a id="36921" class="Symbol">}</a>
  <a id="36925" class="Keyword">rewrite</a> <a id="36933" href="NbE.html#750" class="Function">â¡-sym</a> <a id="36939" class="Symbol">(</a><a id="36940" href="NbE.html#36667" class="Function">incr-â-â¡</a> <a id="36949" class="Symbol">{</a><a id="36950" class="Argument">Îâ²â¤Î</a> <a id="36955" class="Symbol">=</a> <a id="36957" href="NbE.html#36904" class="Bound">Îâ²â¤Î</a><a id="36961" class="Symbol">}</a> <a id="36963" class="Symbol">{</a><a id="36964" href="NbE.html#36900" class="Bound">Sâ</a><a id="36966" class="Symbol">}</a> <a id="36968" class="Symbol">{</a><a id="36969" class="Argument">t</a> <a id="36971" class="Symbol">=</a> <a id="36973" href="NbE.html#36920" class="Bound">t</a><a id="36974" class="Symbol">})</a>
        <a id="36985" class="Symbol">|</a> <a id="36987" href="NbE.html#36021" class="Postulate">weaken-compose</a> <a id="37002" class="Symbol">(</a><a id="37003" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="37009" class="Symbol">{</a><a id="37010" class="Argument">T</a> <a id="37012" class="Symbol">=</a> <a id="37014" href="NbE.html#36900" class="Bound">Sâ</a><a id="37016" class="Symbol">}</a> <a id="37018" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a><a id="37022" class="Symbol">)</a> <a id="37024" href="NbE.html#36904" class="Bound">Îâ²â¤Î</a> <a id="37029" href="NbE.html#36920" class="Bound">t</a>
        <a id="37039" class="Symbol">|</a> <a id="37041" href="NbE.html#36021" class="Postulate">weaken-compose</a>
            <a id="37068" class="Symbol">(</a><a id="37069" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="37075" class="Symbol">{</a><a id="37076" class="Argument">T</a> <a id="37078" class="Symbol">=</a> <a id="37080" href="NbE.html#36911" class="Bound">Sâ</a><a id="37082" class="Symbol">}</a> <a id="37084" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a><a id="37088" class="Symbol">)</a>
            <a id="37102" class="Symbol">(</a><a id="37103" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="37111" class="Symbol">(</a><a id="37112" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="37118" class="Symbol">{</a><a id="37119" class="Argument">T</a> <a id="37121" class="Symbol">=</a> <a id="37123" href="NbE.html#36900" class="Bound">Sâ</a><a id="37125" class="Symbol">}</a> <a id="37127" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a><a id="37131" class="Symbol">)</a> <a id="37133" href="NbE.html#36904" class="Bound">Îâ²â¤Î</a><a id="37137" class="Symbol">)</a>
            <a id="37151" href="NbE.html#36920" class="Bound">t</a>
        <a id="37161" class="Symbol">|</a> <a id="37163" href="NbE.html#32011" class="Function">â¤-pf-irrelevance</a>
            <a id="37192" class="Symbol">(</a><a id="37193" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="37201" class="Symbol">(</a><a id="37202" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="37208" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a><a id="37212" class="Symbol">)</a> <a id="37214" class="Symbol">(</a><a id="37215" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="37223" class="Symbol">(</a><a id="37224" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="37230" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a><a id="37234" class="Symbol">)</a> <a id="37236" href="NbE.html#36904" class="Bound">Îâ²â¤Î</a><a id="37240" class="Symbol">))</a>
            <a id="37255" class="Symbol">(</a><a id="37256" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="37262" class="Symbol">{</a><a id="37263" class="Argument">T</a> <a id="37265" class="Symbol">=</a> <a id="37267" href="NbE.html#36911" class="Bound">Sâ</a><a id="37269" class="Symbol">}</a> <a id="37271" class="Symbol">(</a><a id="37272" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="37278" class="Symbol">{</a><a id="37279" class="Argument">T</a> <a id="37281" class="Symbol">=</a> <a id="37283" href="NbE.html#36900" class="Bound">Sâ</a><a id="37285" class="Symbol">}</a> <a id="37287" href="NbE.html#36904" class="Bound">Îâ²â¤Î</a><a id="37291" class="Symbol">))</a>             <a id="37306" class="Symbol">=</a> <a id="37308" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>
-->
<h1 id="soundness">Soundness</h1>
<p>We prove the soundness property of preservation of meaning of NbE
(i.e.Â <code>â¦ nf(t) â§ = â¦ t â§</code>), which we just call soundness here
for brevity, by proving the definitional equality of a term and its
normal form:</p>
<pre><code>Î â¢ t = nf(t) : T</code></pre>
<p>which expands to:</p>
<pre><code>Î â¢ t = âáµ a Î, where a = â¦ t â§ âÎ</code></pre>
<p>For this, a logical relation <code>t â a</code> is defined such that
it implies <code>Î â¢ t = âáµ a Î : T</code>.</p>
For defining the relation in Agda, we will need some functions first.
The first âliftsâ definitional equality over liftable neutrals.
Formally, this represents the condition <code>Î â¢ ð = ðÌ(Î) : T</code>,
or equivalently in Agda:
<pre class="Agda"><a id="_==â_"></a><a id="37949" href="NbE.html#37949" class="Function Operator">_==â_</a> <a id="37955" class="Symbol">:</a> <a id="37957" class="Symbol">{</a><a id="37958" href="NbE.html#37958" class="Bound">Î</a> <a id="37960" class="Symbol">:</a> <a id="37962" href="NbE.html#1943" class="Datatype">Ctx</a><a id="37965" class="Symbol">}</a> <a id="37967" class="Symbol">{</a><a id="37968" href="NbE.html#37968" class="Bound">T</a> <a id="37970" class="Symbol">:</a> <a id="37972" href="NbE.html#1051" class="Datatype">Type</a><a id="37976" class="Symbol">}</a> <a id="37978" class="Symbol">â</a> <a id="37980" href="NbE.html#37958" class="Bound">Î</a> <a id="37982" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="37984" href="NbE.html#37968" class="Bound">T</a> <a id="37986" class="Symbol">â</a> <a id="37988" href="NbE.html#22920" class="Function">Neâ</a> <a id="37992" href="NbE.html#37968" class="Bound">T</a> <a id="37994" class="Symbol">â</a> <a id="37996" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="38000" href="NbE.html#37949" class="Function Operator">_==â_</a> <a id="38006" class="Symbol">{</a><a id="38007" href="NbE.html#38007" class="Bound">Î</a><a id="38008" class="Symbol">}</a> <a id="38010" href="NbE.html#38010" class="Bound">t</a> <a id="38012" href="NbE.html#38012" class="Bound">ðÌ</a> <a id="38015" class="Keyword">with</a> <a id="38020" href="NbE.html#38012" class="Bound">ðÌ</a> <a id="38023" href="NbE.html#38007" class="Bound">Î</a>
<a id="38025" class="Symbol">...</a> <a id="38029" class="Symbol">|</a> <a id="38031" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="38036" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="38038" href="NbE.html#38038" class="Bound">ð</a> <a id="38040" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="38042" class="Symbol">_</a> <a id="38044" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="38046" class="Symbol">=</a>
      <a id="38054" class="Comment">-- If the liftable neutral can be lifted to the</a>
      <a id="38108" class="Comment">-- context Î, this is just definitional equality</a>
      <a id="38163" class="Bound">t</a> <a id="38165" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="38168" href="NbE.html#38038" class="Bound">ð</a>
<a id="38170" class="Symbol">...</a> <a id="38174" class="Symbol">|</a> <a id="38176" href="Data.Sum.Base.html#809" class="InductiveConstructor">injâ</a> <a id="38181" class="Symbol">_</a> <a id="38183" class="Symbol">=</a>
      <a id="38191" class="Comment">-- Otherwise, the proposition cannot be proven,</a>
      <a id="38245" class="Comment">-- as there is no lifted term in the context</a>
      <a id="38296" class="Comment">-- to compare a term to</a>
      <a id="38326" href="Data.Empty.html#526" class="Datatype">â¥</a>

<a id="38329" class="Keyword">infix</a> <a id="38335" class="Number">3</a> <a id="38337" href="NbE.html#37949" class="Function Operator">_==â_</a>
</pre>
We also provide shorthand for reifying the interpretation of a term t
and then immediately applying a context Î (we use lowercase Î³ as our
subscript as Î is not a valid subscript)
<pre class="Agda"><a id="âáµáµ§"></a><a id="38536" href="NbE.html#38536" class="Function">âáµáµ§</a> <a id="38540" class="Symbol">:</a> <a id="38542" class="Symbol">â</a> <a id="38544" class="Symbol">{</a><a id="38545" href="NbE.html#38545" class="Bound">Î</a> <a id="38547" class="Symbol">:</a> <a id="38549" href="NbE.html#1943" class="Datatype">Ctx</a><a id="38552" class="Symbol">}</a> <a id="38554" class="Symbol">{</a><a id="38555" href="NbE.html#38555" class="Bound">T</a> <a id="38557" class="Symbol">:</a> <a id="38559" href="NbE.html#1051" class="Datatype">Type</a><a id="38563" class="Symbol">}</a> <a id="38565" class="Symbol">â</a> <a id="38567" class="Symbol">(</a><a id="38568" href="NbE.html#38568" class="Bound">a</a> <a id="38570" class="Symbol">:</a> <a id="38572" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="38574" href="NbE.html#38555" class="Bound">T</a> <a id="38576" href="NbE.html#15983" class="Field Operator">â§</a><a id="38577" class="Symbol">)</a> <a id="38579" class="Symbol">â</a> <a id="38581" href="NbE.html#38545" class="Bound">Î</a> <a id="38583" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="38585" href="NbE.html#38555" class="Bound">T</a>
<a id="38587" href="NbE.html#38536" class="Function">âáµáµ§</a> <a id="38591" class="Symbol">{</a><a id="38592" href="NbE.html#38592" class="Bound">Î</a><a id="38593" class="Symbol">}</a> <a id="38595" href="NbE.html#38595" class="Bound">a</a> <a id="38597" class="Keyword">with</a> <a id="38602" href="NbE.html#24381" class="Function">âáµ</a> <a id="38605" href="NbE.html#38595" class="Bound">a</a>
<a id="38607" class="Symbol">...</a> <a id="38611" class="Symbol">|</a> <a id="38613" href="NbE.html#38613" class="Bound">aâ</a> <a id="38616" class="Symbol">=</a> <a id="38618" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a> <a id="38624" class="Symbol">(</a><a id="38625" href="NbE.html#38613" class="Bound">aâ</a> <a id="38628" class="Bound">Î</a><a id="38629" class="Symbol">)</a>
</pre>
<p>With these, we can begin to introduce the Kripe logical relation
<code>Î â¢ t : T â a</code> between a typed term <code>Î â¢ t : T</code>
and a value <code>a â â¦ T â§</code>. The logical relation will be defined
inductively on types. At type nat, the relation is defined as:</p>
<pre><code>Î : nat â ðÌ â â Îâ² â¤ Î. Îâ² â¢ t = ðÌ(Îâ²) : nat</code></pre>
For Agdaâs termination checking, we have to define the logical relation
at type nat separately, which we do so in the form of â:
<pre class="Agda"><a id="_â_"></a><a id="39065" href="NbE.html#39065" class="Function Operator">_â_</a> <a id="39069" class="Symbol">:</a> <a id="39071" class="Symbol">â</a> <a id="39073" class="Symbol">{</a><a id="39074" href="NbE.html#39074" class="Bound">Î</a> <a id="39076" class="Symbol">:</a> <a id="39078" href="NbE.html#1943" class="Datatype">Ctx</a><a id="39081" class="Symbol">}</a> <a id="39083" class="Symbol">â</a> <a id="39085" href="NbE.html#39074" class="Bound">Î</a> <a id="39087" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="39089" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="39093" class="Symbol">â</a> <a id="39095" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="39097" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="39101" href="NbE.html#15983" class="Field Operator">â§</a> <a id="39103" class="Symbol">â</a> <a id="39105" href="Agda.Primitive.html#326" class="Primitive">Set</a>
</pre>
<p>We define â mutually with ==âÌ, a relation representing the condition
<code>Îâ² â¢ t = ðÌ(Îâ²) : nat</code>, which lifts definitional equality to
be over naturals with embedded liftable neutrals</p>
<pre class="Agda"><a id="_==âÌ_"></a><a id="39304" href="NbE.html#39304" class="Function Operator">_==âÌ_</a> <a id="39311" class="Symbol">:</a> <a id="39313" class="Symbol">â</a> <a id="39315" class="Symbol">{</a><a id="39316" href="NbE.html#39316" class="Bound">Î</a> <a id="39318" class="Symbol">:</a> <a id="39320" href="NbE.html#1943" class="Datatype">Ctx</a><a id="39323" class="Symbol">}</a> <a id="39325" class="Symbol">â</a> <a id="39327" href="NbE.html#39316" class="Bound">Î</a> <a id="39329" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="39331" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="39335" class="Symbol">â</a> <a id="39337" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="39339" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="39343" href="NbE.html#15983" class="Field Operator">â§</a> <a id="39345" class="Symbol">â</a> <a id="39347" href="Agda.Primitive.html#326" class="Primitive">Set</a>

<a id="39352" href="NbE.html#39065" class="Function Operator">_â_</a> <a id="39356" class="Symbol">{</a><a id="39357" href="NbE.html#39357" class="Bound">Î</a><a id="39358" class="Symbol">}</a> <a id="39360" href="NbE.html#39360" class="Bound">n</a> <a id="39362" href="NbE.html#39362" class="Bound">ðÌ</a> <a id="39365" class="Symbol">=</a>
  <a id="39369" class="Symbol">â</a> <a id="39371" class="Symbol">{</a><a id="39372" href="NbE.html#39372" class="Bound">Îâ²</a> <a id="39375" class="Symbol">:</a> <a id="39377" href="NbE.html#1943" class="Datatype">Ctx</a><a id="39380" class="Symbol">}</a>
  <a id="39384" class="Symbol">â</a> <a id="39386" class="Symbol">(</a><a id="39387" href="NbE.html#39387" class="Bound">Îâ²â¤Î</a> <a id="39392" class="Symbol">:</a> <a id="39394" href="NbE.html#39372" class="Bound">Îâ²</a> <a id="39397" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="39399" href="NbE.html#39357" class="Bound">Î</a><a id="39400" class="Symbol">)</a>
    <a id="39406" class="Comment">---------------</a>
  <a id="39424" class="Symbol">â</a> <a id="39426" href="NbE.html#39387" class="Bound">Îâ²â¤Î</a> <a id="39431" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="39434" href="NbE.html#39360" class="Bound">n</a> <a id="39436" href="NbE.html#39304" class="Function Operator">==âÌ</a> <a id="39441" href="NbE.html#39362" class="Bound">ðÌ</a>

<a id="39445" class="Keyword">infix</a> <a id="39451" class="Number">4</a> <a id="39453" href="NbE.html#39065" class="Function Operator">_â_</a>
</pre>
For <code>zero</code>, the ==âÌ relation is a simple definitional
equality judgement:
<pre class="Agda"><a id="39545" href="NbE.html#39304" class="Function Operator">_==âÌ_</a> <a id="39552" class="Symbol">{</a><a id="39553" href="NbE.html#39553" class="Bound">Î</a><a id="39554" class="Symbol">}</a> <a id="39556" href="NbE.html#39556" class="Bound">t</a> <a id="39558" href="NbE.html#23818" class="InductiveConstructor">zero</a> <a id="39563" class="Symbol">=</a> <a id="39565" href="NbE.html#39556" class="Bound">t</a> <a id="39567" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="39570" href="NbE.html#4377" class="InductiveConstructor">zero</a>
</pre>
However, for our recursive case (suc ðÌ), the definition is a bit more
involved. We want the term to be definitionally equal to
<code>suc Â· n</code> such that n is logically related to ðÌ, a condition
stronger than ==âÌ, as it holds for all extensions of the context â this
is why we need to define ==âÌ mutually with â. We want our recursive
condition to be stronger to have an easier time with the embedded
liftable neutrals
<pre class="Agda"><a id="40004" href="NbE.html#39304" class="Function Operator">_==âÌ_</a> <a id="40011" class="Symbol">{</a><a id="40012" href="NbE.html#40012" class="Bound">Î</a><a id="40013" class="Symbol">}</a> <a id="40015" href="NbE.html#40015" class="Bound">t</a> <a id="40017" class="Symbol">(</a><a id="40018" href="NbE.html#23830" class="InductiveConstructor">suc</a> <a id="40022" href="NbE.html#40022" class="Bound">ðÌ</a><a id="40024" class="Symbol">)</a> <a id="40026" class="Symbol">=</a> <a id="40028" href="Data.Product.html#1806" class="Function">â[</a> <a id="40031" href="NbE.html#40031" class="Bound">n</a> <a id="40033" href="Data.Product.html#1806" class="Function">]</a> <a id="40035" href="NbE.html#40015" class="Bound">t</a> <a id="40037" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="40040" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="40044" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="40046" href="NbE.html#40031" class="Bound">n</a> <a id="40048" href="Data.Product.html#1167" class="Function Operator">Ã</a> <a id="40050" href="NbE.html#40031" class="Bound">n</a> <a id="40052" href="NbE.html#39065" class="Function Operator">â</a> <a id="40054" href="NbE.html#40022" class="Bound">ðÌ</a>
</pre>
For an embedded liftable neutral, the relation is the lifted
definitional equality defined earlier
<pre class="Agda"><a id="40168" href="NbE.html#39304" class="Function Operator">_==âÌ_</a> <a id="40175" class="Symbol">{</a><a id="40176" href="NbE.html#40176" class="Bound">Î</a><a id="40177" class="Symbol">}</a> <a id="40179" href="NbE.html#40179" class="Bound">t</a> <a id="40181" class="Symbol">(</a><a id="40182" href="NbE.html#23846" class="InductiveConstructor">ne</a> <a id="40185" href="NbE.html#40185" class="Bound">ðÌ</a><a id="40187" class="Symbol">)</a> <a id="40189" class="Symbol">=</a> <a id="40191" href="NbE.html#40179" class="Bound">t</a> <a id="40193" href="NbE.html#37949" class="Function Operator">==â</a> <a id="40197" href="NbE.html#40185" class="Bound">ðÌ</a>

<a id="40201" class="Keyword">infix</a> <a id="40207" class="Number">3</a> <a id="40209" href="NbE.html#39304" class="Function Operator">_==âÌ_</a>
</pre>
With these in place, we can start defining the logical relation â itself
by induction on types, using â for the base type nat
<pre class="Agda"><a id="_â_"></a><a id="40355" href="NbE.html#40355" class="Function Operator">_â_</a> <a id="40359" class="Symbol">:</a> <a id="40361" class="Symbol">â</a> <a id="40363" class="Symbol">{</a><a id="40364" href="NbE.html#40364" class="Bound">Î</a> <a id="40366" class="Symbol">:</a> <a id="40368" href="NbE.html#1943" class="Datatype">Ctx</a><a id="40371" class="Symbol">}</a> <a id="40373" class="Symbol">{</a><a id="40374" href="NbE.html#40374" class="Bound">T</a> <a id="40376" class="Symbol">:</a> <a id="40378" href="NbE.html#1051" class="Datatype">Type</a><a id="40382" class="Symbol">}</a> <a id="40384" class="Symbol">â</a> <a id="40386" href="NbE.html#40364" class="Bound">Î</a> <a id="40388" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="40390" href="NbE.html#40374" class="Bound">T</a> <a id="40392" class="Symbol">â</a> <a id="40394" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="40396" href="NbE.html#40374" class="Bound">T</a> <a id="40398" href="NbE.html#15983" class="Field Operator">â§</a> <a id="40400" class="Symbol">â</a> <a id="40402" href="Agda.Primitive.html#326" class="Primitive">Set</a>

<a id="40407" href="NbE.html#40355" class="Function Operator">_â_</a> <a id="40411" class="Symbol">{</a><a id="40412" href="NbE.html#40412" class="Bound">Î</a><a id="40413" class="Symbol">}</a> <a id="40415" class="Symbol">{</a><a id="40416" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="40419" class="Symbol">}</a> <a id="40421" href="NbE.html#40421" class="Bound">t</a> <a id="40423" href="NbE.html#40423" class="Bound">ðÌ</a> <a id="40426" class="Symbol">=</a> <a id="40428" href="NbE.html#40421" class="Bound">t</a> <a id="40430" href="NbE.html#39065" class="Function Operator">â</a> <a id="40432" href="NbE.html#40423" class="Bound">ðÌ</a>
</pre>
For function types, the relation is defined as: Î â¢ r : S â T â f â â Îâ²
â¤ Î. Îâ² â¢ s : S â a â Îâ² â¢ r s : T â f(a)
<pre class="Agda"><a id="40567" href="NbE.html#40355" class="Function Operator">_â_</a> <a id="40571" class="Symbol">{</a><a id="40572" href="NbE.html#40572" class="Bound">Î</a><a id="40573" class="Symbol">}</a> <a id="40575" class="Symbol">{</a><a id="40576" href="NbE.html#40576" class="Bound">S</a> <a id="40578" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="40580" href="NbE.html#40580" class="Bound">T</a><a id="40581" class="Symbol">}</a> <a id="40583" href="NbE.html#40583" class="Bound">r</a> <a id="40585" href="NbE.html#40585" class="Bound">f</a> <a id="40587" class="Symbol">=</a>
  <a id="40591" class="Symbol">â</a> <a id="40593" class="Symbol">{</a><a id="40594" href="NbE.html#40594" class="Bound">Îâ²</a> <a id="40597" class="Symbol">:</a> <a id="40599" href="NbE.html#1943" class="Datatype">Ctx</a><a id="40602" class="Symbol">}</a>
  <a id="40606" class="Symbol">â</a> <a id="40608" class="Symbol">(</a><a id="40609" href="NbE.html#40609" class="Bound">Îâ²â¤Î</a> <a id="40614" class="Symbol">:</a> <a id="40616" href="NbE.html#40594" class="Bound">Îâ²</a> <a id="40619" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="40621" href="NbE.html#40572" class="Bound">Î</a><a id="40622" class="Symbol">)</a>
  <a id="40626" class="Symbol">â</a> <a id="40628" class="Symbol">â</a> <a id="40630" class="Symbol">{</a><a id="40631" href="NbE.html#40631" class="Bound">s</a> <a id="40633" class="Symbol">:</a> <a id="40635" href="NbE.html#40594" class="Bound">Îâ²</a> <a id="40638" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="40640" href="NbE.html#40576" class="Bound">S</a><a id="40641" class="Symbol">}</a> <a id="40643" class="Symbol">{</a><a id="40644" href="NbE.html#40644" class="Bound">a</a> <a id="40646" class="Symbol">:</a> <a id="40648" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="40650" href="NbE.html#40576" class="Bound">S</a> <a id="40652" href="NbE.html#15983" class="Field Operator">â§</a><a id="40653" class="Symbol">}</a>
  <a id="40657" class="Symbol">â</a> <a id="40659" href="NbE.html#40631" class="Bound">s</a> <a id="40661" href="NbE.html#40355" class="Function Operator">â</a> <a id="40663" href="NbE.html#40644" class="Bound">a</a>
    <a id="40669" class="Comment">----------------------</a>
  <a id="40694" class="Symbol">â</a> <a id="40696" class="Symbol">(</a><a id="40697" href="NbE.html#40609" class="Bound">Îâ²â¤Î</a> <a id="40702" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="40705" href="NbE.html#40583" class="Bound">r</a><a id="40706" class="Symbol">)</a> <a id="40708" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="40710" href="NbE.html#40631" class="Bound">s</a> <a id="40712" href="NbE.html#40355" class="Function Operator">â</a> <a id="40714" href="NbE.html#40585" class="Bound">f</a> <a id="40716" href="NbE.html#40644" class="Bound">a</a>

<a id="40719" class="Keyword">infix</a> <a id="40725" class="Number">4</a> <a id="40727" href="NbE.html#40355" class="Function Operator">_â_</a>
</pre>
A result of defining our Kripe logical relation in terms of definitional
equality is that the relation is transitive with respect to definitional
equality
<pre class="Agda"><a id="==-â-trans"></a><a id="40899" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="40910" class="Symbol">:</a> <a id="40912" class="Symbol">â</a> <a id="40914" class="Symbol">{</a><a id="40915" href="NbE.html#40915" class="Bound">Î</a> <a id="40917" class="Symbol">:</a> <a id="40919" href="NbE.html#1943" class="Datatype">Ctx</a><a id="40922" class="Symbol">}</a> <a id="40924" class="Symbol">{</a><a id="40925" href="NbE.html#40925" class="Bound">T</a> <a id="40927" class="Symbol">:</a> <a id="40929" href="NbE.html#1051" class="Datatype">Type</a><a id="40933" class="Symbol">}</a> <a id="40935" class="Symbol">{</a><a id="40936" href="NbE.html#40936" class="Bound">t</a> <a id="40938" href="NbE.html#40938" class="Bound">tâ²</a> <a id="40941" class="Symbol">:</a> <a id="40943" href="NbE.html#40915" class="Bound">Î</a> <a id="40945" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="40947" href="NbE.html#40925" class="Bound">T</a><a id="40948" class="Symbol">}</a> <a id="40950" class="Symbol">{</a><a id="40951" href="NbE.html#40951" class="Bound">a</a> <a id="40953" class="Symbol">:</a> <a id="40955" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="40957" href="NbE.html#40925" class="Bound">T</a> <a id="40959" href="NbE.html#15983" class="Field Operator">â§</a><a id="40960" class="Symbol">}</a>
           <a id="40973" class="Symbol">â</a> <a id="40975" href="NbE.html#40936" class="Bound">t</a> <a id="40977" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="40980" href="NbE.html#40938" class="Bound">tâ²</a>
           <a id="40994" class="Symbol">â</a> <a id="40996" href="NbE.html#40936" class="Bound">t</a> <a id="40998" href="NbE.html#40355" class="Function Operator">â</a> <a id="41000" href="NbE.html#40951" class="Bound">a</a>
             <a id="41015" class="Comment">-------</a>
           <a id="41034" class="Symbol">â</a> <a id="41036" href="NbE.html#40938" class="Bound">tâ²</a> <a id="41039" href="NbE.html#40355" class="Function Operator">â</a> <a id="41041" href="NbE.html#40951" class="Bound">a</a>
<a id="41043" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="41054" class="Symbol">{</a><a id="41055" class="Argument">T</a> <a id="41057" class="Symbol">=</a> <a id="41059" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="41062" class="Symbol">}</a> <a id="41064" class="Symbol">{</a><a id="41065" class="Argument">a</a> <a id="41067" class="Symbol">=</a> <a id="41069" href="NbE.html#23818" class="InductiveConstructor">zero</a><a id="41073" class="Symbol">}</a> <a id="41075" href="NbE.html#41075" class="Bound">t==tâ²</a> <a id="41081" href="NbE.html#41081" class="Bound">pf</a> <a id="41084" href="NbE.html#41084" class="Bound">Îâ²â¤Î</a> <a id="41089" class="Symbol">=</a>
  <a id="41093" href="NbE.html#14670" class="InductiveConstructor">trans</a> <a id="41099" class="Symbol">(</a><a id="41100" href="NbE.html#14569" class="InductiveConstructor">sym</a> <a id="41104" class="Symbol">(</a><a id="41105" href="NbE.html#36375" class="Postulate">==-subst</a> <a id="41114" href="NbE.html#41075" class="Bound">t==tâ²</a><a id="41119" class="Symbol">))</a> <a id="41122" class="Symbol">(</a><a id="41123" href="NbE.html#41081" class="Bound">pf</a> <a id="41126" href="NbE.html#41084" class="Bound">Îâ²â¤Î</a><a id="41130" class="Symbol">)</a>
<a id="41132" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="41143" class="Symbol">{</a><a id="41144" class="Argument">T</a> <a id="41146" class="Symbol">=</a> <a id="41148" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="41151" class="Symbol">}</a> <a id="41153" class="Symbol">{</a><a id="41154" class="Argument">a</a> <a id="41156" class="Symbol">=</a> <a id="41158" href="NbE.html#23830" class="InductiveConstructor">suc</a> <a id="41162" href="NbE.html#41162" class="Bound">a</a><a id="41163" class="Symbol">}</a> <a id="41165" href="NbE.html#41165" class="Bound">t==tâ²</a> <a id="41171" href="NbE.html#41171" class="Bound">pf</a> <a id="41174" href="NbE.html#41174" class="Bound">Îâ²â¤Î</a>
  <a id="41181" class="Keyword">with</a> <a id="41186" href="NbE.html#41171" class="Bound">pf</a> <a id="41189" href="NbE.html#41174" class="Bound">Îâ²â¤Î</a>
<a id="41194" class="Symbol">...</a> <a id="41198" class="Symbol">|</a> <a id="41200" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="41202" href="NbE.html#41202" class="Bound">n</a> <a id="41204" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="41206" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="41208" href="NbE.html#41208" class="Bound">t==sn</a> <a id="41214" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="41216" href="NbE.html#41216" class="Bound">n==a</a> <a id="41221" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="41223" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="41225" class="Symbol">=</a>
  <a id="41229" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="41231" href="NbE.html#41202" class="Bound">n</a> <a id="41233" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="41235" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="41237" href="NbE.html#14670" class="InductiveConstructor">trans</a> <a id="41243" class="Symbol">(</a><a id="41244" href="NbE.html#14569" class="InductiveConstructor">sym</a> <a id="41248" class="Symbol">(</a><a id="41249" href="NbE.html#36375" class="Postulate">==-subst</a> <a id="41258" class="Bound">t==tâ²</a><a id="41263" class="Symbol">))</a> <a id="41266" href="NbE.html#41208" class="Bound">t==sn</a> <a id="41272" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="41274" href="NbE.html#41216" class="Bound">n==a</a> <a id="41279" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="41281" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
<a id="41283" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="41294" class="Symbol">{</a><a id="41295" class="Argument">T</a> <a id="41297" class="Symbol">=</a> <a id="41299" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="41302" class="Symbol">}</a> <a id="41304" class="Symbol">{</a><a id="41305" class="Argument">a</a> <a id="41307" class="Symbol">=</a> <a id="41309" href="NbE.html#23846" class="InductiveConstructor">ne</a> <a id="41312" href="NbE.html#41312" class="Bound">ðÌ</a><a id="41314" class="Symbol">}</a> <a id="41316" href="NbE.html#41316" class="Bound">t==tâ²</a> <a id="41322" href="NbE.html#41322" class="Bound">pf</a> <a id="41325" class="Symbol">{</a><a id="41326" href="NbE.html#41326" class="Bound">Îâ²</a><a id="41328" class="Symbol">}</a> <a id="41330" href="NbE.html#41330" class="Bound">Îâ²â¤Î</a>
  <a id="41337" class="Keyword">with</a> <a id="41342" href="NbE.html#41312" class="Bound">ðÌ</a> <a id="41345" href="NbE.html#41326" class="Bound">Îâ²</a>          <a id="41357" class="Symbol">|</a> <a id="41359" href="NbE.html#41322" class="Bound">pf</a> <a id="41362" href="NbE.html#41330" class="Bound">Îâ²â¤Î</a>
<a id="41367" class="Symbol">...</a> <a id="41371" class="Symbol">|</a> <a id="41373" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="41378" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="41380" href="NbE.html#41380" class="Bound">ð</a> <a id="41382" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="41384" class="Symbol">_</a> <a id="41386" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="41388" class="Symbol">|</a> <a id="41390" href="NbE.html#41390" class="Bound">t==ð</a> <a id="41395" class="Symbol">=</a>
  <a id="41399" href="NbE.html#14670" class="InductiveConstructor">trans</a> <a id="41405" class="Symbol">(</a><a id="41406" href="NbE.html#14569" class="InductiveConstructor">sym</a> <a id="41410" class="Symbol">(</a><a id="41411" href="NbE.html#36375" class="Postulate">==-subst</a> <a id="41420" class="Bound">t==tâ²</a><a id="41425" class="Symbol">))</a> <a id="41428" href="NbE.html#41390" class="Bound">t==ð</a>
<a id="41433" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="41444" class="Symbol">{</a><a id="41445" class="Argument">T</a> <a id="41447" class="Symbol">=</a> <a id="41449" href="NbE.html#41449" class="Bound">S</a> <a id="41451" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="41453" href="NbE.html#41453" class="Bound">T</a><a id="41454" class="Symbol">}</a> <a id="41456" href="NbE.html#41456" class="Bound">t==tâ²</a> <a id="41462" href="NbE.html#41462" class="Bound">pf</a> <a id="41465" href="NbE.html#41465" class="Bound">Îâ²â¤Î</a> <a id="41470" href="NbE.html#41470" class="Bound">sâa</a> <a id="41474" class="Symbol">=</a>
  <a id="41478" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="41489" class="Symbol">(</a><a id="41490" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a> <a id="41505" class="Symbol">(</a><a id="41506" href="NbE.html#36375" class="Postulate">==-subst</a> <a id="41515" href="NbE.html#41456" class="Bound">t==tâ²</a><a id="41520" class="Symbol">)</a> <a id="41522" href="NbE.html#14488" class="InductiveConstructor">refl</a><a id="41526" class="Symbol">)</a> <a id="41528" class="Symbol">(</a><a id="41529" href="NbE.html#41462" class="Bound">pf</a> <a id="41532" href="NbE.html#41465" class="Bound">Îâ²â¤Î</a> <a id="41537" href="NbE.html#41470" class="Bound">sâa</a><a id="41540" class="Symbol">)</a>
</pre>
Additionally, because we have defined the relation so that its
implication holds for all extensions of a context, we can âweakenâ the
logical relation <code>Î â¢ t : T â a</code> for all <code>Îâ² â¤ Î</code>,
having that <code>Îâ² â¢ t : T â a</code> holds as well
<pre class="Agda"><a id="â-weaken"></a><a id="41783" href="NbE.html#41783" class="Function">â-weaken</a> <a id="41792" class="Symbol">:</a> <a id="41794" class="Symbol">â</a> <a id="41796" class="Symbol">{</a><a id="41797" href="NbE.html#41797" class="Bound">Îâ²</a> <a id="41800" href="NbE.html#41800" class="Bound">Î</a> <a id="41802" class="Symbol">:</a> <a id="41804" href="NbE.html#1943" class="Datatype">Ctx</a><a id="41807" class="Symbol">}</a> <a id="41809" class="Symbol">{</a><a id="41810" href="NbE.html#41810" class="Bound">T</a> <a id="41812" class="Symbol">:</a> <a id="41814" href="NbE.html#1051" class="Datatype">Type</a><a id="41818" class="Symbol">}</a> <a id="41820" class="Symbol">{</a><a id="41821" href="NbE.html#41821" class="Bound">Îâ²â¤Î</a> <a id="41826" class="Symbol">:</a> <a id="41828" href="NbE.html#41797" class="Bound">Îâ²</a> <a id="41831" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="41833" href="NbE.html#41800" class="Bound">Î</a><a id="41834" class="Symbol">}</a> <a id="41836" class="Symbol">{</a><a id="41837" href="NbE.html#41837" class="Bound">t</a> <a id="41839" class="Symbol">:</a> <a id="41841" href="NbE.html#41800" class="Bound">Î</a> <a id="41843" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="41845" href="NbE.html#41810" class="Bound">T</a><a id="41846" class="Symbol">}</a> <a id="41848" class="Symbol">{</a><a id="41849" href="NbE.html#41849" class="Bound">a</a> <a id="41851" class="Symbol">:</a> <a id="41853" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="41855" href="NbE.html#41810" class="Bound">T</a> <a id="41857" href="NbE.html#15983" class="Field Operator">â§</a><a id="41858" class="Symbol">}</a>
      <a id="41866" class="Symbol">â</a> <a id="41868" href="NbE.html#41837" class="Bound">t</a> <a id="41870" href="NbE.html#40355" class="Function Operator">â</a> <a id="41872" href="NbE.html#41849" class="Bound">a</a>
      <a id="41880" class="Symbol">â</a> <a id="41882" href="NbE.html#41821" class="Bound">Îâ²â¤Î</a> <a id="41887" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="41890" href="NbE.html#41837" class="Bound">t</a> <a id="41892" href="NbE.html#40355" class="Function Operator">â</a> <a id="41894" href="NbE.html#41849" class="Bound">a</a>
<a id="41896" href="NbE.html#41783" class="Function">â-weaken</a> <a id="41905" class="Symbol">{</a><a id="41906" class="Argument">T</a> <a id="41908" class="Symbol">=</a> <a id="41910" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="41913" class="Symbol">}</a> <a id="41915" class="Symbol">{</a><a id="41916" href="NbE.html#41916" class="Bound">Îâ²â¤Î</a><a id="41920" class="Symbol">}</a> <a id="41922" class="Symbol">{</a><a id="41923" href="NbE.html#41923" class="Bound">t</a><a id="41924" class="Symbol">}</a> <a id="41926" href="NbE.html#41926" class="Bound">pf</a> <a id="41929" href="NbE.html#41929" class="Bound">Îâ³â¤Îâ²</a>
  <a id="41937" class="Keyword">rewrite</a> <a id="41945" href="NbE.html#36021" class="Postulate">weaken-compose</a> <a id="41960" href="NbE.html#41929" class="Bound">Îâ³â¤Îâ²</a> <a id="41966" href="NbE.html#41916" class="Bound">Îâ²â¤Î</a> <a id="41971" href="NbE.html#41923" class="Bound">t</a> <a id="41973" class="Symbol">=</a> <a id="41975" href="NbE.html#41926" class="Bound">pf</a> <a id="41978" class="Symbol">(</a><a id="41979" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="41987" href="NbE.html#41929" class="Bound">Îâ³â¤Îâ²</a> <a id="41993" href="NbE.html#41916" class="Bound">Îâ²â¤Î</a><a id="41997" class="Symbol">)</a>
<a id="41999" href="NbE.html#41783" class="Function">â-weaken</a> <a id="42008" class="Symbol">{</a><a id="42009" class="Argument">T</a> <a id="42011" class="Symbol">=</a> <a id="42013" href="NbE.html#42013" class="Bound">S</a> <a id="42015" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="42017" href="NbE.html#42017" class="Bound">T</a><a id="42018" class="Symbol">}</a> <a id="42020" class="Symbol">{</a><a id="42021" href="NbE.html#42021" class="Bound">Îâ²â¤Î</a><a id="42025" class="Symbol">}</a> <a id="42027" class="Symbol">{</a><a id="42028" href="NbE.html#42028" class="Bound">t</a><a id="42029" class="Symbol">}</a> <a id="42031" href="NbE.html#42031" class="Bound">pf</a> <a id="42034" href="NbE.html#42034" class="Bound">Îâ³â¤Îâ²</a> <a id="42040" href="NbE.html#42040" class="Bound">sâa</a>
  <a id="42046" class="Keyword">rewrite</a> <a id="42054" href="NbE.html#36021" class="Postulate">weaken-compose</a> <a id="42069" href="NbE.html#42034" class="Bound">Îâ³â¤Îâ²</a> <a id="42075" href="NbE.html#42021" class="Bound">Îâ²â¤Î</a> <a id="42080" href="NbE.html#42028" class="Bound">t</a> <a id="42082" class="Symbol">=</a> <a id="42084" href="NbE.html#42031" class="Bound">pf</a> <a id="42087" class="Symbol">(</a><a id="42088" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="42096" href="NbE.html#42034" class="Bound">Îâ³â¤Îâ²</a> <a id="42102" href="NbE.html#42021" class="Bound">Îâ²â¤Î</a><a id="42106" class="Symbol">)</a> <a id="42108" href="NbE.html#42040" class="Bound">sâa</a>
</pre>
<p>The Kripke logical relation is âsandwichedâ between reflection and
reification â to arrive at the logical relation between a term and a
semantic object, the semantic object must be a reflection of a liftable
neutral that is definitionally equal to the term. Likewise, if a logical
relation holds between a term and a semantic object, then the term must
be definitionally equal to the reification of that semantic object.</p>
<p>This is intentional, as these results will be exactly what we will
need to prove the soundness of NbE. We formalize them with the following
implications, which we will prove mutually (as reflection and
reification are themselves defined mutually) by induction on types.</p>
<p>Our first implication is:</p>
<pre><code>(â Îâ² â¤ Î. Îâ² â¢ ð = ðÌ(Î) : T) â Î â¢ ð : T â âáµ ðÌ</code></pre>
which we can now formalize in Agda with our definitions
<pre class="Agda"><a id="==â-â"></a><a id="42958" href="NbE.html#42958" class="Function">==â-â</a> <a id="42964" class="Symbol">:</a> <a id="42966" class="Symbol">â</a> <a id="42968" class="Symbol">{</a><a id="42969" href="NbE.html#42969" class="Bound">Î</a> <a id="42971" class="Symbol">:</a> <a id="42973" href="NbE.html#1943" class="Datatype">Ctx</a><a id="42976" class="Symbol">}</a> <a id="42978" class="Symbol">{</a><a id="42979" href="NbE.html#42979" class="Bound">T</a> <a id="42981" class="Symbol">:</a> <a id="42983" href="NbE.html#1051" class="Datatype">Type</a><a id="42987" class="Symbol">}</a> <a id="42989" class="Symbol">{</a><a id="42990" href="NbE.html#42990" class="Bound">ð</a> <a id="42992" class="Symbol">:</a> <a id="42994" href="NbE.html#42969" class="Bound">Î</a> <a id="42996" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="42998" href="NbE.html#42979" class="Bound">T</a><a id="42999" class="Symbol">}</a> <a id="43001" class="Symbol">{</a><a id="43002" href="NbE.html#43002" class="Bound">ðÌ</a> <a id="43005" class="Symbol">:</a> <a id="43007" href="NbE.html#22920" class="Function">Neâ</a> <a id="43011" href="NbE.html#42979" class="Bound">T</a><a id="43012" class="Symbol">}</a>
      <a id="43020" class="Symbol">â</a> <a id="43022" class="Symbol">(â</a> <a id="43025" class="Symbol">{</a><a id="43026" href="NbE.html#43026" class="Bound">Îâ²</a> <a id="43029" class="Symbol">:</a> <a id="43031" href="NbE.html#1943" class="Datatype">Ctx</a><a id="43034" class="Symbol">}</a>
         <a id="43045" class="Symbol">â</a> <a id="43047" class="Symbol">(</a><a id="43048" href="NbE.html#43048" class="Bound">Îâ²â¤Î</a> <a id="43053" class="Symbol">:</a> <a id="43055" href="NbE.html#43026" class="Bound">Îâ²</a> <a id="43058" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="43060" href="NbE.html#42969" class="Bound">Î</a><a id="43061" class="Symbol">)</a>
         <a id="43072" class="Symbol">â</a> <a id="43074" href="NbE.html#43048" class="Bound">Îâ²â¤Î</a> <a id="43079" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="43082" href="NbE.html#42990" class="Bound">ð</a> <a id="43084" href="NbE.html#37949" class="Function Operator">==â</a> <a id="43088" href="NbE.html#43002" class="Bound">ðÌ</a><a id="43090" class="Symbol">)</a>
        <a id="43100" class="Comment">-------------------</a>
      <a id="43126" class="Symbol">â</a> <a id="43128" href="NbE.html#42990" class="Bound">ð</a> <a id="43130" href="NbE.html#40355" class="Function Operator">â</a> <a id="43132" class="Symbol">(</a><a id="43133" href="NbE.html#24275" class="Function">âáµ</a> <a id="43136" href="NbE.html#43002" class="Bound">ðÌ</a><a id="43138" class="Symbol">)</a>
</pre>
<p>The second implication is:</p>
<pre><code>Î â¢ t : T â a â â Îâ² â¤ Î. Îâ² â¢ t = âáµ a Îâ² : T</code></pre>
<pre class="Agda"><a id="â-==â"></a><a id="43233" href="NbE.html#43233" class="Function">â-==â</a> <a id="43239" class="Symbol">:</a> <a id="43241" class="Symbol">â</a> <a id="43243" class="Symbol">{</a><a id="43244" href="NbE.html#43244" class="Bound">Îâ²</a> <a id="43247" href="NbE.html#43247" class="Bound">Î</a> <a id="43249" class="Symbol">:</a> <a id="43251" href="NbE.html#1943" class="Datatype">Ctx</a><a id="43254" class="Symbol">}</a> <a id="43256" class="Symbol">{</a><a id="43257" href="NbE.html#43257" class="Bound">T</a> <a id="43259" class="Symbol">:</a> <a id="43261" href="NbE.html#1051" class="Datatype">Type</a><a id="43265" class="Symbol">}</a> <a id="43267" class="Symbol">{</a><a id="43268" href="NbE.html#43268" class="Bound">t</a> <a id="43270" class="Symbol">:</a> <a id="43272" href="NbE.html#43247" class="Bound">Î</a> <a id="43274" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="43276" href="NbE.html#43257" class="Bound">T</a><a id="43277" class="Symbol">}</a> <a id="43279" class="Symbol">{</a><a id="43280" href="NbE.html#43280" class="Bound">a</a> <a id="43282" class="Symbol">:</a> <a id="43284" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="43286" href="NbE.html#43257" class="Bound">T</a> <a id="43288" href="NbE.html#15983" class="Field Operator">â§</a><a id="43289" class="Symbol">}</a>
      <a id="43297" class="Symbol">â</a> <a id="43299" href="NbE.html#43268" class="Bound">t</a> <a id="43301" href="NbE.html#40355" class="Function Operator">â</a> <a id="43303" href="NbE.html#43280" class="Bound">a</a>
        <a id="43313" class="Comment">---------------------</a>
      <a id="43341" class="Symbol">â</a> <a id="43343" class="Symbol">(</a><a id="43344" href="NbE.html#43344" class="Bound">Îâ²â¤Î</a> <a id="43349" class="Symbol">:</a> <a id="43351" href="NbE.html#43244" class="Bound">Îâ²</a> <a id="43354" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="43356" href="NbE.html#43247" class="Bound">Î</a><a id="43357" class="Symbol">)</a>
      <a id="43365" class="Symbol">â</a> <a id="43367" href="NbE.html#43344" class="Bound">Îâ²â¤Î</a> <a id="43372" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="43375" href="NbE.html#43268" class="Bound">t</a> <a id="43377" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="43380" href="NbE.html#38536" class="Function">âáµáµ§</a> <a id="43384" href="NbE.html#43280" class="Bound">a</a>
</pre>
A consequence of the first implication is that
<code>Î , x:T â¢ x â âáµ (ðÌ Î)</code>, which we define now as it will be
the lemma we will need for proving the second implication
<pre class="Agda"><a id="xââáµðÌ"></a><a id="43565" href="NbE.html#43565" class="Function">xââáµðÌ</a> <a id="43572" class="Symbol">:</a> <a id="43574" class="Symbol">â</a> <a id="43576" class="Symbol">{</a><a id="43577" href="NbE.html#43577" class="Bound">Î</a> <a id="43579" class="Symbol">:</a> <a id="43581" href="NbE.html#1943" class="Datatype">Ctx</a><a id="43584" class="Symbol">}</a> <a id="43586" class="Symbol">{</a><a id="43587" href="NbE.html#43587" class="Bound">T</a> <a id="43589" class="Symbol">:</a> <a id="43591" href="NbE.html#1051" class="Datatype">Type</a><a id="43595" class="Symbol">}</a>
        <a id="43605" class="Comment">-------------------------</a>
      <a id="43637" class="Symbol">â</a> <a id="43639" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="43641" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="43644" class="Symbol">{</a><a id="43645" href="NbE.html#43577" class="Bound">Î</a><a id="43646" class="Symbol">}</a> <a id="43648" class="Symbol">{</a><a id="43649" href="NbE.html#43587" class="Bound">T</a><a id="43650" class="Symbol">}</a> <a id="43652" href="NbE.html#40355" class="Function Operator">â</a> <a id="43654" href="NbE.html#24275" class="Function">âáµ</a> <a id="43657" class="Symbol">(</a><a id="43658" href="NbE.html#26236" class="Function">ðÌ</a> <a id="43661" href="NbE.html#43587" class="Bound">T</a> <a id="43663" href="NbE.html#43577" class="Bound">Î</a><a id="43664" class="Symbol">)</a>
</pre>
To prove the first implication, first we show that it always holds for
liftable neutral terms of type nat. This is simply the given proof, so
this case follows immediately.
<pre class="Agda"><a id="43852" href="NbE.html#42958" class="Function">==â-â</a> <a id="43858" class="Symbol">{</a><a id="43859" class="Argument">T</a> <a id="43861" class="Symbol">=</a> <a id="43863" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="43866" class="Symbol">}</a> <a id="43868" href="NbE.html#43868" class="Bound">pf</a> <a id="43871" href="NbE.html#43871" class="Bound">Îâ²â¤Î</a> <a id="43876" class="Symbol">=</a> <a id="43878" href="NbE.html#43868" class="Bound">pf</a> <a id="43881" href="NbE.html#43871" class="Bound">Îâ²â¤Î</a>
</pre>
<p>Now, for liftable neutral terms of type S â T, we prove that the
relation holds for <code>âáµ (ðÌ Â· âË¢ a)</code></p>
<p>We prove the relation holds by using our induction hypothesis, so
that our new goal is to prove that</p>
<pre><code>Îâ³ â¢ ð s = (ðÌ Â· (âË¢ a)) Îâ³ : T</code></pre>
<p>for any Îâ³ that is an extension of Îâ² (which itself extends Î).</p>
<p>Note that <code>(ðÌ Â· (âË¢ a)) Îâ³</code> is equivalent to
<code>ðÌ(Îâ³) Â· (âË¢ a)(Îâ³)</code> (application of liftable neutrals is
overloaded.</p>
<p>First, we deconstruct <code>ðÌ (Îâ³)</code>, using our given proof that
itâs definitionally equal to <code>Îâ³ â¢ ð : S â T</code> to both discard
the case where <code>ðÌ (Îâ³)</code> is undefined and simplify our goal to
proving that:</p>
<pre><code>Îâ³ â¢ ð Â· s = ðâ³ Â· âË¢ a Îâ³ : T (ðâ³ is ðÌ lifted to the context Îâ³)</code></pre>
<p>We also use the other implication we will prove, alongside the fact
that <code>s â a</code>, to have evidence that <code>Îâ³ â¢ s : S</code>
is definitionally equal to <code>âË¢ a Îâ³</code>.</p>
With these pieces in place, we can use equational reasoning for
definitional equality to prove the desired goal.
<pre class="Agda"><a id="44862" href="NbE.html#42958" class="Function">==â-â</a> <a id="44868" class="Symbol">{</a><a id="44869" class="Argument">T</a> <a id="44871" class="Symbol">=</a> <a id="44873" class="Symbol">_</a> <a id="44875" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="44877" class="Symbol">_}</a> <a id="44880" class="Symbol">{</a><a id="44881" href="NbE.html#44881" class="Bound">ð</a><a id="44882" class="Symbol">}</a> <a id="44884" class="Symbol">{</a><a id="44885" href="NbE.html#44885" class="Bound">ðÌ</a><a id="44887" class="Symbol">}</a> <a id="44889" href="NbE.html#44889" class="Bound">pf</a> <a id="44892" class="Symbol">{</a><a id="44893" href="NbE.html#44893" class="Bound">Îâ²</a><a id="44895" class="Symbol">}</a> <a id="44897" href="NbE.html#44897" class="Bound">Îâ²â¤Î</a> <a id="44902" class="Symbol">{</a><a id="44903" href="NbE.html#44903" class="Bound">s</a><a id="44904" class="Symbol">}</a> <a id="44906" class="Symbol">{</a><a id="44907" href="NbE.html#44907" class="Bound">a</a><a id="44908" class="Symbol">}</a> <a id="44910" href="NbE.html#44910" class="Bound">sâa</a> <a id="44914" class="Symbol">=</a>
  <a id="44918" href="NbE.html#42958" class="Function">==â-â</a> <a id="44924" href="NbE.html#44952" class="Function">ðÂ·s==ðÌÂ·âË¢a</a>
    <a id="44940" class="Keyword">where</a>
      <a id="44952" href="NbE.html#44952" class="Function">ðÂ·s==ðÌÂ·âË¢a</a> <a id="44964" class="Symbol">:</a> <a id="44966" class="Symbol">â</a> <a id="44968" class="Symbol">{</a><a id="44969" href="NbE.html#44969" class="Bound">Îâ³</a> <a id="44972" class="Symbol">:</a> <a id="44974" href="NbE.html#1943" class="Datatype">Ctx</a><a id="44977" class="Symbol">}</a>
                 <a id="44996" class="Symbol">â</a> <a id="44998" class="Symbol">(</a><a id="44999" href="NbE.html#44999" class="Bound">Îâ³â¤Îâ²</a> <a id="45005" class="Symbol">:</a> <a id="45007" href="NbE.html#44969" class="Bound">Îâ³</a> <a id="45010" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="45012" href="NbE.html#44893" class="Bound">Îâ²</a><a id="45014" class="Symbol">)</a>
                 <a id="45033" class="Symbol">â</a> <a id="45035" href="NbE.html#44999" class="Bound">Îâ³â¤Îâ²</a> <a id="45041" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="45044" class="Symbol">(</a><a id="45045" href="NbE.html#44897" class="Bound">Îâ²â¤Î</a> <a id="45050" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="45053" href="NbE.html#44881" class="Bound">ð</a><a id="45054" class="Symbol">)</a> <a id="45056" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="45058" href="NbE.html#44903" class="Bound">s</a> <a id="45060" href="NbE.html#37949" class="Function Operator">==â</a> <a id="45064" href="NbE.html#44885" class="Bound">ðÌ</a> <a id="45067" href="NbE.html#23146" class="Function Operator">Â·â</a> <a id="45070" class="Symbol">(</a><a id="45071" href="NbE.html#24381" class="Function">âáµ</a> <a id="45074" href="NbE.html#44907" class="Bound">a</a><a id="45075" class="Symbol">)</a>
      <a id="45083" href="NbE.html#44952" class="Function">ðÂ·s==ðÌÂ·âË¢a</a>  <a id="45096" class="Symbol">{</a><a id="45097" href="NbE.html#45097" class="Bound">Îâ³</a><a id="45099" class="Symbol">}</a> <a id="45101" href="NbE.html#45101" class="Bound">Îâ³â¤Îâ²</a>
        <a id="45115" class="Keyword">with</a> <a id="45120" href="NbE.html#44885" class="Bound">ðÌ</a> <a id="45123" href="NbE.html#45097" class="Bound">Îâ³</a>           <a id="45136" class="Symbol">|</a> <a id="45138" href="NbE.html#44889" class="Bound">pf</a> <a id="45141" class="Symbol">(</a><a id="45142" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="45150" href="NbE.html#45101" class="Bound">Îâ³â¤Îâ²</a> <a id="45156" href="NbE.html#44897" class="Bound">Îâ²â¤Î</a><a id="45160" class="Symbol">)</a>
      <a id="45168" class="Symbol">...</a> <a id="45172" class="Symbol">|</a> <a id="45174" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="45179" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="45181" href="NbE.html#45181" class="Bound">ðâ³</a> <a id="45184" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="45186" class="Symbol">_</a> <a id="45188" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="45190" class="Symbol">|</a> <a id="45192" href="NbE.html#45192" class="Bound">ð==ðâ³</a>
        <a id="45206" class="Keyword">with</a> <a id="45211" href="NbE.html#43233" class="Function">â-==â</a> <a id="45217" href="NbE.html#44910" class="Bound">sâa</a> <a id="45221" class="Bound">Îâ³â¤Îâ²</a>
      <a id="45233" class="Symbol">...</a> <a id="45237" class="Symbol">|</a> <a id="45239" href="NbE.html#45239" class="Bound">s==âáµáµ§a</a> <a id="45247" class="Symbol">=</a>
        <a id="45257" href="NbE.html#15061" class="Function Operator">begin</a>
          <a id="45273" class="Bound">Îâ³â¤Îâ²</a> <a id="45279" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="45282" class="Symbol">(</a><a id="45283" href="NbE.html#44897" class="Bound">Îâ²â¤Î</a> <a id="45288" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="45291" href="NbE.html#44881" class="Bound">ð</a><a id="45292" class="Symbol">)</a> <a id="45294" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="45296" href="NbE.html#44903" class="Bound">s</a>
        <a id="45306" href="NbE.html#15171" class="Function Operator">==â¨</a> <a id="45310" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a> <a id="45325" class="Symbol">(</a><a id="45326" href="NbE.html#30660" class="Function">â¡â==</a> <a id="45331" class="Symbol">(</a><a id="45332" href="NbE.html#36021" class="Postulate">weaken-compose</a> <a id="45347" class="Bound">Îâ³â¤Îâ²</a> <a id="45353" href="NbE.html#44897" class="Bound">Îâ²â¤Î</a> <a id="45358" href="NbE.html#44881" class="Bound">ð</a><a id="45359" class="Symbol">))</a> <a id="45362" href="NbE.html#14488" class="InductiveConstructor">refl</a> <a id="45367" href="NbE.html#15171" class="Function Operator">â©</a>
          <a id="45379" class="Symbol">(</a><a id="45380" href="NbE.html#45571" class="Function">Îâ³â¤Î</a> <a id="45385" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="45388" href="NbE.html#44881" class="Bound">ð</a><a id="45389" class="Symbol">)</a> <a id="45391" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="45393" class="Symbol">(</a><a id="45394" class="Bound">Îâ³â¤Îâ²</a> <a id="45400" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="45403" href="NbE.html#44903" class="Bound">s</a><a id="45404" class="Symbol">)</a>
        <a id="45414" href="NbE.html#15171" class="Function Operator">==â¨</a> <a id="45418" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a> <a id="45433" class="Bound">ð==ðâ³</a> <a id="45439" href="NbE.html#14488" class="InductiveConstructor">refl</a> <a id="45444" href="NbE.html#15171" class="Function Operator">â©</a>
          <a id="45456" class="Bound">ðâ³</a> <a id="45459" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="45461" class="Symbol">(</a><a id="45462" class="Bound">Îâ³â¤Îâ²</a> <a id="45468" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="45471" href="NbE.html#44903" class="Bound">s</a><a id="45472" class="Symbol">)</a>
        <a id="45482" href="NbE.html#15171" class="Function Operator">==â¨</a> <a id="45486" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a> <a id="45501" href="NbE.html#14488" class="InductiveConstructor">refl</a> <a id="45506" href="NbE.html#45239" class="Bound">s==âáµáµ§a</a> <a id="45514" href="NbE.html#15171" class="Function Operator">â©</a>
          <a id="45526" class="Bound">ðâ³</a> <a id="45529" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="45531" href="NbE.html#38536" class="Function">âáµáµ§</a> <a id="45535" href="NbE.html#44907" class="Bound">a</a>
        <a id="45545" href="NbE.html#15344" class="Function Operator">â</a>
        <a id="45555" class="Keyword">where</a>
          <a id="45571" href="NbE.html#45571" class="Function">Îâ³â¤Î</a> <a id="45576" class="Symbol">=</a> <a id="45578" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="45586" class="Bound">Îâ³â¤Îâ²</a> <a id="45592" href="NbE.html#44897" class="Bound">Îâ²â¤Î</a>
</pre>
To prove the second implication, we proceed similarly and first prove it
for type nat. If the term is logically related to zero, the implication
holds immediately from our given proof
<pre class="Agda"><a id="45794" href="NbE.html#43233" class="Function">â-==â</a> <a id="45800" class="Symbol">{</a><a id="45801" class="Argument">T</a> <a id="45803" class="Symbol">=</a> <a id="45805" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="45808" class="Symbol">}</a> <a id="45810" class="Symbol">{</a><a id="45811" class="Argument">a</a> <a id="45813" class="Symbol">=</a> <a id="45815" href="NbE.html#23818" class="InductiveConstructor">zero</a><a id="45819" class="Symbol">}</a> <a id="45821" href="NbE.html#45821" class="Bound">pf</a> <a id="45824" href="NbE.html#45824" class="Bound">Îâ²â¤Î</a> <a id="45829" class="Keyword">with</a> <a id="45834" href="NbE.html#24381" class="Function">âáµ</a> <a id="45837" class="Symbol">{</a><a id="45838" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="45841" class="Symbol">}</a> <a id="45843" href="NbE.html#23818" class="InductiveConstructor">zero</a>
<a id="45848" class="Symbol">...</a> <a id="45852" class="Symbol">|</a> <a id="45854" class="Symbol">_</a> <a id="45856" class="Symbol">=</a> <a id="45858" class="Bound">pf</a> <a id="45861" class="Bound">Îâ²â¤Î</a>
</pre>
Otherwise, if the term is logically related to a successor of a natural,
our given proof similarly leads to the implication, though for this
case, we additionally need a lemma showing that if a term of type nat is
definitionally equal to an object a of type âÌ (i.e.Â a natural with
embedded liftable neutrals), then it is definitionally equal to the
reification of the object a. We can prove this by induction on a.
<pre class="Agda"><a id="46294" href="NbE.html#43233" class="Function">â-==â</a> <a id="46300" class="Symbol">{</a><a id="46301" href="NbE.html#46301" class="Bound">Î</a><a id="46302" class="Symbol">}</a> <a id="46304" class="Symbol">{</a><a id="46305" class="Argument">T</a> <a id="46307" class="Symbol">=</a> <a id="46309" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="46312" class="Symbol">}</a> <a id="46314" class="Symbol">{</a><a id="46315" href="NbE.html#46315" class="Bound">t</a><a id="46316" class="Symbol">}</a> <a id="46318" class="Symbol">{</a><a id="46319" href="NbE.html#23830" class="InductiveConstructor">suc</a> <a id="46323" href="NbE.html#46323" class="Bound">a</a><a id="46324" class="Symbol">}</a> <a id="46326" href="NbE.html#46326" class="Bound">pf</a> <a id="46329" href="NbE.html#46329" class="Bound">Îâ²â¤Î</a>
  <a id="46336" class="Keyword">with</a> <a id="46341" href="NbE.html#46326" class="Bound">pf</a> <a id="46344" href="NbE.html#46329" class="Bound">Îâ²â¤Î</a>
<a id="46349" class="Symbol">...</a> <a id="46353" class="Symbol">|</a> <a id="46355" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="46357" href="NbE.html#46357" class="Bound">n</a> <a id="46359" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="46361" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="46363" href="NbE.html#46363" class="Bound">t==sn</a> <a id="46369" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="46371" href="NbE.html#46371" class="Bound">nâa</a> <a id="46375" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="46377" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
  <a id="46381" class="Keyword">with</a> <a id="46386" href="NbE.html#46371" class="Bound">nâa</a> <a id="46390" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>
<a id="46395" class="Symbol">...</a> <a id="46399" class="Symbol">|</a> <a id="46401" href="NbE.html#46401" class="Bound">n==âÌa</a> <a id="46408" class="Keyword">rewrite</a> <a id="46416" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="46430" class="Symbol">{</a><a id="46431" class="Argument">t</a> <a id="46433" class="Symbol">=</a> <a id="46435" class="Bound">n</a><a id="46436" class="Symbol">}</a> <a id="46438" class="Symbol">=</a>
  <a id="46442" href="NbE.html#15061" class="Function Operator">begin</a>
    <a id="46452" class="Bound">Îâ²â¤Î</a> <a id="46457" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="46460" class="Bound">t</a>
  <a id="46464" href="NbE.html#15171" class="Function Operator">==â¨</a> <a id="46468" class="Bound">t==sn</a> <a id="46474" href="NbE.html#15171" class="Function Operator">â©</a>
    <a id="46480" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="46484" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="46486" class="Bound">n</a>
  <a id="46490" href="NbE.html#15171" class="Function Operator">==â¨</a> <a id="46494" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a> <a id="46509" href="NbE.html#14488" class="InductiveConstructor">refl</a> <a id="46514" class="Symbol">(</a><a id="46515" href="NbE.html#46575" class="Function">==âÌâ==âáµ</a> <a id="46525" class="Symbol">{</a><a id="46526" class="Argument">a</a> <a id="46528" class="Symbol">=</a> <a id="46530" class="Bound">a</a><a id="46531" class="Symbol">}</a> <a id="46533" href="NbE.html#46401" class="Bound">n==âÌa</a><a id="46539" class="Symbol">)</a> <a id="46541" href="NbE.html#15171" class="Function Operator">â©</a>
    <a id="46547" href="NbE.html#4395" class="InductiveConstructor">suc</a> <a id="46551" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="46553" href="NbE.html#38536" class="Function">âáµáµ§</a> <a id="46557" class="Bound">a</a>
  <a id="46561" href="NbE.html#15344" class="Function Operator">â</a>
  <a id="46565" class="Keyword">where</a>
    <a id="46575" href="NbE.html#46575" class="Function">==âÌâ==âáµ</a> <a id="46585" class="Symbol">:</a> <a id="46587" class="Symbol">â</a> <a id="46589" class="Symbol">{</a><a id="46590" href="NbE.html#46590" class="Bound">Î</a> <a id="46592" class="Symbol">:</a> <a id="46594" href="NbE.html#1943" class="Datatype">Ctx</a><a id="46597" class="Symbol">}</a> <a id="46599" class="Symbol">{</a><a id="46600" href="NbE.html#46600" class="Bound">n</a> <a id="46602" class="Symbol">:</a> <a id="46604" href="NbE.html#46590" class="Bound">Î</a> <a id="46606" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="46608" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="46611" class="Symbol">}</a> <a id="46613" class="Symbol">{</a><a id="46614" href="NbE.html#46614" class="Bound">a</a> <a id="46616" class="Symbol">:</a> <a id="46618" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="46620" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="46624" href="NbE.html#15983" class="Field Operator">â§</a><a id="46625" class="Symbol">}</a>
             <a id="46640" class="Symbol">â</a> <a id="46642" href="NbE.html#46600" class="Bound">n</a> <a id="46644" href="NbE.html#39304" class="Function Operator">==âÌ</a> <a id="46649" href="NbE.html#46614" class="Bound">a</a>
               <a id="46666" class="Comment">----------</a>
             <a id="46690" class="Symbol">â</a> <a id="46692" href="NbE.html#46600" class="Bound">n</a> <a id="46694" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="46697" href="NbE.html#38536" class="Function">âáµáµ§</a> <a id="46701" href="NbE.html#46614" class="Bound">a</a>
    <a id="46707" href="NbE.html#46575" class="Function">==âÌâ==âáµ</a> <a id="46717" class="Symbol">{</a><a id="46718" class="Argument">a</a> <a id="46720" class="Symbol">=</a> <a id="46722" href="NbE.html#23818" class="InductiveConstructor">zero</a><a id="46726" class="Symbol">}</a> <a id="46728" href="NbE.html#46728" class="Bound">pf</a> <a id="46731" class="Keyword">with</a> <a id="46736" href="NbE.html#24381" class="Function">âáµ</a> <a id="46739" class="Symbol">{</a><a id="46740" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="46743" class="Symbol">}</a> <a id="46745" href="NbE.html#23818" class="InductiveConstructor">zero</a>
    <a id="46754" class="Symbol">...</a> <a id="46758" class="Symbol">|</a> <a id="46760" class="Symbol">_</a> <a id="46762" class="Symbol">=</a> <a id="46764" class="Bound">pf</a>
    <a id="46771" href="NbE.html#46575" class="Function">==âÌâ==âáµ</a> <a id="46781" class="Symbol">{</a><a id="46782" href="NbE.html#46782" class="Bound">Î</a><a id="46783" class="Symbol">}</a> <a id="46785" class="Symbol">{</a><a id="46786" class="Argument">a</a> <a id="46788" class="Symbol">=</a> <a id="46790" href="NbE.html#23830" class="InductiveConstructor">suc</a> <a id="46794" href="NbE.html#46794" class="Bound">a</a><a id="46795" class="Symbol">}</a> <a id="46797" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="46799" href="NbE.html#46799" class="Bound">n</a> <a id="46801" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="46803" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="46805" href="NbE.html#46805" class="Bound">m==sn</a> <a id="46811" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="46813" href="NbE.html#46813" class="Bound">n==a</a> <a id="46818" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="46820" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
      <a id="46828" class="Keyword">with</a> <a id="46833" href="NbE.html#24381" class="Function">âáµ</a> <a id="46836" class="Symbol">{</a><a id="46837" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="46840" class="Symbol">}</a> <a id="46842" class="Symbol">(</a><a id="46843" href="NbE.html#23830" class="InductiveConstructor">suc</a> <a id="46847" href="NbE.html#46794" class="Bound">a</a><a id="46848" class="Symbol">)</a> <a id="46850" class="Symbol">|</a> <a id="46852" href="NbE.html#46575" class="Function">==âÌâ==âáµ</a> <a id="46862" class="Symbol">{</a><a id="46863" class="Argument">a</a> <a id="46865" class="Symbol">=</a> <a id="46867" href="NbE.html#46794" class="Bound">a</a><a id="46868" class="Symbol">}</a> <a id="46870" class="Symbol">(</a><a id="46871" href="NbE.html#46813" class="Bound">n==a</a> <a id="46876" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a><a id="46880" class="Symbol">)</a>
    <a id="46886" class="Symbol">...</a> <a id="46890" class="Symbol">|</a> <a id="46892" class="Symbol">_</a>                 <a id="46910" class="Symbol">|</a> <a id="46912" href="NbE.html#46912" class="Bound">pf</a>
      <a id="46921" class="Keyword">rewrite</a> <a id="46929" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="46943" class="Symbol">{</a><a id="46944" class="Argument">t</a> <a id="46946" class="Symbol">=</a> <a id="46948" class="Bound">n</a><a id="46949" class="Symbol">}</a> <a id="46951" class="Symbol">=</a> <a id="46953" href="NbE.html#14670" class="InductiveConstructor">trans</a> <a id="46959" class="Bound">m==sn</a> <a id="46965" class="Symbol">(</a><a id="46966" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a> <a id="46981" href="NbE.html#14488" class="InductiveConstructor">refl</a> <a id="46986" href="NbE.html#46912" class="Bound">pf</a><a id="46988" class="Symbol">)</a>
    <a id="46994" href="NbE.html#46575" class="Function">==âÌâ==âáµ</a> <a id="47004" class="Symbol">{</a><a id="47005" href="NbE.html#47005" class="Bound">Î</a><a id="47006" class="Symbol">}</a> <a id="47008" class="Symbol">{</a><a id="47009" href="NbE.html#47009" class="Bound">t</a><a id="47010" class="Symbol">}</a> <a id="47012" class="Symbol">{</a><a id="47013" href="NbE.html#23846" class="InductiveConstructor">ne</a> <a id="47016" href="NbE.html#47016" class="Bound">ðÌ</a><a id="47018" class="Symbol">}</a> <a id="47020" href="NbE.html#47020" class="Bound">pf</a>
      <a id="47029" class="Keyword">with</a> <a id="47034" href="NbE.html#47016" class="Bound">ðÌ</a> <a id="47037" href="NbE.html#47005" class="Bound">Î</a>           <a id="47049" class="Symbol">|</a> <a id="47051" href="NbE.html#47020" class="Bound">pf</a>
    <a id="47058" class="Symbol">...</a> <a id="47062" class="Symbol">|</a> <a id="47064" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="47069" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="47071" href="NbE.html#47071" class="Bound">ð</a> <a id="47073" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="47075" class="Symbol">_</a> <a id="47077" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="47079" class="Symbol">|</a> <a id="47081" href="NbE.html#47081" class="Bound">t==ð</a> <a id="47086" class="Symbol">=</a> <a id="47088" href="NbE.html#47081" class="Bound">t==ð</a>
</pre>
Lastly for type nat, if the term is logically related to an embedded
liftable neutral, the implication also holds immediately from our given
proof
<pre class="Agda"><a id="47252" href="NbE.html#43233" class="Function">â-==â</a> <a id="47258" class="Symbol">{</a><a id="47259" href="NbE.html#47259" class="Bound">Îâ²</a><a id="47261" class="Symbol">}</a> <a id="47263" class="Symbol">{</a><a id="47264" class="Argument">T</a> <a id="47266" class="Symbol">=</a> <a id="47268" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="47271" class="Symbol">}</a> <a id="47273" class="Symbol">{</a><a id="47274" class="Argument">a</a> <a id="47276" class="Symbol">=</a> <a id="47278" href="NbE.html#23846" class="InductiveConstructor">ne</a> <a id="47281" href="NbE.html#47281" class="Bound">ðÌ</a><a id="47283" class="Symbol">}</a> <a id="47285" href="NbE.html#47285" class="Bound">pf</a> <a id="47288" href="NbE.html#47288" class="Bound">Îâ²â¤Î</a>
  <a id="47295" class="Keyword">with</a> <a id="47300" href="NbE.html#47281" class="Bound">ðÌ</a> <a id="47303" href="NbE.html#47259" class="Bound">Îâ²</a>           <a id="47316" class="Symbol">|</a> <a id="47318" href="NbE.html#47285" class="Bound">pf</a> <a id="47321" href="NbE.html#47288" class="Bound">Îâ²â¤Î</a>
<a id="47326" class="Symbol">...</a> <a id="47330" class="Symbol">|</a> <a id="47332" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="47337" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="47339" href="NbE.html#47339" class="Bound">ð</a> <a id="47341" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="47343" class="Symbol">_</a> <a id="47345" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>  <a id="47348" class="Symbol">|</a> <a id="47350" href="NbE.html#47350" class="Bound">t==ð</a>     <a id="47359" class="Symbol">=</a> <a id="47361" href="NbE.html#47350" class="Bound">t==ð</a>
</pre>
<p>For our inductive step, we prove the implication for terms of type S
â T. Our desired implication is now:</p>
<pre><code>Îâ² â¢ t = âáµ f Îâ² : T</code></pre>
<p>which, by definition, expands to:</p>
<pre><code>Îâ² â¢ t = Î»x. âáµ f a (Îâ² , x:S) : T (where a = âáµ ðÌË¢ Îâ²)</code></pre>
<p>We prove this by Î· expanding t to <code>Î»x. t x</code> and then using
the compatibility rule for abstractions of definitional equality to
simplify our goal to proving:</p>
<pre><code>Îâ² , x:S â¢ t x = âáµ f a (Îâ², x:S)</code></pre>
<p>Note that our inductive hypothesis is:</p>
<pre><code>t x â f a implies t x = âáµ f a</code></pre>
<p>This is exactly what we want to show, so now all we need is to prove
that <code>t x â f a</code>.</p>
Luckily, our given proof holds that t and f are logically related, which
is equivalent to saying that if <code>x â a</code> , then
<code>t x â f a</code>, reducing what we have to prove only to
<code>x â a</code>. We have been using âaâ for simplicity, but
<code>a = âáµ ðÌË¢ Îâ²</code>, and we are mutually proving that
<code>x â âáµ ðÌ</code>, so we use this lemma here to finish our proof.
<pre class="Agda"><a id="48303" href="NbE.html#43233" class="Function">â-==â</a> <a id="48309" class="Symbol">{</a><a id="48310" href="NbE.html#48310" class="Bound">Îâ²</a><a id="48312" class="Symbol">}</a> <a id="48314" class="Symbol">{</a><a id="48315" class="Argument">T</a> <a id="48317" class="Symbol">=</a> <a id="48319" href="NbE.html#48319" class="Bound">S</a> <a id="48321" href="NbE.html#1083" class="InductiveConstructor Operator">â</a> <a id="48323" class="Symbol">_}</a> <a id="48326" class="Symbol">{</a><a id="48327" href="NbE.html#48327" class="Bound">t</a><a id="48328" class="Symbol">}</a> <a id="48330" class="Symbol">{</a><a id="48331" href="NbE.html#48331" class="Bound">f</a><a id="48332" class="Symbol">}</a> <a id="48334" href="NbE.html#48334" class="Bound">pf</a> <a id="48337" href="NbE.html#48337" class="Bound">Îâ²â¤Î</a> <a id="48342" class="Symbol">=</a>
  <a id="48346" href="NbE.html#15061" class="Function Operator">begin</a>
    <a id="48356" href="NbE.html#48337" class="Bound">Îâ²â¤Î</a> <a id="48361" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="48364" href="NbE.html#48327" class="Bound">t</a>
  <a id="48368" href="NbE.html#15171" class="Function Operator">==â¨</a> <a id="48372" href="NbE.html#13733" class="InductiveConstructor">Î·</a> <a id="48374" href="NbE.html#15171" class="Function Operator">â©</a>
    <a id="48380" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="48382" class="Symbol">(</a><a id="48383" href="NbE.html#48319" class="Bound">S</a> <a id="48385" href="NbE.html#12039" class="Function Operator">ââ¢</a> <a id="48388" href="NbE.html#48337" class="Bound">Îâ²â¤Î</a> <a id="48393" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="48396" href="NbE.html#48327" class="Bound">t</a><a id="48397" class="Symbol">)</a> <a id="48399" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="48401" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="48403" href="NbE.html#3705" class="InductiveConstructor">`Z</a>
  <a id="48408" href="NbE.html#15171" class="Function Operator">==â¨</a>
    <a id="48416" href="NbE.html#14072" class="InductiveConstructor">abs-compatible</a> <a id="48431" class="Symbol">(</a>
      <a id="48439" href="NbE.html#15061" class="Function Operator">begin</a>
        <a id="48453" class="Symbol">(</a><a id="48454" href="NbE.html#48319" class="Bound">S</a> <a id="48456" href="NbE.html#12039" class="Function Operator">ââ¢</a> <a id="48459" href="NbE.html#48337" class="Bound">Îâ²â¤Î</a> <a id="48464" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="48467" href="NbE.html#48327" class="Bound">t</a><a id="48468" class="Symbol">)</a> <a id="48470" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="48472" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="48474" href="NbE.html#3705" class="InductiveConstructor">`Z</a>
      <a id="48483" href="NbE.html#15171" class="Function Operator">==â¨</a> <a id="48487" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a> <a id="48502" href="NbE.html#48695" class="Function">subst-lemma</a> <a id="48514" href="NbE.html#14488" class="InductiveConstructor">refl</a> <a id="48519" href="NbE.html#15171" class="Function Operator">â©</a>
        <a id="48529" class="Symbol">(</a><a id="48530" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="48536" href="NbE.html#48337" class="Bound">Îâ²â¤Î</a> <a id="48541" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="48544" href="NbE.html#48327" class="Bound">t</a><a id="48545" class="Symbol">)</a> <a id="48547" href="NbE.html#10528" class="Function Operator">[</a> <a id="48549" href="NbE.html#11739" class="Function">subst-id</a> <a id="48558" href="NbE.html#10528" class="Function Operator">]</a> <a id="48560" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="48562" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="48564" href="NbE.html#3705" class="InductiveConstructor">`Z</a>
      <a id="48573" href="NbE.html#15171" class="Function Operator">==â¨</a> <a id="48577" href="NbE.html#43233" class="Function">â-==â</a> <a id="48583" class="Symbol">(</a><a id="48584" href="NbE.html#48334" class="Bound">pf</a> <a id="48587" class="Symbol">(</a><a id="48588" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="48594" href="NbE.html#48337" class="Bound">Îâ²â¤Î</a><a id="48598" class="Symbol">)</a> <a id="48600" href="NbE.html#48814" class="Function">xâa</a><a id="48603" class="Symbol">)</a> <a id="48605" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="48610" href="NbE.html#15171" class="Function Operator">â©</a>
        <a id="48620" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a> <a id="48626" class="Symbol">(</a><a id="48627" href="NbE.html#24381" class="Function">âáµ</a> <a id="48630" class="Symbol">(</a><a id="48631" href="NbE.html#48331" class="Bound">f</a> <a id="48633" href="NbE.html#48789" class="Function">a</a><a id="48634" class="Symbol">)</a> <a id="48636" class="Symbol">(</a><a id="48637" href="NbE.html#48310" class="Bound">Îâ²</a> <a id="48640" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="48642" href="NbE.html#48319" class="Bound">S</a><a id="48643" class="Symbol">))</a>
      <a id="48652" href="NbE.html#15344" class="Function Operator">â</a>
  <a id="48656" class="Symbol">)</a><a id="48657" href="NbE.html#15171" class="Function Operator">â©</a>
    <a id="48663" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a> <a id="48669" class="Symbol">(</a><a id="48670" href="NbE.html#24381" class="Function">âáµ</a> <a id="48673" href="NbE.html#48331" class="Bound">f</a> <a id="48675" href="NbE.html#48310" class="Bound">Îâ²</a><a id="48677" class="Symbol">)</a>
  <a id="48681" href="NbE.html#15344" class="Function Operator">â</a>
  <a id="48685" class="Keyword">where</a>
    <a id="48695" href="NbE.html#48695" class="Function">subst-lemma</a> <a id="48707" class="Symbol">=</a>
      <a id="48715" href="NbE.html#30660" class="Function">â¡â==</a> <a id="48720" class="Symbol">(</a><a id="48721" href="NbE.html#766" class="Function">â¡-trans</a> <a id="48729" class="Symbol">(</a><a id="48730" href="NbE.html#36667" class="Function">incr-â-â¡</a> <a id="48739" class="Symbol">{</a><a id="48740" class="Argument">Îâ²â¤Î</a> <a id="48745" class="Symbol">=</a> <a id="48747" href="NbE.html#48337" class="Bound">Îâ²â¤Î</a><a id="48751" class="Symbol">}</a> <a id="48753" class="Symbol">{</a><a id="48754" class="Argument">t</a> <a id="48756" class="Symbol">=</a> <a id="48758" href="NbE.html#48327" class="Bound">t</a><a id="48759" class="Symbol">})</a> <a id="48762" class="Symbol">(</a><a id="48763" href="NbE.html#750" class="Function">â¡-sym</a> <a id="48769" href="NbE.html#34900" class="Function">[id]-identity</a><a id="48782" class="Symbol">))</a>
    <a id="48789" href="NbE.html#48789" class="Function">a</a> <a id="48791" class="Symbol">=</a> <a id="48793" href="NbE.html#24275" class="Function">âáµ</a> <a id="48796" class="Symbol">{</a><a id="48797" href="NbE.html#48319" class="Bound">S</a><a id="48798" class="Symbol">}</a> <a id="48800" class="Symbol">(</a><a id="48801" href="NbE.html#26236" class="Function">ðÌ</a> <a id="48804" href="NbE.html#48319" class="Bound">S</a> <a id="48806" href="NbE.html#48310" class="Bound">Îâ²</a><a id="48808" class="Symbol">)</a>
    <a id="48814" href="NbE.html#48814" class="Function">xâa</a> <a id="48818" class="Symbol">=</a> <a id="48820" href="NbE.html#43565" class="Function">xââáµðÌ</a> <a id="48827" class="Symbol">{</a><a id="48828" href="NbE.html#48310" class="Bound">Îâ²</a><a id="48830" class="Symbol">}</a> <a id="48832" class="Symbol">{</a><a id="48833" href="NbE.html#48319" class="Bound">S</a><a id="48834" class="Symbol">}</a>
</pre>
Using our first implication, we can quickly prove that
<code>Î , x:T â¢ x : T â âáµ ðÌ</code>, as <code>Îâ² â¢ x = ðÌ Îâ² : T</code>
for all <code>Îâ² â¤ Î , x:T</code>
<pre class="Agda"><a id="48978" href="NbE.html#43565" class="Function">xââáµðÌ</a> <a id="48985" class="Symbol">{_}</a> <a id="48989" class="Symbol">{</a><a id="48990" href="NbE.html#48990" class="Bound">T</a><a id="48991" class="Symbol">}</a> <a id="48993" class="Symbol">=</a> <a id="48995" href="NbE.html#42958" class="Function">==â-â</a> <a id="49001" href="NbE.html#49015" class="Function">x==ðÌ</a> <a id="49007" class="Keyword">where</a>
  <a id="49015" href="NbE.html#49015" class="Function">x==ðÌ</a> <a id="49021" class="Symbol">:</a> <a id="49023" class="Symbol">â</a> <a id="49025" class="Symbol">{</a><a id="49026" href="NbE.html#49026" class="Bound">Î</a> <a id="49028" href="NbE.html#49028" class="Bound">Îâ²</a> <a id="49031" class="Symbol">:</a> <a id="49033" href="NbE.html#1943" class="Datatype">Ctx</a><a id="49036" class="Symbol">}</a>
       <a id="49045" class="Symbol">â</a> <a id="49047" class="Symbol">(</a><a id="49048" href="NbE.html#49048" class="Bound">Îâ²â¤Î,T</a> <a id="49055" class="Symbol">:</a> <a id="49057" href="NbE.html#49028" class="Bound">Îâ²</a> <a id="49060" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="49062" class="Symbol">(</a><a id="49063" href="NbE.html#49026" class="Bound">Î</a> <a id="49065" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="49067" href="NbE.html#48990" class="Bound">T</a><a id="49068" class="Symbol">))</a>
       <a id="49078" class="Symbol">â</a> <a id="49080" href="NbE.html#49048" class="Bound">Îâ²â¤Î,T</a> <a id="49087" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="49090" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="49092" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="49095" href="NbE.html#37949" class="Function Operator">==â</a> <a id="49099" href="NbE.html#26236" class="Function">ðÌ</a> <a id="49102" href="NbE.html#48990" class="Bound">T</a> <a id="49104" href="NbE.html#49026" class="Bound">Î</a>
  <a id="49108" href="NbE.html#49015" class="Function">x==ðÌ</a> <a id="49114" class="Symbol">{</a><a id="49115" href="NbE.html#49115" class="Bound">Î</a><a id="49116" class="Symbol">}</a> <a id="49118" class="Symbol">{</a><a id="49119" href="NbE.html#49119" class="Bound">Îâ²</a><a id="49121" class="Symbol">}</a> <a id="49123" href="NbE.html#49123" class="Bound">pf</a>
    <a id="49130" class="Keyword">with</a> <a id="49135" href="NbE.html#49119" class="Bound">Îâ²</a> <a id="49138" href="NbE.html#3153" class="Function Operator">â¤?</a> <a id="49141" class="Symbol">(</a><a id="49142" href="NbE.html#49115" class="Bound">Î</a> <a id="49144" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="49146" href="NbE.html#48990" class="Bound">T</a><a id="49147" class="Symbol">)</a>
  <a id="49151" class="Symbol">...</a> <a id="49155" class="Symbol">|</a> <a id="49157" href="Relation.Nullary.html#1685" class="InductiveConstructor">no</a> <a id="49160" href="NbE.html#49160" class="Bound">Â¬pf</a> <a id="49164" class="Symbol">=</a> <a id="49166" href="NbE.html#49160" class="Bound">Â¬pf</a> <a id="49170" class="Bound">pf</a>
  <a id="49175" class="Symbol">...</a> <a id="49179" class="Symbol">|</a> <a id="49181" href="Relation.Nullary.html#1648" class="InductiveConstructor">yes</a> <a id="49185" href="NbE.html#49185" class="Bound">pfâ²</a>
    <a id="49193" class="Keyword">with</a> <a id="49198" href="NbE.html#26236" class="Function">ðÌ</a> <a id="49201" href="NbE.html#48990" class="Bound">T</a> <a id="49203" class="Bound">Î</a> <a id="49205" class="Symbol">|</a> <a id="49207" href="NbE.html#32011" class="Function">â¤-pf-irrelevance</a> <a id="49224" class="Bound">pf</a> <a id="49227" href="NbE.html#49185" class="Bound">pfâ²</a>
  <a id="49233" class="Symbol">...</a> <a id="49237" class="Symbol">|</a> <a id="49239" class="Symbol">_</a>      <a id="49246" class="Symbol">|</a> <a id="49248" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
    <a id="49257" class="Keyword">with</a> <a id="49262" href="NbE.html#9583" class="Function">ren-â¤</a> <a id="49268" class="Bound">pfâ²</a>
  <a id="49274" class="Symbol">...|</a> <a id="49279" class="Symbol">_</a> <a id="49281" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="49283" class="Symbol">_</a>  <a id="49286" class="Symbol">=</a> <a id="49288" href="NbE.html#14488" class="InductiveConstructor">refl</a>
</pre>
Before moving forward, we also want to show that rec â â¦recâ§. This will
be necessary for proving soundness, as we will need proof that
<code>Î â¢ rec = âáµ â¦recâ§ Î : (T â (nat â T â T) â nat â T)</code>
(i.e.Â proof that our interpretation of rec is sound) to prove the
soundness of NbE
<pre class="Agda"><a id="recââ¦recâ§"></a><a id="49579" href="NbE.html#49579" class="Function">recââ¦recâ§</a> <a id="49589" class="Symbol">:</a> <a id="49591" class="Symbol">â</a> <a id="49593" class="Symbol">{</a><a id="49594" href="NbE.html#49594" class="Bound">Î</a> <a id="49596" class="Symbol">:</a> <a id="49598" href="NbE.html#1943" class="Datatype">Ctx</a><a id="49601" class="Symbol">}</a> <a id="49603" class="Symbol">{</a><a id="49604" href="NbE.html#49604" class="Bound">T</a> <a id="49606" class="Symbol">:</a> <a id="49608" href="NbE.html#1051" class="Datatype">Type</a><a id="49612" class="Symbol">}</a> <a id="49614" class="Symbol">â</a> <a id="49616" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="49620" class="Symbol">{</a><a id="49621" href="NbE.html#49594" class="Bound">Î</a><a id="49622" class="Symbol">}</a> <a id="49624" class="Symbol">{</a><a id="49625" href="NbE.html#49604" class="Bound">T</a><a id="49626" class="Symbol">}</a> <a id="49628" href="NbE.html#40355" class="Function Operator">â</a> <a id="49630" href="NbE.html#27745" class="Function">â¦recâ§</a>
<a id="49636" href="NbE.html#49579" class="Function">recââ¦recâ§</a> <a id="49646" href="NbE.html#49646" class="Bound">Îâ²â¤Î</a> <a id="49651" class="Symbol">{</a><a id="49652" href="NbE.html#49652" class="Bound">z</a><a id="49653" class="Symbol">}</a> <a id="49655" href="NbE.html#49655" class="Bound">pf</a> <a id="49658" href="NbE.html#49658" class="Bound">Îâ³â¤Îâ²</a> <a id="49664" href="NbE.html#49664" class="Bound">pfâ²</a> <a id="49668" href="NbE.html#49668" class="Bound">Îâ´â¤Îâ³</a> <a id="49674" class="Symbol">{</a><a id="49675" class="Argument">s</a> <a id="49677" class="Symbol">=</a> <a id="49679" href="NbE.html#49679" class="Bound">n</a><a id="49680" class="Symbol">}</a> <a id="49682" class="Symbol">{</a><a id="49683" href="NbE.html#23818" class="InductiveConstructor">zero</a><a id="49687" class="Symbol">}</a> <a id="49689" href="NbE.html#49689" class="Bound">pfâ³</a>
  <a id="49695" class="Keyword">with</a> <a id="49700" href="NbE.html#49689" class="Bound">pfâ³</a> <a id="49704" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>
<a id="49709" class="Symbol">...</a> <a id="49713" class="Symbol">|</a> <a id="49715" href="NbE.html#49715" class="Bound">n==zero</a>
  <a id="49725" class="Keyword">rewrite</a> <a id="49733" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="49747" class="Symbol">{</a><a id="49748" class="Argument">t</a> <a id="49750" class="Symbol">=</a> <a id="49752" class="Bound">n</a><a id="49753" class="Symbol">}</a> <a id="49755" class="Symbol">=</a>
  <a id="49759" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="49770" class="Symbol">(</a><a id="49771" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a> <a id="49786" href="NbE.html#14488" class="InductiveConstructor">refl</a> <a id="49791" class="Symbol">(</a><a id="49792" href="NbE.html#14569" class="InductiveConstructor">sym</a> <a id="49796" href="NbE.html#49715" class="Bound">n==zero</a><a id="49803" class="Symbol">))</a>
    <a id="49810" class="Symbol">(</a><a id="49811" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="49822" class="Symbol">(</a><a id="49823" href="NbE.html#14569" class="InductiveConstructor">sym</a> <a id="49827" href="NbE.html#13128" class="InductiveConstructor">Î²-rec-z</a><a id="49834" class="Symbol">)</a> <a id="49836" href="NbE.html#49955" class="Function">zâa</a><a id="49839" class="Symbol">)</a>
    <a id="49845" class="Keyword">where</a>
      <a id="49857" href="NbE.html#49857" class="Function">Îâ´â¤Îâ²</a> <a id="49863" class="Symbol">=</a> <a id="49865" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="49873" class="Bound">Îâ´â¤Îâ³</a> <a id="49879" class="Bound">Îâ³â¤Îâ²</a>
      <a id="49891" href="NbE.html#49891" class="Function">subst-lemma</a> <a id="49903" class="Symbol">=</a> <a id="49905" href="NbE.html#30660" class="Function">â¡â==</a> <a id="49910" class="Symbol">(</a><a id="49911" href="NbE.html#750" class="Function">â¡-sym</a> <a id="49917" class="Symbol">(</a><a id="49918" href="NbE.html#36021" class="Postulate">weaken-compose</a> <a id="49933" class="Bound">Îâ´â¤Îâ³</a> <a id="49939" class="Bound">Îâ³â¤Îâ²</a> <a id="49945" class="Bound">z</a><a id="49946" class="Symbol">))</a>
      <a id="49955" href="NbE.html#49955" class="Function">zâa</a> <a id="49959" class="Symbol">=</a> <a id="49961" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="49972" href="NbE.html#49891" class="Function">subst-lemma</a> <a id="49984" class="Symbol">(</a><a id="49985" href="NbE.html#41783" class="Function">â-weaken</a> <a id="49994" class="Symbol">{</a><a id="49995" class="Argument">Îâ²â¤Î</a> <a id="50000" class="Symbol">=</a> <a id="50002" href="NbE.html#49857" class="Function">Îâ´â¤Îâ²</a><a id="50007" class="Symbol">}</a> <a id="50009" class="Bound">pf</a><a id="50011" class="Symbol">)</a>

<a id="50014" href="NbE.html#49579" class="Function">recââ¦recâ§</a> <a id="50024" href="NbE.html#50024" class="Bound">Îâ²â¤Î</a> <a id="50029" class="Symbol">{</a><a id="50030" href="NbE.html#50030" class="Bound">z</a><a id="50031" class="Symbol">}</a> <a id="50033" class="Symbol">{</a><a id="50034" href="NbE.html#50034" class="Bound">az</a><a id="50036" class="Symbol">}</a> <a id="50038" href="NbE.html#50038" class="Bound">pf</a> <a id="50041" href="NbE.html#50041" class="Bound">Îâ³â¤Îâ²</a> <a id="50047" class="Symbol">{</a><a id="50048" href="NbE.html#50048" class="Bound">s</a><a id="50049" class="Symbol">}</a> <a id="50051" class="Symbol">{</a><a id="50052" href="NbE.html#50052" class="Bound">aâ</a><a id="50054" class="Symbol">}</a> <a id="50056" href="NbE.html#50056" class="Bound">pfâ²</a> <a id="50060" href="NbE.html#50060" class="Bound">Îâ´â¤Îâ³</a> <a id="50066" class="Symbol">{</a><a id="50067" href="NbE.html#50067" class="Bound">m</a><a id="50068" class="Symbol">}</a> <a id="50070" class="Symbol">{</a><a id="50071" href="NbE.html#23830" class="InductiveConstructor">suc</a> <a id="50075" href="NbE.html#50075" class="Bound">aâ</a><a id="50077" class="Symbol">}</a> <a id="50079" href="NbE.html#50079" class="Bound">pfâ³</a>
  <a id="50085" class="Keyword">with</a> <a id="50090" href="NbE.html#50079" class="Bound">pfâ³</a> <a id="50094" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>
<a id="50099" class="Symbol">...</a> <a id="50103" class="Symbol">|</a> <a id="50105" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="50107" href="NbE.html#50107" class="Bound">n</a> <a id="50109" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="50111" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="50113" href="NbE.html#50113" class="Bound">m==saâ</a> <a id="50120" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="50122" href="NbE.html#50122" class="Bound">nâaâ</a> <a id="50127" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="50129" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
  <a id="50133" class="Keyword">rewrite</a> <a id="50141" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="50155" class="Symbol">{</a><a id="50156" class="Argument">t</a> <a id="50158" class="Symbol">=</a> <a id="50160" class="Bound">m</a><a id="50161" class="Symbol">}</a> <a id="50163" class="Symbol">=</a>
    <a id="50169" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="50180" class="Symbol">(</a><a id="50181" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a> <a id="50196" href="NbE.html#14488" class="InductiveConstructor">refl</a> <a id="50201" class="Symbol">(</a><a id="50202" href="NbE.html#14569" class="InductiveConstructor">sym</a> <a id="50206" href="NbE.html#50113" class="Bound">m==saâ</a><a id="50212" class="Symbol">))</a>
      <a id="50221" class="Symbol">(</a><a id="50222" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="50233" class="Symbol">(</a><a id="50234" href="NbE.html#14569" class="InductiveConstructor">sym</a> <a id="50238" href="NbE.html#13302" class="InductiveConstructor">Î²-rec-s</a><a id="50245" class="Symbol">)</a> <a id="50247" href="NbE.html#50533" class="Function">sÂ·nÂ·recâaâÂ·aâÂ·â¦recâ§</a><a id="50266" class="Symbol">)</a>
  <a id="50270" class="Keyword">where</a>
    <a id="50280" href="NbE.html#50280" class="Function">subst-lemmaâ</a> <a id="50293" class="Symbol">=</a> <a id="50295" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="50309" class="Symbol">{</a><a id="50310" class="Argument">t</a> <a id="50312" class="Symbol">=</a> <a id="50314" class="Bound">Îâ´â¤Îâ³</a> <a id="50320" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="50323" class="Bound">s</a><a id="50324" class="Symbol">}</a>
    <a id="50330" href="NbE.html#50330" class="Function">subst-lemmaâ</a> <a id="50343" class="Symbol">=</a> <a id="50345" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="50359" class="Symbol">{</a><a id="50360" class="Argument">t</a> <a id="50362" class="Symbol">=</a> <a id="50364" href="NbE.html#50107" class="Bound">n</a><a id="50365" class="Symbol">}</a>

    <a id="50372" href="NbE.html#50372" class="Function">recÂ·zÂ·sÂ·n</a> <a id="50382" class="Symbol">=</a> <a id="50384" class="Symbol">(</a><a id="50385" class="Bound">Îâ´â¤Îâ³</a> <a id="50391" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="50394" class="Symbol">(</a><a id="50395" class="Bound">Îâ³â¤Îâ²</a> <a id="50401" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="50404" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="50408" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="50410" class="Bound">z</a><a id="50411" class="Symbol">)</a> <a id="50413" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="50415" class="Bound">s</a><a id="50416" class="Symbol">)</a> <a id="50418" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="50420" href="NbE.html#50107" class="Bound">n</a>

    <a id="50427" href="NbE.html#50427" class="Function">ih</a> <a id="50430" class="Symbol">:</a> <a id="50432" href="NbE.html#50372" class="Function">recÂ·zÂ·sÂ·n</a> <a id="50442" href="NbE.html#40355" class="Function Operator">â</a> <a id="50444" href="NbE.html#27745" class="Function">â¦recâ§</a> <a id="50450" class="Bound">az</a> <a id="50453" class="Bound">aâ</a> <a id="50456" class="Bound">aâ</a>
    <a id="50463" href="NbE.html#50427" class="Function">ih</a> <a id="50466" class="Symbol">=</a> <a id="50468" href="NbE.html#49579" class="Function">recââ¦recâ§</a> <a id="50478" class="Bound">Îâ²â¤Î</a> <a id="50483" class="Bound">pf</a> <a id="50486" class="Bound">Îâ³â¤Îâ²</a> <a id="50492" class="Symbol">{</a><a id="50493" class="Argument">s</a> <a id="50495" class="Symbol">=</a> <a id="50497" class="Bound">s</a><a id="50498" class="Symbol">}</a> <a id="50500" class="Bound">pfâ²</a> <a id="50504" class="Bound">Îâ´â¤Îâ³</a> <a id="50510" class="Symbol">{</a><a id="50511" class="Argument">s</a> <a id="50513" class="Symbol">=</a> <a id="50515" href="NbE.html#50107" class="Bound">n</a><a id="50516" class="Symbol">}</a> <a id="50518" class="Symbol">{</a><a id="50519" class="Bound">aâ</a><a id="50521" class="Symbol">}</a> <a id="50523" href="NbE.html#50122" class="Bound">nâaâ</a>

    <a id="50533" href="NbE.html#50533" class="Function">sÂ·nÂ·recâaâÂ·aâÂ·â¦recâ§</a> <a id="50553" class="Symbol">:</a> <a id="50555" class="Symbol">(</a><a id="50556" class="Bound">Îâ´â¤Îâ³</a> <a id="50562" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="50565" class="Bound">s</a><a id="50566" class="Symbol">)</a> <a id="50568" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="50570" href="NbE.html#50107" class="Bound">n</a> <a id="50572" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="50574" href="NbE.html#50372" class="Function">recÂ·zÂ·sÂ·n</a> <a id="50584" href="NbE.html#40355" class="Function Operator">â</a> <a id="50586" class="Bound">aâ</a> <a id="50589" class="Bound">aâ</a> <a id="50592" class="Symbol">(</a><a id="50593" href="NbE.html#27745" class="Function">â¦recâ§</a> <a id="50599" class="Bound">az</a> <a id="50602" class="Bound">aâ</a> <a id="50605" class="Bound">aâ</a><a id="50607" class="Symbol">)</a>
    <a id="50613" href="NbE.html#50533" class="Function">sÂ·nÂ·recâaâÂ·aâÂ·â¦recâ§</a> <a id="50633" class="Keyword">with</a> <a id="50638" class="Bound">pfâ²</a> <a id="50642" class="Bound">Îâ´â¤Îâ³</a> <a id="50648" class="Symbol">{</a><a id="50649" href="NbE.html#50107" class="Bound">n</a><a id="50650" class="Symbol">}</a> <a id="50652" href="NbE.html#50122" class="Bound">nâaâ</a> <a id="50657" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="50662" href="NbE.html#50427" class="Function">ih</a>
    <a id="50669" href="NbE.html#50533" class="Function">...</a> <a id="50673" class="Symbol">|</a> <a id="50675" href="NbE.html#50675" class="Bound">pf</a>
      <a id="50684" class="Keyword">rewrite</a> <a id="50692" href="NbE.html#50280" class="Function">subst-lemmaâ</a> <a id="50705" class="Symbol">|</a> <a id="50707" href="NbE.html#50330" class="Function">subst-lemmaâ</a> <a id="50720" class="Symbol">=</a> <a id="50722" href="NbE.html#50675" class="Bound">pf</a>

<a id="50726" href="NbE.html#49579" class="Function">recââ¦recâ§</a> <a id="50736" class="Symbol">{_}</a> <a id="50740" class="Symbol">{</a><a id="50741" href="NbE.html#50741" class="Bound">T</a><a id="50742" class="Symbol">}</a> <a id="50744" href="NbE.html#50744" class="Bound">Îâ²â¤Î</a> <a id="50749" class="Symbol">{</a><a id="50750" href="NbE.html#50750" class="Bound">z</a><a id="50751" class="Symbol">}</a> <a id="50753" class="Symbol">{</a><a id="50754" href="NbE.html#50754" class="Bound">az</a><a id="50756" class="Symbol">}</a> <a id="50758" href="NbE.html#50758" class="Bound">pf</a> <a id="50761" href="NbE.html#50761" class="Bound">Îâ³â¤Îâ²</a> <a id="50767" class="Symbol">{</a><a id="50768" href="NbE.html#50768" class="Bound">s</a><a id="50769" class="Symbol">}</a> <a id="50771" class="Symbol">{</a><a id="50772" href="NbE.html#50772" class="Bound">aâ</a><a id="50774" class="Symbol">}</a> <a id="50776" href="NbE.html#50776" class="Bound">pfâ²</a> <a id="50780" class="Symbol">{</a><a id="50781" href="NbE.html#50781" class="Bound">Îâ´</a><a id="50783" class="Symbol">}</a> <a id="50785" href="NbE.html#50785" class="Bound">Îâ´â¤Îâ³</a> <a id="50791" class="Symbol">{</a><a id="50792" href="NbE.html#50792" class="Bound">n</a><a id="50793" class="Symbol">}</a> <a id="50795" class="Symbol">{</a><a id="50796" href="NbE.html#23846" class="InductiveConstructor">ne</a> <a id="50799" href="NbE.html#50799" class="Bound">ðÌ</a><a id="50801" class="Symbol">}</a> <a id="50803" href="NbE.html#50803" class="Bound">pfâ³</a> <a id="50807" class="Symbol">=</a>
  <a id="50811" href="NbE.html#42958" class="Function">==â-â</a> <a id="50817" href="NbE.html#50838" class="Function">rec==ârecâ</a> <a id="50828" class="Keyword">where</a>
    <a id="50838" href="NbE.html#50838" class="Function">rec==ârecâ</a> <a id="50849" class="Symbol">:</a> <a id="50851" class="Symbol">â</a> <a id="50853" class="Symbol">{</a><a id="50854" href="NbE.html#50854" class="Bound">Îâ</a> <a id="50857" class="Symbol">:</a> <a id="50859" href="NbE.html#1943" class="Datatype">Ctx</a><a id="50862" class="Symbol">}</a>
      <a id="50870" class="Symbol">â</a> <a id="50872" class="Symbol">(</a><a id="50873" href="NbE.html#50873" class="Bound">Îââ¤Îâ´</a> <a id="50879" class="Symbol">:</a> <a id="50881" href="NbE.html#50854" class="Bound">Îâ</a> <a id="50884" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="50886" href="NbE.html#50781" class="Bound">Îâ´</a><a id="50888" class="Symbol">)</a>
      <a id="50896" class="Symbol">â</a> <a id="50898" href="NbE.html#50873" class="Bound">Îââ¤Îâ´</a> <a id="50904" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="50907" class="Symbol">(</a><a id="50908" href="NbE.html#50785" class="Bound">Îâ´â¤Îâ³</a> <a id="50914" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="50917" class="Symbol">(</a><a id="50918" href="NbE.html#50761" class="Bound">Îâ³â¤Îâ²</a> <a id="50924" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="50927" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="50931" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="50933" href="NbE.html#50750" class="Bound">z</a><a id="50934" class="Symbol">)</a> <a id="50936" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="50938" href="NbE.html#50768" class="Bound">s</a><a id="50939" class="Symbol">)</a> <a id="50941" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="50943" href="NbE.html#50792" class="Bound">n</a> <a id="50945" href="NbE.html#37949" class="Function Operator">==â</a> <a id="50949" href="NbE.html#27481" class="Function">recâ</a> <a id="50954" class="Symbol">(</a><a id="50955" href="NbE.html#24381" class="Function">âáµ</a> <a id="50958" href="NbE.html#50754" class="Bound">az</a><a id="50960" class="Symbol">)</a> <a id="50962" class="Symbol">(</a><a id="50963" href="NbE.html#24381" class="Function">âáµ</a> <a id="50966" href="NbE.html#50772" class="Bound">aâ</a><a id="50968" class="Symbol">)</a> <a id="50970" href="NbE.html#50799" class="Bound">ðÌ</a>
    <a id="50977" href="NbE.html#50838" class="Function">rec==ârecâ</a> <a id="50988" class="Symbol">{</a><a id="50989" href="NbE.html#50989" class="Bound">Îâ</a><a id="50991" class="Symbol">}</a> <a id="50993" href="NbE.html#50993" class="Bound">Îââ¤Îâ´</a>
      <a id="51005" class="Keyword">with</a> <a id="51010" href="NbE.html#50799" class="Bound">ðÌ</a> <a id="51013" href="NbE.html#50989" class="Bound">Îâ</a>          <a id="51025" class="Symbol">|</a> <a id="51027" href="NbE.html#50803" class="Bound">pfâ³</a> <a id="51031" href="NbE.html#50993" class="Bound">Îââ¤Îâ´</a>
    <a id="51041" class="Symbol">...</a> <a id="51045" class="Symbol">|</a> <a id="51047" href="Data.Sum.Base.html#784" class="InductiveConstructor">injâ</a> <a id="51052" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="51054" class="Symbol">_</a> <a id="51056" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="51058" class="Symbol">_</a> <a id="51060" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="51062" class="Symbol">|</a> <a id="51064" href="NbE.html#51064" class="Bound">n==ð</a> <a id="51069" class="Symbol">=</a>
      <a id="51077" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a>
        <a id="51100" class="Symbol">(</a><a id="51101" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a>
          <a id="51126" class="Symbol">(</a><a id="51127" href="NbE.html#14231" class="InductiveConstructor">app-compatible</a>
            <a id="51154" href="NbE.html#14488" class="InductiveConstructor">refl</a>
            <a id="51171" class="Symbol">(</a><a id="51172" href="NbE.html#52516" class="Function">z==âáµaz</a><a id="51179" class="Symbol">))</a>
          <a id="51192" class="Symbol">(</a><a id="51193" href="NbE.html#14670" class="InductiveConstructor">trans</a>
            <a id="51211" href="NbE.html#13733" class="InductiveConstructor">Î·</a>
            <a id="51225" class="Symbol">(</a><a id="51226" href="NbE.html#14072" class="InductiveConstructor">abs-compatible</a>
              <a id="51255" class="Symbol">(</a><a id="51256" href="NbE.html#14670" class="InductiveConstructor">trans</a>
                <a id="51278" href="NbE.html#13733" class="InductiveConstructor">Î·</a>
                <a id="51296" class="Symbol">(</a><a id="51297" href="NbE.html#14072" class="InductiveConstructor">abs-compatible</a>  <a id="51313" href="NbE.html#52018" class="Function">sÂ·xâÂ·xâ==âáµasÂ·âáµðÌâÂ·âáµðÌâ</a><a id="51338" class="Symbol">)))))</a>
      <a id="51350" href="NbE.html#51064" class="Bound">n==ð</a>
      <a id="51361" class="Keyword">where</a>
        <a id="51375" href="NbE.html#51375" class="Function">Îâ´â¤Îâ²</a> <a id="51381" class="Symbol">=</a> <a id="51383" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="51391" href="NbE.html#50785" class="Bound">Îâ´â¤Îâ³</a> <a id="51397" href="NbE.html#50761" class="Bound">Îâ³â¤Îâ²</a>
        <a id="51411" href="NbE.html#51411" class="Function">Îââ¤Îâ³</a> <a id="51417" class="Symbol">=</a> <a id="51419" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="51427" class="Bound">Îââ¤Îâ´</a> <a id="51433" href="NbE.html#50785" class="Bound">Îâ´â¤Îâ³</a>
        <a id="51447" href="NbE.html#51447" class="Function">Îâ,natâ¤Îâ</a> <a id="51457" class="Symbol">=</a> <a id="51459" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="51465" class="Symbol">{</a><a id="51466" class="Argument">T</a> <a id="51468" class="Symbol">=</a> <a id="51470" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="51473" class="Symbol">}</a> <a id="51475" href="NbE.html#51411" class="Function">Îââ¤Îâ³</a>
        <a id="51489" href="NbE.html#51489" class="Function">Îâ,nat,Tâ¤Îâ</a> <a id="51501" class="Symbol">=</a> <a id="51503" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="51509" class="Symbol">{</a><a id="51510" class="Argument">T</a> <a id="51512" class="Symbol">=</a> <a id="51514" href="NbE.html#50741" class="Bound">T</a><a id="51515" class="Symbol">}</a> <a id="51517" href="NbE.html#51447" class="Function">Îâ,natâ¤Îâ</a>
        <a id="51535" href="NbE.html#51535" class="Function">Îâ,nat,Tâ¤Îâ,nat</a> <a id="51551" class="Symbol">=</a> <a id="51553" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="51559" class="Symbol">{</a><a id="51560" class="Argument">T</a> <a id="51562" class="Symbol">=</a> <a id="51564" href="NbE.html#50741" class="Bound">T</a><a id="51565" class="Symbol">}</a> <a id="51567" class="Symbol">(</a><a id="51568" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="51573" class="Symbol">{</a><a id="51574" class="Bound">Îâ</a> <a id="51577" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="51579" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="51582" class="Symbol">})</a>

        <a id="51594" href="NbE.html#51594" class="Function">subst-lemmaâ</a> <a id="51607" class="Symbol">=</a> <a id="51609" href="NbE.html#750" class="Function">â¡-sym</a> <a id="51615" class="Symbol">(</a><a id="51616" href="NbE.html#36667" class="Function">incr-â-â¡</a> <a id="51625" class="Symbol">{</a><a id="51626" class="Argument">Îâ²â¤Î</a> <a id="51631" class="Symbol">=</a> <a id="51633" href="NbE.html#51411" class="Function">Îââ¤Îâ³</a><a id="51638" class="Symbol">}</a> <a id="51640" class="Symbol">{</a><a id="51641" class="Argument">S</a> <a id="51643" class="Symbol">=</a> <a id="51645" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="51648" class="Symbol">}</a> <a id="51650" class="Symbol">{</a><a id="51651" class="Argument">t</a> <a id="51653" class="Symbol">=</a> <a id="51655" href="NbE.html#50768" class="Bound">s</a><a id="51656" class="Symbol">})</a>
        <a id="51667" href="NbE.html#51667" class="Function">subst-lemmaâ</a> <a id="51680" class="Symbol">=</a>
          <a id="51692" href="NbE.html#750" class="Function">â¡-sym</a> <a id="51698" class="Symbol">(</a><a id="51699" href="NbE.html#36021" class="Postulate">weaken-compose</a> <a id="51714" class="Bound">Îââ¤Îâ´</a> <a id="51720" href="NbE.html#50785" class="Bound">Îâ´â¤Îâ³</a> <a id="51726" href="NbE.html#50768" class="Bound">s</a><a id="51727" class="Symbol">)</a>
        <a id="51737" href="NbE.html#51737" class="Function">subst-lemmaâ</a> <a id="51750" class="Symbol">=</a> <a id="51752" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="51766" class="Symbol">{</a><a id="51767" class="Argument">t</a> <a id="51769" class="Symbol">=</a> <a id="51771" href="NbE.html#50741" class="Bound">T</a> <a id="51773" href="NbE.html#12039" class="Function Operator">ââ¢</a> <a id="51776" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="51780" href="NbE.html#12039" class="Function Operator">ââ¢</a> <a id="51783" class="Bound">Îââ¤Îâ´</a> <a id="51789" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="51792" href="NbE.html#50785" class="Bound">Îâ´â¤Îâ³</a> <a id="51798" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="51801" href="NbE.html#50768" class="Bound">s</a><a id="51802" class="Symbol">}</a>

        <a id="51813" href="NbE.html#51813" class="Function">ðÌâ</a> <a id="51817" class="Symbol">=</a> <a id="51819" href="NbE.html#26236" class="Function">ðÌ</a> <a id="51822" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="51826" class="Bound">Îâ</a>
        <a id="51837" href="NbE.html#51837" class="Function">ðÌâ</a> <a id="51841" class="Symbol">=</a> <a id="51843" href="NbE.html#26236" class="Function">ðÌ</a> <a id="51846" href="NbE.html#50741" class="Bound">T</a> <a id="51848" class="Symbol">(</a><a id="51849" class="Bound">Îâ</a> <a id="51852" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="51854" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="51857" class="Symbol">)</a>

        <a id="51868" href="NbE.html#51868" class="Function">sÂ·xâÂ·xââaâÂ·âáµðÌââáµðÌâ</a> <a id="51890" class="Symbol">=</a>
          <a id="51902" href="NbE.html#50776" class="Bound">pfâ²</a> <a id="51906" href="NbE.html#51447" class="Function">Îâ,natâ¤Îâ</a> <a id="51916" class="Symbol">{</a><a id="51917" class="Argument">s</a> <a id="51919" class="Symbol">=</a> <a id="51921" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="51923" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="51925" class="Symbol">}</a> <a id="51927" class="Symbol">{</a><a id="51928" class="Argument">a</a> <a id="51930" class="Symbol">=</a> <a id="51932" href="NbE.html#24275" class="Function">âáµ</a> <a id="51935" class="Symbol">{</a><a id="51936" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="51939" class="Symbol">}</a> <a id="51941" class="Symbol">(</a><a id="51942" href="NbE.html#26236" class="Function">ðÌ</a> <a id="51945" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="51949" class="Bound">Îâ</a><a id="51951" class="Symbol">)}</a> <a id="51954" class="Symbol">(</a><a id="51955" href="NbE.html#43565" class="Function">xââáµðÌ</a> <a id="51962" class="Symbol">{</a><a id="51963" class="Bound">Îâ</a><a id="51965" class="Symbol">}</a> <a id="51967" class="Symbol">{</a><a id="51968" href="NbE.html#1070" class="InductiveConstructor">nat</a><a id="51971" class="Symbol">})</a>
            <a id="51986" href="NbE.html#51535" class="Function">Îâ,nat,Tâ¤Îâ,nat</a> <a id="52002" href="NbE.html#43565" class="Function">xââáµðÌ</a>

        <a id="52018" href="NbE.html#52018" class="Function">sÂ·xâÂ·xâ==âáµasÂ·âáµðÌâÂ·âáµðÌâ</a> <a id="52044" class="Symbol">:</a>
          <a id="52056" class="Symbol">(</a><a id="52057" href="NbE.html#50741" class="Bound">T</a> <a id="52059" href="NbE.html#12039" class="Function Operator">ââ¢</a> <a id="52062" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="52066" href="NbE.html#12039" class="Function Operator">ââ¢</a> <a id="52069" class="Bound">Îââ¤Îâ´</a> <a id="52075" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="52078" href="NbE.html#50785" class="Bound">Îâ´â¤Îâ³</a> <a id="52084" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="52087" href="NbE.html#50768" class="Bound">s</a><a id="52088" class="Symbol">)</a> <a id="52090" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="52092" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="52094" class="Symbol">(</a><a id="52095" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="52098" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="52100" class="Symbol">)</a> <a id="52102" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="52104" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="52106" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="52109" href="NbE.html#13044" class="Datatype Operator">==</a>
            <a id="52124" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a> <a id="52130" class="Symbol">(</a><a id="52131" href="NbE.html#24381" class="Function">âáµ</a> <a id="52134" class="Symbol">(</a><a id="52135" href="NbE.html#50772" class="Bound">aâ</a> <a id="52138" class="Symbol">(</a><a id="52139" href="NbE.html#24275" class="Function">âáµ</a> <a id="52142" href="NbE.html#51813" class="Function">ðÌâ</a><a id="52145" class="Symbol">)</a> <a id="52147" class="Symbol">(</a><a id="52148" href="NbE.html#24275" class="Function">âáµ</a> <a id="52151" href="NbE.html#51837" class="Function">ðÌâ</a><a id="52154" class="Symbol">))</a> <a id="52157" class="Symbol">(</a><a id="52158" class="Bound">Îâ</a> <a id="52161" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="52163" href="NbE.html#1070" class="InductiveConstructor">nat</a> <a id="52167" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="52169" href="NbE.html#50741" class="Bound">T</a><a id="52170" class="Symbol">))</a>
        <a id="52181" href="NbE.html#52018" class="Function">sÂ·xâÂ·xâ==âáµasÂ·âáµðÌâÂ·âáµðÌâ</a>
          <a id="52217" class="Keyword">with</a> <a id="52222" href="NbE.html#51868" class="Function">sÂ·xâÂ·xââaâÂ·âáµðÌââáµðÌâ</a>
        <a id="52252" href="NbE.html#52018" class="Function">...</a> <a id="52256" class="Symbol">|</a> <a id="52258" href="NbE.html#52258" class="Bound">pf-â</a>
          <a id="52273" class="Keyword">with</a> <a id="52278" href="NbE.html#43233" class="Function">â-==â</a> <a id="52284" href="NbE.html#52258" class="Bound">pf-â</a> <a id="52289" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>
        <a id="52302" class="Symbol">...</a> <a id="52306" class="Symbol">|</a> <a id="52308" href="NbE.html#52308" class="Bound">pf-==â</a>
          <a id="52325" class="Keyword">rewrite</a> <a id="52333" href="NbE.html#51594" class="Function">subst-lemmaâ</a> <a id="52346" class="Symbol">|</a> <a id="52348" href="NbE.html#51667" class="Function">subst-lemmaâ</a> <a id="52361" class="Symbol">|</a> <a id="52363" href="NbE.html#51737" class="Function">subst-lemmaâ</a> <a id="52376" class="Symbol">=</a> <a id="52378" href="NbE.html#52308" class="Bound">pf-==â</a>

        <a id="52394" href="NbE.html#52394" class="Function">subst-lemmaâ</a> <a id="52407" class="Symbol">=</a> <a id="52409" href="NbE.html#750" class="Function">â¡-sym</a> <a id="52415" class="Symbol">(</a><a id="52416" href="NbE.html#36021" class="Postulate">weaken-compose</a> <a id="52431" class="Bound">Îââ¤Îâ´</a> <a id="52437" href="NbE.html#51375" class="Function">Îâ´â¤Îâ²</a> <a id="52443" href="NbE.html#50750" class="Bound">z</a><a id="52444" class="Symbol">)</a>
        <a id="52454" href="NbE.html#52454" class="Function">subst-lemmaâ</a>  <a id="52468" class="Symbol">=</a> <a id="52470" href="NbE.html#750" class="Function">â¡-sym</a> <a id="52476" class="Symbol">(</a><a id="52477" href="NbE.html#36021" class="Postulate">weaken-compose</a> <a id="52492" href="NbE.html#50785" class="Bound">Îâ´â¤Îâ³</a> <a id="52498" href="NbE.html#50761" class="Bound">Îâ³â¤Îâ²</a> <a id="52504" href="NbE.html#50750" class="Bound">z</a><a id="52505" class="Symbol">)</a>

        <a id="52516" href="NbE.html#52516" class="Function">z==âáµaz</a> <a id="52524" class="Symbol">:</a> <a id="52526" class="Bound">Îââ¤Îâ´</a> <a id="52532" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="52535" href="NbE.html#50785" class="Bound">Îâ´â¤Îâ³</a> <a id="52541" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="52544" href="NbE.html#50761" class="Bound">Îâ³â¤Îâ²</a> <a id="52550" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="52553" href="NbE.html#50750" class="Bound">z</a> <a id="52555" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="52558" href="Agda.Builtin.Sigma.html#252" class="Field">projâ</a> <a id="52564" class="Symbol">(</a><a id="52565" href="NbE.html#24381" class="Function">âáµ</a> <a id="52568" href="NbE.html#50754" class="Bound">az</a> <a id="52571" class="Bound">Îâ</a><a id="52573" class="Symbol">)</a>
        <a id="52583" href="NbE.html#52516" class="Function">z==âáµaz</a>
          <a id="52601" class="Keyword">with</a> <a id="52606" href="NbE.html#43233" class="Function">â-==â</a> <a id="52612" class="Symbol">{</a><a id="52613" class="Bound">Îâ</a><a id="52615" class="Symbol">}</a> <a id="52617" href="NbE.html#50758" class="Bound">pf</a> <a id="52620" class="Symbol">(</a><a id="52621" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="52629" class="Bound">Îââ¤Îâ´</a> <a id="52635" href="NbE.html#51375" class="Function">Îâ´â¤Îâ²</a><a id="52640" class="Symbol">)</a>
        <a id="52650" href="NbE.html#52516" class="Function">...</a> <a id="52654" class="Symbol">|</a> <a id="52656" href="NbE.html#52656" class="Bound">pf</a>
          <a id="52669" class="Keyword">rewrite</a> <a id="52677" href="NbE.html#52394" class="Function">subst-lemmaâ</a> <a id="52690" class="Symbol">|</a> <a id="52692" href="NbE.html#52454" class="Function">subst-lemmaâ</a> <a id="52705" class="Symbol">=</a> <a id="52707" href="NbE.html#52656" class="Bound">pf</a>
</pre>
<p>With that out of the way, having proved the lemma that
<code>Î â¢ t : T â a â â Îâ² â¤ Î. Îâ² â¢ t = âáµ a Î : T</code>, we have: Î â¢
t : T â a â Î â¢ t = âáµ a Î : T which is what we wanted our logical
relation to imply, so that we can then show that
<code>Î â¢ t : T â a</code> for <code>a = â¦tâ§ (â Î)</code></p>
For this, we will establish that <code>Î â¢ t : T â â¦tâ§ (â Î)</code>
using the fundamental lemma of logical relations. First, we will need to
extend logical relations to include substitutions and environments. We
again use â¥ââ¥ for the âparallelâ in parallel substitutions, as â is
already defined for terms and semantic objects
<pre class="Agda"><a id="_â¥ââ¥_"></a><a id="53313" href="NbE.html#53313" class="Function Operator">_â¥ââ¥_</a> <a id="53319" class="Symbol">:</a> <a id="53321" class="Symbol">â</a> <a id="53323" class="Symbol">{</a><a id="53324" href="NbE.html#53324" class="Bound">Î</a> <a id="53326" href="NbE.html#53326" class="Bound">Î</a> <a id="53328" class="Symbol">:</a> <a id="53330" href="NbE.html#1943" class="Datatype">Ctx</a><a id="53333" class="Symbol">}</a>
      <a id="53341" class="Symbol">â</a> <a id="53343" href="NbE.html#6688" class="Datatype">Sub</a> <a id="53347" href="NbE.html#53324" class="Bound">Î</a> <a id="53349" href="NbE.html#53326" class="Bound">Î</a>
      <a id="53357" class="Symbol">â</a> <a id="53359" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="53361" href="NbE.html#53326" class="Bound">Î</a> <a id="53363" href="NbE.html#15983" class="Field Operator">â§</a>
      <a id="53371" class="Symbol">â</a> <a id="53373" href="Agda.Primitive.html#326" class="Primitive">Set</a>
</pre>
<p>Similarly as for terms and values, a Kripe logical relation between a
parallel substitution and an environment is defined inductively, though
this time by induction on the rules for parallel substitutions instead
of by induction on types</p>
A substitution from the empty context is always logically related to an
empty environment
<pre class="Agda"><a id="53719" href="NbE.html#6718" class="InductiveConstructor">â</a> <a id="53721" href="NbE.html#53313" class="Function Operator">â¥ââ¥</a> <a id="53725" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="53728" class="Symbol">=</a> <a id="53730" href="Agda.Builtin.Unit.html#164" class="Record">â¤</a>
</pre>
An extension to a substition (Ï , s / x) is logically related to an
environment (Ï , a) if Ï is logically related to Ï and s is logically
related to a
<pre class="Agda"><a id="53896" class="Symbol">(</a><a id="53897" href="NbE.html#53897" class="Bound">Ï</a> <a id="53899" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="53901" href="NbE.html#53901" class="Bound">s</a><a id="53902" class="Symbol">)</a> <a id="53904" href="NbE.html#53313" class="Function Operator">â¥ââ¥</a> <a id="53908" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="53910" href="NbE.html#53910" class="Bound">Ï</a> <a id="53912" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="53914" href="NbE.html#53914" class="Bound">a</a> <a id="53916" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="53918" class="Symbol">=</a> <a id="53920" href="NbE.html#53897" class="Bound">Ï</a> <a id="53922" href="NbE.html#53313" class="Function Operator">â¥ââ¥</a> <a id="53926" href="NbE.html#53910" class="Bound">Ï</a> <a id="53928" href="Data.Product.html#1167" class="Function Operator">Ã</a> <a id="53930" href="NbE.html#53901" class="Bound">s</a> <a id="53932" href="NbE.html#40355" class="Function Operator">â</a> <a id="53934" href="NbE.html#53914" class="Bound">a</a>

<a id="53937" class="Keyword">infix</a> <a id="53943" class="Number">4</a> <a id="53945" href="NbE.html#53313" class="Function Operator">_â¥ââ¥_</a>
</pre>
A consequence of how substitutions and their logical relation with
environments are defined is that we have that a logical relation for a
shifted substitution holds if the logical relation holds for the
original substitution (as the shifted terms will be irrelevant)
<pre class="Agda"><a id="â¥ââ¥-â"></a><a id="54231" href="NbE.html#54231" class="Function">â¥ââ¥-â</a> <a id="54237" class="Symbol">:</a> <a id="54239" class="Symbol">â</a> <a id="54241" class="Symbol">{</a><a id="54242" href="NbE.html#54242" class="Bound">Î</a> <a id="54244" href="NbE.html#54244" class="Bound">Î</a> <a id="54246" class="Symbol">:</a> <a id="54248" href="NbE.html#1943" class="Datatype">Ctx</a><a id="54251" class="Symbol">}</a> <a id="54253" class="Symbol">{</a><a id="54254" href="NbE.html#54254" class="Bound">T</a> <a id="54256" class="Symbol">:</a> <a id="54258" href="NbE.html#1051" class="Datatype">Type</a><a id="54262" class="Symbol">}</a> <a id="54264" class="Symbol">{</a><a id="54265" href="NbE.html#54265" class="Bound">Ïáµ£</a> <a id="54268" class="Symbol">:</a> <a id="54270" href="NbE.html#7265" class="Datatype">Ren</a> <a id="54274" href="NbE.html#54242" class="Bound">Î</a> <a id="54276" href="NbE.html#54244" class="Bound">Î</a><a id="54277" class="Symbol">}</a> <a id="54279" class="Symbol">{</a><a id="54280" href="NbE.html#54280" class="Bound">Ï</a> <a id="54282" class="Symbol">:</a> <a id="54284" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="54286" href="NbE.html#54244" class="Bound">Î</a> <a id="54288" href="NbE.html#15983" class="Field Operator">â§</a><a id="54289" class="Symbol">}</a>
      <a id="54297" class="Symbol">â</a> <a id="54299" href="NbE.html#9824" class="Function">subst-ren</a> <a id="54309" href="NbE.html#54265" class="Bound">Ïáµ£</a> <a id="54312" href="NbE.html#53313" class="Function Operator">â¥ââ¥</a> <a id="54316" href="NbE.html#54280" class="Bound">Ï</a>
      <a id="54324" class="Symbol">â</a> <a id="54326" href="NbE.html#9824" class="Function">subst-ren</a> <a id="54336" class="Symbol">(</a><a id="54337" href="NbE.html#8198" class="Function Operator">_âáµ£</a> <a id="54341" class="Symbol">{</a><a id="54342" class="Argument">T</a> <a id="54344" class="Symbol">=</a> <a id="54346" href="NbE.html#54254" class="Bound">T</a><a id="54347" class="Symbol">}</a> <a id="54349" href="NbE.html#54265" class="Bound">Ïáµ£</a><a id="54351" class="Symbol">)</a> <a id="54353" href="NbE.html#53313" class="Function Operator">â¥ââ¥</a> <a id="54357" href="NbE.html#54280" class="Bound">Ï</a>
<a id="54359" href="NbE.html#54231" class="Function">â¥ââ¥-â</a> <a id="54365" class="Symbol">{</a><a id="54366" class="Argument">Ïáµ£</a> <a id="54369" class="Symbol">=</a> <a id="54371" href="NbE.html#7295" class="InductiveConstructor">â</a><a id="54372" class="Symbol">}</a> <a id="54374" href="NbE.html#54374" class="Bound">pf</a> <a id="54377" class="Symbol">=</a> <a id="54379" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
<a id="54382" href="NbE.html#54231" class="Function">â¥ââ¥-â</a> <a id="54388" class="Symbol">{</a><a id="54389" class="Argument">T</a> <a id="54391" class="Symbol">=</a> <a id="54393" href="NbE.html#54393" class="Bound">T</a><a id="54394" class="Symbol">}</a> <a id="54396" class="Symbol">{</a><a id="54397" class="Argument">Ïáµ£</a> <a id="54400" class="Symbol">=</a> <a id="54402" class="Symbol">_</a> <a id="54404" href="NbE.html#7324" class="InductiveConstructor Operator">,</a> <a id="54406" href="NbE.html#54406" class="Bound">x</a><a id="54407" class="Symbol">}</a> <a id="54409" class="Symbol">{</a><a id="54410" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="54412" class="Symbol">_</a> <a id="54414" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="54416" href="NbE.html#54416" class="Bound">a</a> <a id="54418" href="NbE.html#620" class="InductiveConstructor Operator">â©</a><a id="54419" class="Symbol">}</a> <a id="54421" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="54423" href="NbE.html#54423" class="Bound">pf</a> <a id="54426" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="54428" href="NbE.html#54428" class="Bound">xâa</a> <a id="54432" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="54434" class="Symbol">=</a> <a id="54436" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="54438" href="NbE.html#54231" class="Function">â¥ââ¥-â</a> <a id="54444" href="NbE.html#54423" class="Bound">pf</a> <a id="54447" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="54449" href="NbE.html#54598" class="Function">ââ¢xâa</a> <a id="54455" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
  <a id="54459" class="Keyword">where</a>
    <a id="54469" href="NbE.html#54469" class="Function">subst-lemmaâ</a> <a id="54482" class="Symbol">=</a> <a id="54484" href="NbE.html#33199" class="Function">shift-var</a> <a id="54494" class="Symbol">{</a><a id="54495" class="Argument">S</a> <a id="54497" class="Symbol">=</a> <a id="54499" href="NbE.html#54393" class="Bound">T</a><a id="54500" class="Symbol">}</a> <a id="54502" class="Symbol">{</a><a id="54503" class="Argument">x</a> <a id="54505" class="Symbol">=</a> <a id="54507" href="NbE.html#54406" class="Bound">x</a><a id="54508" class="Symbol">}</a> <a id="54510" class="Symbol">{</a><a id="54511" class="Argument">Ïáµ£</a> <a id="54514" class="Symbol">=</a> <a id="54516" href="NbE.html#9240" class="Function">ren-id</a><a id="54522" class="Symbol">}</a>
    <a id="54528" href="NbE.html#54528" class="Function">subst-lemmaâ</a> <a id="54541" class="Symbol">=</a> <a id="54543" href="NbE.html#33750" class="Function">rename-id</a> <a id="54553" class="Symbol">{</a><a id="54554" class="Argument">x</a> <a id="54556" class="Symbol">=</a> <a id="54558" href="NbE.html#54406" class="Bound">x</a><a id="54559" class="Symbol">}</a>

    <a id="54566" href="NbE.html#54566" class="Function">Î,Tâ¤Î</a> <a id="54572" class="Symbol">=</a> <a id="54574" href="NbE.html#2943" class="InductiveConstructor">â¤-ext</a> <a id="54580" class="Symbol">{</a><a id="54581" class="Argument">T</a> <a id="54583" class="Symbol">=</a> <a id="54585" href="NbE.html#54393" class="Bound">T</a><a id="54586" class="Symbol">}</a> <a id="54588" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>

    <a id="54598" href="NbE.html#54598" class="Function">ââ¢xâa</a> <a id="54604" class="Symbol">:</a> <a id="54606" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="54608" class="Symbol">(</a><a id="54609" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="54612" href="NbE.html#54406" class="Bound">x</a><a id="54613" class="Symbol">)</a> <a id="54615" href="NbE.html#40355" class="Function Operator">â</a> <a id="54617" href="NbE.html#54416" class="Bound">a</a>
    <a id="54623" href="NbE.html#54598" class="Function">ââ¢xâa</a>
      <a id="54635" class="Keyword">with</a> <a id="54640" href="NbE.html#41783" class="Function">â-weaken</a> <a id="54649" class="Symbol">{</a><a id="54650" class="Argument">Îâ²â¤Î</a> <a id="54655" class="Symbol">=</a> <a id="54657" href="NbE.html#54566" class="Function">Î,Tâ¤Î</a><a id="54662" class="Symbol">}</a> <a id="54664" class="Symbol">{</a><a id="54665" class="Argument">t</a> <a id="54667" class="Symbol">=</a> <a id="54669" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="54671" href="NbE.html#54406" class="Bound">x</a><a id="54672" class="Symbol">}</a> <a id="54674" href="NbE.html#54428" class="Bound">xâa</a>
    <a id="54682" href="NbE.html#54598" class="Function">...</a> <a id="54686" class="Symbol">|</a> <a id="54688" href="NbE.html#54688" class="Bound">pf</a>
      <a id="54697" class="Keyword">rewrite</a> <a id="54705" href="NbE.html#54469" class="Function">subst-lemmaâ</a> <a id="54718" class="Symbol">|</a> <a id="54720" href="NbE.html#54528" class="Function">subst-lemmaâ</a> <a id="54733" class="Symbol">=</a> <a id="54735" href="NbE.html#54688" class="Bound">pf</a>
</pre>
A generalization of this is, similarly as for logical relations between
terms and semantic objects, that if a logical relation holds between a
substitution and an environment, it holds for any weakening of the
substitution (as weakening is really a series of shifts)
<pre class="Agda"><a id="â¥ââ¥-weaken"></a><a id="55018" href="NbE.html#55018" class="Function">â¥ââ¥-weaken</a> <a id="55029" class="Symbol">:</a> <a id="55031" class="Symbol">â</a> <a id="55033" class="Symbol">{</a><a id="55034" href="NbE.html#55034" class="Bound">Îâ²</a> <a id="55037" href="NbE.html#55037" class="Bound">Î</a> <a id="55039" href="NbE.html#55039" class="Bound">Î</a> <a id="55041" class="Symbol">:</a> <a id="55043" href="NbE.html#1943" class="Datatype">Ctx</a><a id="55046" class="Symbol">}</a> <a id="55048" class="Symbol">{</a><a id="55049" href="NbE.html#55049" class="Bound">Îâ²â¤Î</a> <a id="55054" class="Symbol">:</a> <a id="55056" href="NbE.html#55034" class="Bound">Îâ²</a> <a id="55059" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="55061" href="NbE.html#55037" class="Bound">Î</a><a id="55062" class="Symbol">}</a> <a id="55064" class="Symbol">{</a><a id="55065" href="NbE.html#55065" class="Bound">Ï</a> <a id="55067" class="Symbol">:</a> <a id="55069" href="NbE.html#6688" class="Datatype">Sub</a> <a id="55073" href="NbE.html#55037" class="Bound">Î</a> <a id="55075" href="NbE.html#55039" class="Bound">Î</a><a id="55076" class="Symbol">}</a> <a id="55078" class="Symbol">{</a><a id="55079" href="NbE.html#55079" class="Bound">Ï</a> <a id="55081" class="Symbol">:</a> <a id="55083" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="55085" href="NbE.html#55039" class="Bound">Î</a> <a id="55087" href="NbE.html#15983" class="Field Operator">â§</a><a id="55088" class="Symbol">}</a>
        <a id="55098" class="Symbol">â</a> <a id="55100" href="NbE.html#55065" class="Bound">Ï</a> <a id="55102" href="NbE.html#53313" class="Function Operator">â¥ââ¥</a> <a id="55106" href="NbE.html#55079" class="Bound">Ï</a>
        <a id="55116" class="Symbol">â</a> <a id="55118" href="NbE.html#55065" class="Bound">Ï</a> <a id="55120" href="NbE.html#10937" class="Function Operator">â</a> <a id="55122" class="Symbol">(</a><a id="55123" href="NbE.html#11260" class="Function">weaken</a> <a id="55130" href="NbE.html#55049" class="Bound">Îâ²â¤Î</a><a id="55134" class="Symbol">)</a> <a id="55136" href="NbE.html#53313" class="Function Operator">â¥ââ¥</a> <a id="55140" href="NbE.html#55079" class="Bound">Ï</a>
<a id="55142" href="NbE.html#55018" class="Function">â¥ââ¥-weaken</a> <a id="55153" class="Symbol">{</a><a id="55154" class="Argument">Ï</a> <a id="55156" class="Symbol">=</a> <a id="55158" href="NbE.html#6718" class="InductiveConstructor">â</a><a id="55159" class="Symbol">}</a> <a id="55161" href="NbE.html#55161" class="Bound">x</a> <a id="55163" class="Symbol">=</a> <a id="55165" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
<a id="55168" href="NbE.html#55018" class="Function">â¥ââ¥-weaken</a> <a id="55179" class="Symbol">{</a><a id="55180" class="Argument">Îâ²â¤Î</a> <a id="55185" class="Symbol">=</a> <a id="55187" href="NbE.html#55187" class="Bound">Îâ²â¤Î</a><a id="55191" class="Symbol">}</a> <a id="55193" class="Symbol">{</a><a id="55194" href="NbE.html#55194" class="Bound">Ï</a> <a id="55196" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="55198" href="NbE.html#55198" class="Bound">s</a><a id="55199" class="Symbol">}</a> <a id="55201" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="55203" href="NbE.html#55203" class="Bound">Ïâ¥ââ¥Ï</a> <a id="55209" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="55211" href="NbE.html#55211" class="Bound">sâa</a> <a id="55215" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="55217" class="Symbol">=</a>
  <a id="55221" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="55223" href="NbE.html#55018" class="Function">â¥ââ¥-weaken</a> <a id="55234" class="Symbol">{</a><a id="55235" class="Argument">Îâ²â¤Î</a> <a id="55240" class="Symbol">=</a> <a id="55242" href="NbE.html#55187" class="Bound">Îâ²â¤Î</a><a id="55246" class="Symbol">}</a> <a id="55248" href="NbE.html#55203" class="Bound">Ïâ¥ââ¥Ï</a> <a id="55254" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="55256" href="NbE.html#41783" class="Function">â-weaken</a> <a id="55265" class="Symbol">{</a><a id="55266" class="Argument">Îâ²â¤Î</a> <a id="55271" class="Symbol">=</a> <a id="55273" href="NbE.html#55187" class="Bound">Îâ²â¤Î</a><a id="55277" class="Symbol">}</a> <a id="55279" href="NbE.html#55211" class="Bound">sâa</a> <a id="55283" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
</pre>
We are now ready to introduce the semantic typing judgement
<code>Î â¨ t : T</code>, which will be the what we will use to arrive at
<code>Î â¢ t : T â â¦ t â§ âÎ Î</code>
<pre class="Agda"><a id="_â¨_"></a><a id="55444" href="NbE.html#55444" class="Function Operator">_â¨_</a> <a id="55448" class="Symbol">:</a> <a id="55450" class="Symbol">â</a> <a id="55452" class="Symbol">{</a><a id="55453" href="NbE.html#55453" class="Bound">T</a> <a id="55455" class="Symbol">:</a> <a id="55457" href="NbE.html#1051" class="Datatype">Type</a><a id="55461" class="Symbol">}</a> <a id="55463" class="Symbol">â</a> <a id="55465" class="Symbol">(</a><a id="55466" href="NbE.html#55466" class="Bound">Î</a> <a id="55468" class="Symbol">:</a> <a id="55470" href="NbE.html#1943" class="Datatype">Ctx</a><a id="55473" class="Symbol">)</a> <a id="55475" class="Symbol">â</a> <a id="55477" href="NbE.html#55466" class="Bound">Î</a> <a id="55479" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="55481" href="NbE.html#55453" class="Bound">T</a> <a id="55483" class="Symbol">â</a> <a id="55485" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="55489" href="NbE.html#55444" class="Function Operator">_â¨_</a> <a id="55493" class="Symbol">{</a><a id="55494" href="NbE.html#55494" class="Bound">T</a><a id="55495" class="Symbol">}</a> <a id="55497" href="NbE.html#55497" class="Bound">Î</a> <a id="55499" href="NbE.html#55499" class="Bound">t</a> <a id="55501" class="Symbol">=</a>
  <a id="55505" class="Symbol">â</a> <a id="55507" class="Symbol">{</a><a id="55508" href="NbE.html#55508" class="Bound">Î</a> <a id="55510" class="Symbol">:</a> <a id="55512" href="NbE.html#1943" class="Datatype">Ctx</a><a id="55515" class="Symbol">}</a> <a id="55517" class="Symbol">{</a><a id="55518" href="NbE.html#55518" class="Bound">Ï</a> <a id="55520" class="Symbol">:</a> <a id="55522" href="NbE.html#6688" class="Datatype">Sub</a> <a id="55526" href="NbE.html#55508" class="Bound">Î</a> <a id="55528" href="NbE.html#55497" class="Bound">Î</a><a id="55529" class="Symbol">}</a> <a id="55531" class="Symbol">{</a><a id="55532" href="NbE.html#55532" class="Bound">Ï</a> <a id="55534" class="Symbol">:</a> <a id="55536" href="NbE.html#15983" class="Field Operator">â¦</a> <a id="55538" href="NbE.html#55497" class="Bound">Î</a> <a id="55540" href="NbE.html#15983" class="Field Operator">â§</a><a id="55541" class="Symbol">}</a>
  <a id="55545" class="Symbol">â</a> <a id="55547" href="NbE.html#55518" class="Bound">Ï</a> <a id="55549" href="NbE.html#53313" class="Function Operator">â¥ââ¥</a> <a id="55553" href="NbE.html#55532" class="Bound">Ï</a>
    <a id="55559" class="Comment">-------</a>
  <a id="55569" class="Symbol">â</a> <a id="55571" href="NbE.html#55499" class="Bound">t</a> <a id="55573" href="NbE.html#10528" class="Function Operator">[</a> <a id="55575" href="NbE.html#55518" class="Bound">Ï</a> <a id="55577" href="NbE.html#10528" class="Function Operator">]</a> <a id="55579" href="NbE.html#40355" class="Function Operator">â</a> <a id="55581" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="55584" href="NbE.html#55499" class="Bound">t</a> <a id="55586" href="NbE.html#28275" class="Function Operator">â§</a> <a id="55588" href="NbE.html#55532" class="Bound">Ï</a>
</pre>
By induction on the typing judgement <code>Î â¢ t : T</code>, we prove
the semantic typing judgement <code>Î â¨ t : T</code>, this is called the
fundamental lemma of logical relations
<pre class="Agda"><a id="fundamental-lemma"></a><a id="55763" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="55781" class="Symbol">:</a> <a id="55783" class="Symbol">â</a> <a id="55785" class="Symbol">{</a><a id="55786" href="NbE.html#55786" class="Bound">Î</a> <a id="55788" class="Symbol">:</a> <a id="55790" href="NbE.html#1943" class="Datatype">Ctx</a><a id="55793" class="Symbol">}</a> <a id="55795" class="Symbol">{</a><a id="55796" href="NbE.html#55796" class="Bound">T</a> <a id="55798" class="Symbol">:</a> <a id="55800" href="NbE.html#1051" class="Datatype">Type</a><a id="55804" class="Symbol">}</a> <a id="55806" class="Symbol">{</a><a id="55807" href="NbE.html#55807" class="Bound">t</a> <a id="55809" class="Symbol">:</a> <a id="55811" href="NbE.html#55786" class="Bound">Î</a> <a id="55813" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="55815" href="NbE.html#55796" class="Bound">T</a><a id="55816" class="Symbol">}</a>
                  <a id="55836" class="Symbol">â</a> <a id="55838" href="NbE.html#55786" class="Bound">Î</a> <a id="55840" href="NbE.html#55444" class="Function Operator">â¨</a> <a id="55842" href="NbE.html#55807" class="Bound">t</a>
<a id="55844" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="55862" class="Symbol">{</a><a id="55863" class="Argument">t</a> <a id="55865" class="Symbol">=</a> <a id="55867" href="NbE.html#4377" class="InductiveConstructor">zero</a><a id="55871" class="Symbol">}</a> <a id="55873" href="NbE.html#55873" class="Bound">Ïâ¥ââ¥Ï</a> <a id="55879" class="Symbol">_</a> <a id="55881" class="Symbol">=</a> <a id="55883" href="NbE.html#14488" class="InductiveConstructor">refl</a>
<a id="55888" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="55906" class="Symbol">{</a><a id="55907" class="Argument">t</a> <a id="55909" class="Symbol">=</a> <a id="55911" href="NbE.html#4395" class="InductiveConstructor">suc</a><a id="55914" class="Symbol">}</a> <a id="55916" href="NbE.html#55916" class="Bound">Ïâ¥ââ¥Ï</a> <a id="55922" href="NbE.html#55922" class="Bound">Îâ²â¤Î</a> <a id="55927" class="Symbol">{</a><a id="55928" href="NbE.html#55928" class="Bound">s</a><a id="55929" class="Symbol">}</a> <a id="55931" class="Symbol">{</a><a id="55932" href="NbE.html#55932" class="Bound">a</a><a id="55933" class="Symbol">}</a> <a id="55935" href="NbE.html#55935" class="Bound">pf</a> <a id="55938" class="Symbol">{</a><a id="55939" href="NbE.html#55939" class="Bound">Îâ³</a><a id="55941" class="Symbol">}</a> <a id="55943" href="NbE.html#55943" class="Bound">Îâ³â¤Îâ²</a> <a id="55949" class="Symbol">=</a>
  <a id="55953" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="55955" href="NbE.html#55943" class="Bound">Îâ³â¤Îâ²</a> <a id="55961" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="55964" href="NbE.html#55928" class="Bound">s</a> <a id="55966" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="55968" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="55970" href="NbE.html#14488" class="InductiveConstructor">refl</a> <a id="55975" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="55977" href="NbE.html#55998" class="Function">s==a</a> <a id="55982" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="55984" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
  <a id="55988" class="Keyword">where</a>
    <a id="55998" href="NbE.html#55998" class="Function">s==a</a> <a id="56003" class="Symbol">:</a> <a id="56005" class="Symbol">â</a> <a id="56007" class="Symbol">{</a><a id="56008" href="NbE.html#56008" class="Bound">Îâ´</a> <a id="56011" class="Symbol">:</a> <a id="56013" href="NbE.html#1943" class="Datatype">Ctx</a><a id="56016" class="Symbol">}</a> <a id="56018" class="Symbol">â</a> <a id="56020" class="Symbol">(</a><a id="56021" href="NbE.html#56021" class="Bound">Îâ´â¤Îâ³</a> <a id="56027" class="Symbol">:</a> <a id="56029" href="NbE.html#56008" class="Bound">Îâ´</a> <a id="56032" href="NbE.html#2883" class="Datatype Operator">â¤</a> <a id="56034" href="NbE.html#55939" class="Bound">Îâ³</a><a id="56036" class="Symbol">)</a> <a id="56038" class="Symbol">â</a> <a id="56040" href="NbE.html#56021" class="Bound">Îâ´â¤Îâ³</a> <a id="56046" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="56049" href="NbE.html#55943" class="Bound">Îâ³â¤Îâ²</a> <a id="56055" href="NbE.html#11480" class="Function Operator">â¤â¢</a> <a id="56058" href="NbE.html#55928" class="Bound">s</a> <a id="56060" href="NbE.html#39304" class="Function Operator">==âÌ</a> <a id="56065" href="NbE.html#55932" class="Bound">a</a>
    <a id="56071" href="NbE.html#55998" class="Function">s==a</a> <a id="56076" href="NbE.html#56076" class="Bound">Îâ´â¤Îâ³</a>
      <a id="56088" class="Keyword">with</a> <a id="56093" href="NbE.html#55935" class="Bound">pf</a> <a id="56096" class="Symbol">(</a><a id="56097" href="NbE.html#32369" class="Function">â¤-trans</a> <a id="56105" href="NbE.html#56076" class="Bound">Îâ´â¤Îâ³</a> <a id="56111" href="NbE.html#55943" class="Bound">Îâ³â¤Îâ²</a><a id="56116" class="Symbol">)</a>
    <a id="56122" class="Symbol">...</a> <a id="56126" class="Symbol">|</a> <a id="56128" href="NbE.html#56128" class="Bound">pf</a>
      <a id="56137" class="Keyword">rewrite</a> <a id="56145" href="NbE.html#36021" class="Postulate">weaken-compose</a> <a id="56160" class="Bound">Îâ´â¤Îâ³</a> <a id="56166" href="NbE.html#55943" class="Bound">Îâ³â¤Îâ²</a> <a id="56172" href="NbE.html#55928" class="Bound">s</a> <a id="56174" class="Symbol">=</a> <a id="56176" href="NbE.html#56128" class="Bound">pf</a>
<a id="56179" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="56197" class="Symbol">{</a><a id="56198" class="Argument">t</a> <a id="56200" class="Symbol">=</a> <a id="56202" href="NbE.html#4418" class="InductiveConstructor">rec</a> <a id="56206" class="Symbol">{</a><a id="56207" href="NbE.html#56207" class="Bound">T</a><a id="56208" class="Symbol">}}</a> <a id="56211" class="Symbol">_</a> <a id="56213" class="Symbol">=</a> <a id="56215" href="NbE.html#49579" class="Function">recââ¦recâ§</a>
<a id="56225" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="56243" class="Symbol">{</a><a id="56244" class="Argument">t</a> <a id="56246" class="Symbol">=</a> <a id="56248" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="56250" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="56252" class="Symbol">}</a> <a id="56254" class="Symbol">{</a><a id="56255" class="Argument">Ï</a> <a id="56257" class="Symbol">=</a> <a id="56259" class="Symbol">_</a> <a id="56261" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="56263" class="Symbol">_</a> <a id="56265" class="Symbol">}</a> <a id="56267" class="Symbol">{</a><a id="56268" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="56270" class="Symbol">_</a> <a id="56272" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="56274" class="Symbol">_</a> <a id="56276" href="NbE.html#620" class="InductiveConstructor Operator">â©</a><a id="56277" class="Symbol">}</a> <a id="56279" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="56281" class="Symbol">_</a> <a id="56283" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="56285" href="NbE.html#56285" class="Bound">xâa</a> <a id="56289" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="56291" class="Symbol">=</a> <a id="56293" href="NbE.html#56285" class="Bound">xâa</a>
<a id="56297" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="56315" class="Symbol">{</a><a id="56316" class="Argument">t</a> <a id="56318" class="Symbol">=</a> <a id="56320" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="56322" class="Symbol">(</a><a id="56323" href="NbE.html#3772" class="InductiveConstructor Operator">`S</a> <a id="56326" href="NbE.html#56326" class="Bound">x</a><a id="56327" class="Symbol">)}</a> <a id="56330" class="Symbol">{</a><a id="56331" class="Argument">Ï</a> <a id="56333" class="Symbol">=</a> <a id="56335" class="Symbol">_</a> <a id="56337" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="56339" class="Symbol">_}</a> <a id="56342" class="Symbol">{</a><a id="56343" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="56345" class="Symbol">_</a> <a id="56347" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="56349" class="Symbol">_</a> <a id="56351" href="NbE.html#620" class="InductiveConstructor Operator">â©</a><a id="56352" class="Symbol">}</a> <a id="56354" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="56356" href="NbE.html#56356" class="Bound">Ïâ¥ââ¥Ï</a> <a id="56362" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="56364" class="Symbol">_</a> <a id="56366" href="NbE.html#620" class="InductiveConstructor Operator">â©</a> <a id="56368" class="Symbol">=</a>
  <a id="56372" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="56390" class="Symbol">{</a><a id="56391" class="Argument">t</a> <a id="56393" class="Symbol">=</a> <a id="56395" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="56397" href="NbE.html#56326" class="Bound">x</a><a id="56398" class="Symbol">}</a> <a id="56400" href="NbE.html#56356" class="Bound">Ïâ¥ââ¥Ï</a>
<a id="56406" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="56424" class="Symbol">{</a><a id="56425" class="Argument">t</a> <a id="56427" class="Symbol">=</a> <a id="56429" href="NbE.html#4587" class="InductiveConstructor Operator">Æ</a> <a id="56431" href="NbE.html#56431" class="Bound">t</a><a id="56432" class="Symbol">}</a> <a id="56434" class="Symbol">{</a><a id="56435" class="Argument">Ï</a> <a id="56437" class="Symbol">=</a> <a id="56439" href="NbE.html#56439" class="Bound">Ï</a><a id="56440" class="Symbol">}</a> <a id="56442" class="Symbol">{</a><a id="56443" href="NbE.html#56443" class="Bound">Ï</a><a id="56444" class="Symbol">}</a> <a id="56446" href="NbE.html#56446" class="Bound">Ïâ¥ââ¥Ï</a> <a id="56452" href="NbE.html#56452" class="Bound">Îâ²â¤Î</a> <a id="56457" class="Symbol">{</a><a id="56458" href="NbE.html#56458" class="Bound">s</a><a id="56459" class="Symbol">}</a> <a id="56461" class="Symbol">{</a><a id="56462" href="NbE.html#56462" class="Bound">a</a><a id="56463" class="Symbol">}</a> <a id="56465" href="NbE.html#56465" class="Bound">sâa</a> <a id="56469" class="Symbol">=</a>
  <a id="56473" href="NbE.html#40899" class="Function">==-â-trans</a> <a id="56484" class="Symbol">(</a><a id="56485" href="NbE.html#14569" class="InductiveConstructor">sym</a> <a id="56489" href="NbE.html#13522" class="InductiveConstructor">Î²-Æ</a><a id="56492" class="Symbol">)</a> <a id="56494" href="NbE.html#57162" class="Function">t[Ïâ²][s/x]ââ¦tâ§â¨Ï,aâ©</a>
  <a id="56516" class="Keyword">where</a>
    <a id="56526" href="NbE.html#56526" class="Function">subst-lemmaâ</a> <a id="56539" class="Symbol">=</a>
      <a id="56547" href="NbE.html#35654" class="Postulate">subst-compose</a> <a id="56561" class="Symbol">{</a><a id="56562" class="Argument">Ï</a> <a id="56564" class="Symbol">=</a> <a id="56566" href="NbE.html#11739" class="Function">subst-id</a> <a id="56575" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="56577" href="NbE.html#56458" class="Bound">s</a><a id="56578" class="Symbol">}</a> <a id="56580" class="Symbol">{</a><a id="56581" href="NbE.html#11260" class="Function">weaken</a> <a id="56588" href="NbE.html#56452" class="Bound">Îâ²â¤Î</a> <a id="56593" href="NbE.html#10252" class="Function Operator">â</a> <a id="56595" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="56597" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="56599" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="56601" class="Symbol">}</a> <a id="56603" class="Symbol">{</a><a id="56604" href="NbE.html#56431" class="Bound">t</a> <a id="56606" href="NbE.html#10528" class="Function Operator">[</a> <a id="56608" href="NbE.html#56439" class="Bound">Ï</a> <a id="56610" href="NbE.html#10252" class="Function Operator">â</a> <a id="56612" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="56614" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="56616" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="56619" href="NbE.html#10528" class="Function Operator">]</a><a id="56620" class="Symbol">}</a>
    <a id="56626" href="NbE.html#56626" class="Function">subst-lemmaâ</a> <a id="56639" class="Symbol">=</a>
     <a id="56646" href="NbE.html#35654" class="Postulate">subst-compose</a> <a id="56660" class="Symbol">{</a><a id="56661" class="Argument">Ï</a> <a id="56663" class="Symbol">=</a> <a id="56665" class="Symbol">((</a><a id="56667" href="NbE.html#11260" class="Function">weaken</a> <a id="56674" href="NbE.html#56452" class="Bound">Îâ²â¤Î</a> <a id="56679" href="NbE.html#10252" class="Function Operator">â</a><a id="56680" class="Symbol">)</a> <a id="56682" href="NbE.html#10937" class="Function Operator">â</a> <a id="56684" class="Symbol">(</a><a id="56685" href="NbE.html#11739" class="Function">subst-id</a> <a id="56694" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="56696" href="NbE.html#56458" class="Bound">s</a><a id="56697" class="Symbol">))</a> <a id="56700" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="56702" href="NbE.html#56458" class="Bound">s</a><a id="56703" class="Symbol">}</a> <a id="56705" class="Symbol">{</a><a id="56706" href="NbE.html#56439" class="Bound">Ï</a> <a id="56708" href="NbE.html#10252" class="Function Operator">â</a> <a id="56710" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="56712" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="56714" href="NbE.html#3705" class="InductiveConstructor">`Z</a><a id="56716" class="Symbol">}</a> <a id="56718" class="Symbol">{</a><a id="56719" href="NbE.html#56431" class="Bound">t</a><a id="56720" class="Symbol">}</a>

    <a id="56727" href="NbE.html#56727" class="Function">t[Ïâ²]</a> <a id="56733" class="Symbol">=</a> <a id="56735" href="NbE.html#56431" class="Bound">t</a> <a id="56737" href="NbE.html#10528" class="Function Operator">[</a> <a id="56739" href="NbE.html#56439" class="Bound">Ï</a> <a id="56741" href="NbE.html#10252" class="Function Operator">â</a> <a id="56743" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="56745" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="56747" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="56750" href="NbE.html#10528" class="Function Operator">]</a> <a id="56752" href="NbE.html#10528" class="Function Operator">[</a> <a id="56754" href="NbE.html#11260" class="Function">weaken</a> <a id="56761" href="NbE.html#56452" class="Bound">Îâ²â¤Î</a> <a id="56766" href="NbE.html#10252" class="Function Operator">â</a> <a id="56768" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="56770" href="NbE.html#4527" class="InductiveConstructor Operator">`</a> <a id="56772" href="NbE.html#3705" class="InductiveConstructor">`Z</a> <a id="56775" href="NbE.html#10528" class="Function Operator">]</a>

    <a id="56782" href="NbE.html#56782" class="Function">subst-lemmaâ</a> <a id="56795" class="Symbol">=</a> <a id="56797" href="NbE.html#35814" class="Postulate">subst-compose-â</a> <a id="56813" class="Symbol">{</a><a id="56814" class="Argument">Ï</a> <a id="56816" class="Symbol">=</a> <a id="56818" href="NbE.html#11739" class="Function">subst-id</a><a id="56826" class="Symbol">}</a> <a id="56828" class="Symbol">{</a><a id="56829" href="NbE.html#11260" class="Function">weaken</a> <a id="56836" href="NbE.html#56452" class="Bound">Îâ²â¤Î</a><a id="56840" class="Symbol">}</a> <a id="56842" class="Symbol">{</a><a id="56843" href="NbE.html#56458" class="Bound">s</a><a id="56844" class="Symbol">}</a>
    <a id="56850" href="NbE.html#56850" class="Function">subst-lemmaâ</a> <a id="56863" class="Symbol">=</a> <a id="56865" href="NbE.html#35814" class="Postulate">subst-compose-â</a> <a id="56881" class="Symbol">{</a><a id="56882" class="Argument">Ï</a> <a id="56884" class="Symbol">=</a> <a id="56886" href="NbE.html#11260" class="Function">weaken</a> <a id="56893" href="NbE.html#56452" class="Bound">Îâ²â¤Î</a> <a id="56898" href="NbE.html#10937" class="Function Operator">â</a> <a id="56900" href="NbE.html#11739" class="Function">subst-id</a><a id="56908" class="Symbol">}</a> <a id="56910" class="Symbol">{</a><a id="56911" href="NbE.html#56439" class="Bound">Ï</a><a id="56912" class="Symbol">}</a> <a id="56914" class="Symbol">{</a><a id="56915" href="NbE.html#56458" class="Bound">s</a><a id="56916" class="Symbol">}</a>
    <a id="56922" href="NbE.html#56922" class="Function">subst-lemmaâ</a> <a id="56935" class="Symbol">=</a> <a id="56937" href="NbE.html#35416" class="Function">id-compose-identity</a> <a id="56957" class="Symbol">{</a><a id="56958" class="Argument">Ï</a> <a id="56960" class="Symbol">=</a> <a id="56962" href="NbE.html#11260" class="Function">weaken</a> <a id="56969" href="NbE.html#56452" class="Bound">Îâ²â¤Î</a><a id="56973" class="Symbol">}</a>

    <a id="56980" href="NbE.html#56980" class="Function">Ïâ³</a> <a id="56983" class="Symbol">=</a> <a id="56985" class="Symbol">((</a><a id="56987" href="NbE.html#56439" class="Bound">Ï</a> <a id="56989" href="NbE.html#10252" class="Function Operator">â</a><a id="56990" class="Symbol">)</a> <a id="56992" href="NbE.html#10937" class="Function Operator">â</a> <a id="56994" class="Symbol">(((</a><a id="56997" href="NbE.html#11260" class="Function">weaken</a> <a id="57004" href="NbE.html#56452" class="Bound">Îâ²â¤Î</a> <a id="57009" href="NbE.html#10252" class="Function Operator">â</a><a id="57010" class="Symbol">)</a> <a id="57012" href="NbE.html#10937" class="Function Operator">â</a> <a id="57014" class="Symbol">(</a><a id="57015" href="NbE.html#11739" class="Function">subst-id</a> <a id="57024" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="57026" href="NbE.html#56458" class="Bound">s</a><a id="57027" class="Symbol">))</a> <a id="57030" href="NbE.html#6741" class="InductiveConstructor Operator">,</a> <a id="57032" href="NbE.html#56458" class="Bound">s</a><a id="57033" class="Symbol">))</a>

    <a id="57041" href="NbE.html#57041" class="Function">Ïâ³âÏ</a> <a id="57046" class="Symbol">:</a> <a id="57048" href="NbE.html#56980" class="Function">Ïâ³</a>  <a id="57052" href="NbE.html#53313" class="Function Operator">â¥ââ¥</a> <a id="57056" href="NbE.html#56443" class="Bound">Ï</a>
    <a id="57062" href="NbE.html#57041" class="Function">Ïâ³âÏ</a> <a id="57067" class="Keyword">rewrite</a> <a id="57075" href="NbE.html#56782" class="Function">subst-lemmaâ</a> <a id="57088" class="Symbol">|</a> <a id="57090" href="NbE.html#56850" class="Function">subst-lemmaâ</a> <a id="57103" class="Symbol">|</a> <a id="57105" href="NbE.html#56922" class="Function">subst-lemmaâ</a> <a id="57118" class="Symbol">=</a>
      <a id="57126" href="NbE.html#55018" class="Function">â¥ââ¥-weaken</a> <a id="57137" class="Symbol">{</a><a id="57138" class="Argument">Îâ²â¤Î</a> <a id="57143" class="Symbol">=</a> <a id="57145" href="NbE.html#56452" class="Bound">Îâ²â¤Î</a><a id="57149" class="Symbol">}</a> <a id="57151" href="NbE.html#56446" class="Bound">Ïâ¥ââ¥Ï</a>

    <a id="57162" href="NbE.html#57162" class="Function">t[Ïâ²][s/x]ââ¦tâ§â¨Ï,aâ©</a> <a id="57182" class="Symbol">:</a> <a id="57184" href="NbE.html#56727" class="Function">t[Ïâ²]</a> <a id="57190" href="NbE.html#12371" class="Function Operator">[</a> <a id="57192" href="NbE.html#56458" class="Bound">s</a> <a id="57194" href="NbE.html#12371" class="Function Operator">/x]</a> <a id="57198" href="NbE.html#40355" class="Function Operator">â</a> <a id="57200" href="NbE.html#28275" class="Function Operator">â¦â¢</a> <a id="57203" href="NbE.html#56431" class="Bound">t</a> <a id="57205" href="NbE.html#28275" class="Function Operator">â§</a> <a id="57207" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="57209" href="NbE.html#56443" class="Bound">Ï</a> <a id="57211" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="57213" href="NbE.html#56462" class="Bound">a</a> <a id="57215" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
    <a id="57221" href="NbE.html#57162" class="Function">t[Ïâ²][s/x]ââ¦tâ§â¨Ï,aâ©</a> <a id="57241" class="Keyword">rewrite</a> <a id="57249" href="NbE.html#56526" class="Function">subst-lemmaâ</a> <a id="57262" class="Symbol">|</a> <a id="57264" href="NbE.html#56626" class="Function">subst-lemmaâ</a> <a id="57277" class="Symbol">=</a>
        <a id="57287" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="57305" class="Symbol">{</a><a id="57306" class="Argument">t</a> <a id="57308" class="Symbol">=</a> <a id="57310" href="NbE.html#56431" class="Bound">t</a><a id="57311" class="Symbol">}</a> <a id="57313" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="57315" href="NbE.html#57041" class="Function">Ïâ³âÏ</a> <a id="57320" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="57322" href="NbE.html#56465" class="Bound">sâa</a> <a id="57326" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
<a id="57328" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="57346" class="Symbol">{</a><a id="57347" class="Argument">t</a> <a id="57349" class="Symbol">=</a> <a id="57351" href="NbE.html#57351" class="Bound">r</a> <a id="57353" href="NbE.html#4661" class="InductiveConstructor Operator">Â·</a> <a id="57355" href="NbE.html#57355" class="Bound">s</a><a id="57356" class="Symbol">}</a> <a id="57358" class="Symbol">{</a><a id="57359" class="Argument">Ï</a> <a id="57361" class="Symbol">=</a> <a id="57363" href="NbE.html#57363" class="Bound">Ï</a><a id="57364" class="Symbol">}</a> <a id="57366" href="NbE.html#57366" class="Bound">Ïâ¥ââ¥Ï</a>
  <a id="57374" class="Keyword">with</a> <a id="57379" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="57397" class="Symbol">{</a><a id="57398" class="Argument">t</a> <a id="57400" class="Symbol">=</a> <a id="57402" href="NbE.html#57351" class="Bound">r</a><a id="57403" class="Symbol">}</a> <a id="57405" href="NbE.html#57366" class="Bound">Ïâ¥ââ¥Ï</a> <a id="57411" class="Symbol">|</a> <a id="57413" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="57431" class="Symbol">{</a><a id="57432" class="Argument">t</a> <a id="57434" class="Symbol">=</a> <a id="57436" href="NbE.html#57355" class="Bound">s</a><a id="57437" class="Symbol">}</a> <a id="57439" href="NbE.html#57366" class="Bound">Ïâ¥ââ¥Ï</a>
<a id="57445" class="Symbol">...</a> <a id="57449" class="Symbol">|</a> <a id="57451" href="NbE.html#57451" class="Bound">Îâ¨r</a>                              <a id="57484" class="Symbol">|</a> <a id="57486" href="NbE.html#57486" class="Bound">Îâ¨s</a>
  <a id="57492" class="Keyword">with</a> <a id="57497" href="NbE.html#57451" class="Bound">Îâ¨r</a> <a id="57501" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a> <a id="57506" href="NbE.html#57486" class="Bound">Îâ¨s</a>
<a id="57510" class="Symbol">...</a> <a id="57514" class="Symbol">|</a> <a id="57516" href="NbE.html#57516" class="Bound">pf</a>
  <a id="57521" class="Keyword">rewrite</a> <a id="57529" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="57543" class="Symbol">{</a><a id="57544" class="Argument">t</a> <a id="57546" class="Symbol">=</a> <a id="57548" class="Bound">r</a> <a id="57550" href="NbE.html#10528" class="Function Operator">[</a> <a id="57552" class="Bound">Ï</a> <a id="57554" href="NbE.html#10528" class="Function Operator">]</a><a id="57555" class="Symbol">}</a> <a id="57557" class="Symbol">=</a> <a id="57559" href="NbE.html#57516" class="Bound">pf</a>
</pre>
<p>For the identity substitution we have that
<code>Î â¢ id : Î â âÎ</code> , which we prove by induction using our
lemma that <code>Î,x:T â¢ x : T â âáµ (ðáµ Î)</code> for every variable
that we are substituting for itself.</p>
<pre class="Agda"><a id="idââÎ"></a><a id="57772" href="NbE.html#57772" class="Function">idââÎ</a> <a id="57778" class="Symbol">:</a> <a id="57780" class="Symbol">â</a> <a id="57782" class="Symbol">{</a><a id="57783" href="NbE.html#57783" class="Bound">Î</a> <a id="57785" class="Symbol">:</a> <a id="57787" href="NbE.html#1943" class="Datatype">Ctx</a><a id="57790" class="Symbol">}</a>
       <a id="57799" class="Symbol">â</a> <a id="57801" href="NbE.html#11739" class="Function">subst-id</a> <a id="57810" href="NbE.html#53313" class="Function Operator">â¥ââ¥</a> <a id="57814" class="Symbol">(</a><a id="57815" href="NbE.html#27178" class="Function">âá¶áµË£</a> <a id="57820" href="NbE.html#57783" class="Bound">Î</a><a id="57821" class="Symbol">)</a>
<a id="57823" href="NbE.html#57772" class="Function">idââÎ</a> <a id="57829" class="Symbol">{</a><a id="57830" href="NbE.html#1961" class="InductiveConstructor">â</a><a id="57831" class="Symbol">}</a> <a id="57833" class="Symbol">=</a> <a id="57835" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>
</pre>
For our inductive step, our IH will give us that
<code>Î â¢ id : Î â âÎ Î</code>, but we want proof that
<code>Î , x:T â¢ id â : Î â Î</code> (because the identity substitution
is unwrapped to <code>(id â , x / x)</code> for the
context<code>Î , x:T</code>). Here, we use our lemma that if a logical
relation holds for a substitution and an environment it holds for a
shifting of the substition, allowing us to transform our IH into our
goal
<pre class="Agda"><a id="58247" href="NbE.html#57772" class="Function">idââÎ</a> <a id="58253" class="Symbol">{</a><a id="58254" href="NbE.html#58254" class="Bound">Î</a> <a id="58256" href="NbE.html#1971" class="InductiveConstructor Operator">,</a> <a id="58258" href="NbE.html#58258" class="Bound">T</a><a id="58259" class="Symbol">}</a> <a id="58261" class="Symbol">=</a> <a id="58263" href="NbE.html#620" class="InductiveConstructor Operator">â¨</a> <a id="58265" href="NbE.html#54231" class="Function">â¥ââ¥-â</a> <a id="58271" class="Symbol">{</a><a id="58272" class="Argument">T</a> <a id="58274" class="Symbol">=</a> <a id="58276" href="NbE.html#58258" class="Bound">T</a><a id="58277" class="Symbol">}</a> <a id="58279" href="NbE.html#57772" class="Function">idââÎ</a> <a id="58285" href="NbE.html#620" class="InductiveConstructor Operator">,</a> <a id="58287" href="NbE.html#43565" class="Function">xââáµðÌ</a> <a id="58294" href="NbE.html#620" class="InductiveConstructor Operator">â©</a>
</pre>
<p>With this fact, we arrive at the soundness of NbE. By the fundamental
lemma, given <code>Î â¢ id : Î â âÎ</code>, we have that
<code>Î â¢ t [ id ] â â¦ t â§ âÎ</code> â and
<code>t [ id ] â¡ t</code>.</p>
Using the lemma that logical relation implies definitional equality to
the reified semantic object, we arrive at
<code>Î â¢ t = âáµáµ§ â¦ t â§ âÎ : T</code>, which is what we want to show
(i.e.Â <code>Î â¢ t = nf(t) : T</code>)
<pre class="Agda"><a id="soundness"></a><a id="58672" href="NbE.html#58672" class="Function">soundness</a> <a id="58682" class="Symbol">:</a> <a id="58684" class="Symbol">â</a> <a id="58686" class="Symbol">{</a><a id="58687" href="NbE.html#58687" class="Bound">Î</a> <a id="58689" class="Symbol">:</a> <a id="58691" href="NbE.html#1943" class="Datatype">Ctx</a><a id="58694" class="Symbol">}</a> <a id="58696" class="Symbol">{</a><a id="58697" href="NbE.html#58697" class="Bound">T</a> <a id="58699" class="Symbol">:</a> <a id="58701" href="NbE.html#1051" class="Datatype">Type</a><a id="58705" class="Symbol">}</a> <a id="58707" class="Symbol">{</a><a id="58708" href="NbE.html#58708" class="Bound">t</a> <a id="58710" class="Symbol">:</a> <a id="58712" href="NbE.html#58687" class="Bound">Î</a> <a id="58714" href="NbE.html#4342" class="Datatype Operator">â¢</a> <a id="58716" href="NbE.html#58697" class="Bound">T</a><a id="58717" class="Symbol">}</a>
          <a id="58729" class="Symbol">â</a> <a id="58731" href="NbE.html#58708" class="Bound">t</a> <a id="58733" href="NbE.html#13044" class="Datatype Operator">==</a> <a id="58736" href="NbE.html#28653" class="Function">nf</a> <a id="58739" href="NbE.html#58708" class="Bound">t</a>
<a id="58741" href="NbE.html#58672" class="Function">soundness</a> <a id="58751" class="Symbol">{</a><a id="58752" href="NbE.html#58752" class="Bound">Î</a><a id="58753" class="Symbol">}</a> <a id="58755" class="Symbol">{</a><a id="58756" href="NbE.html#58756" class="Bound">T</a><a id="58757" class="Symbol">}</a> <a id="58759" class="Symbol">{</a><a id="58760" href="NbE.html#58760" class="Bound">t</a><a id="58761" class="Symbol">}</a>
  <a id="58765" class="Keyword">with</a> <a id="58770" href="NbE.html#55763" class="Function">fundamental-lemma</a> <a id="58788" class="Symbol">{</a><a id="58789" class="Argument">t</a> <a id="58791" class="Symbol">=</a> <a id="58793" href="NbE.html#58760" class="Bound">t</a><a id="58794" class="Symbol">}</a> <a id="58796" class="Symbol">(</a><a id="58797" href="NbE.html#57772" class="Function">idââÎ</a> <a id="58803" class="Symbol">{</a><a id="58804" href="NbE.html#58752" class="Bound">Î</a><a id="58805" class="Symbol">})</a>
<a id="58808" class="Symbol">...</a> <a id="58812" class="Symbol">|</a> <a id="58814" href="NbE.html#58814" class="Bound">tââ¦tâ§âÎ</a>
  <a id="58824" class="Keyword">with</a> <a id="58829" href="NbE.html#43233" class="Function">â-==â</a> <a id="58835" href="NbE.html#58814" class="Bound">tââ¦tâ§âÎ</a> <a id="58843" href="NbE.html#2913" class="InductiveConstructor">â¤-id</a>
<a id="58848" class="Symbol">...</a> <a id="58852" class="Symbol">|</a> <a id="58854" href="NbE.html#58854" class="Bound">t==âáµáµ§â¦tâ§âÎ</a>
  <a id="58868" class="Keyword">rewrite</a> <a id="58876" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="58890" class="Symbol">{</a><a id="58891" class="Argument">t</a> <a id="58893" class="Symbol">=</a> <a id="58895" class="Bound">t</a> <a id="58897" href="NbE.html#10528" class="Function Operator">[</a> <a id="58899" href="NbE.html#11739" class="Function">subst-id</a> <a id="58908" href="NbE.html#10528" class="Function Operator">]</a><a id="58909" class="Symbol">}</a>
        <a id="58919" class="Symbol">|</a> <a id="58921" href="NbE.html#34900" class="Function">[id]-identity</a> <a id="58935" class="Symbol">{</a><a id="58936" class="Argument">t</a> <a id="58938" class="Symbol">=</a> <a id="58940" class="Bound">t</a><a id="58941" class="Symbol">}</a>              <a id="58956" class="Symbol">=</a> <a id="58958" href="NbE.html#58854" class="Bound">t==âáµáµ§â¦tâ§âÎ</a>
</pre>
<h4 class="unnumbered" id="references">References</h4>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-nbe" class="csl-entry" role="listitem">
Abel, Andreas. 2013. <span>âNormalization by Evaluation: Dependent Types
and Impredicativity.â</span> <em>Habilitation.
Ludwig-Maximilians-Universit<span>Ã¤</span>t M<span>Ã¼</span>nchen</em>.
</div>
</div>
</body>
</html>
